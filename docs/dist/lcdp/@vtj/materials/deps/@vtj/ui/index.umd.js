(function(k,ee){typeof exports=="object"&&typeof module<"u"?ee(exports):typeof define=="function"&&define.amd?define(["exports"],ee):(k=typeof globalThis<"u"?globalThis:k||self,ee(k.VtjUI={}))})(this,function(k){"use strict";/**!
 * Copyright (c) 2024, VTJ.PRO All rights reserved.
 * @name @vtj/ui 
 * @author CHC chenhuachun1549@dingtalk.com 
 * @version 0.8.8
 * @license <a href="https://vtj.pro/license.html">MIT License</a>
 */const ee="0.8.8",nt={default:14,small:12,large:18},ot={icon:{type:[String,Object]},color:{type:String},size:{type:[Number,String],default:"inherit"},src:{type:String},background:{type:String},padding:{type:Number},radius:{type:Number}};function j(o){return typeof o=="string"?o:`${o}px`}function te(o=0,e){if(typeof o=="number")return o;if(/(%|vh|vw)$/i.test(o)){const n=Number.parseInt(o);return Math.floor(e*n/100)}return Number.parseInt(o)}function be(o,e={}){const t={...e};return typeof o=="boolean"?t:Object.assign(t,o||{})}const _e=Symbol("INSTALLED_KEY"),ie=Symbol("ADAPTER_KEY");function ut(){return Vue.inject(ie,{})}const sn={install(o,e={}){o.provide(ie,e)}},rt=(o=[])=>({install:(t,n={})=>{t[_e]||(t[_e]=!0,o.forEach(u=>{u.name&&t.component(u.name,u)}),n.adapter&&t.provide(ie,n.adapter))}}),cn=["src"],A=Vue.defineComponent({name:"XIcon",__name:"Icon",props:ot,setup(o){const e=o,t=Vue.useAttrs(),n=Vue.getCurrentInstance(),u=Vue.computed(()=>{if(!e.icon)return null;const l=n?.appContext.app;return typeof e.icon=="object"?Vue.markRaw(e.icon):l?.component(e.icon)||e.icon}),r=Vue.computed(()=>{const l={"is-pointer":!!t.onClick};return!u.value&&e.icon&&(l[e.icon]=!0),l}),s=Vue.computed(()=>({"background-color":e.background,"border-radius":e.radius?j(e.radius):void 0,padding:e.padding?j(e.padding):void 0})),a=Vue.computed(()=>typeof e.size=="number"?e.size:nt[e.size]??void 0);return(l,c)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElIcon),{class:Vue.normalizeClass(["x-icon",r.value]),color:e.color,size:a.value,style:Vue.normalizeStyle(s.value)},{default:Vue.withCtx(()=>[Vue.renderSlot(l.$slots,"default",{},()=>[u.value?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(u.value),{key:0})):Vue.createCommentVNode("",!0),e.src?(Vue.openBlock(),Vue.createElementBlock("img",{key:1,src:e.src},null,8,cn)):Vue.createCommentVNode("",!0)])]),_:3},8,["class","color","size","style"]))}}),dn={class:"x-menu__wrapper"},mn={key:1,class:"x-menu__title"},fn=Vue.createElementVNode("i",null,null,-1),Vn={key:0,class:"x-menu__title"},pn=Vue.createElementVNode("i",null,null,-1),lt=Vue.defineComponent({inheritAttrs:!1,name:"XMenuItem",__name:"MenuItem",props:{item:{},subMenu:{},defaultIcon:{}},setup(o){const e=o,t=Vue.getCurrentInstance(),n=s=>{if(s)return typeof s=="string"&&(t?.appContext.app?.component(s)||e.defaultIcon)||s},u=s=>typeof s=="object"?s:{value:s},r=(s=[])=>s.filter(a=>!a.hidden);return(s,a)=>e.item.children?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElSubMenu),Vue.mergeProps({key:0,disabled:e.item.disabled},e.subMenu,{index:String(e.item.id)}),{title:Vue.withCtx(()=>[Vue.createElementVNode("div",dn,[e.item.icon?(Vue.openBlock(),Vue.createBlock(Vue.unref(A),{key:0,icon:n(e.item.icon)},null,8,["icon"])):Vue.createCommentVNode("",!0),e.item.title?(Vue.openBlock(),Vue.createElementBlock("span",mn,Vue.toDisplayString(e.item.title),1)):Vue.createCommentVNode("",!0),e.item.badge?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElBadge),Vue.mergeProps({key:2,class:"x-menu__badge"},u(e.item.badge)),{default:Vue.withCtx(()=>[fn]),_:1},16)):Vue.createCommentVNode("",!0)])]),default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(r(e.item.children),l=>(Vue.openBlock(),Vue.createBlock(Vue.unref(lt),{key:l.id,item:l,subMenu:e.subMenu,defaultIcon:e.defaultIcon},null,8,["item","subMenu","defaultIcon"]))),128))]),_:1},16,["disabled","index"])):(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElMenuItem),{key:1,index:String(e.item.id),disabled:e.item.disabled},{title:Vue.withCtx(()=>[e.item.title?(Vue.openBlock(),Vue.createElementBlock("span",Vn,Vue.toDisplayString(e.item.title),1)):Vue.createCommentVNode("",!0),e.item.badge?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElBadge),Vue.mergeProps({key:1,class:"x-menu__badge"},u(e.item.badge)),{default:Vue.withCtx(()=>[pn]),_:1},16)):Vue.createCommentVNode("",!0)]),default:Vue.withCtx(()=>[e.item.icon?(Vue.openBlock(),Vue.createBlock(Vue.unref(A),{key:0,icon:n(e.item.icon)},null,8,["icon"])):Vue.createCommentVNode("",!0)]),_:1},8,["index","disabled"]))}}),H=Vue.defineComponent({inheritAttrs:!1,name:"XMenu",__name:"Menu",props:{data:{default:()=>[]},subMenu:{},defaultIcon:{}},emits:["select"],setup(o,{emit:e}){const t=o,n=e,u=Vue.computed(()=>t.data.filter(a=>!a.hidden)),r=(a,l)=>{const c=(i,d=[])=>{for(const V of d){if(V.id.toString()===i.toString())return V;if(V.children?.length){const m=c(i,V.children);if(m)return m}}};return c(l,a)},s=a=>{const l=r(u.value,a);l&&n("select",l)};return(a,l)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElMenu),Vue.mergeProps({class:"x-menu"},a.$attrs,{onSelect:s}),{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(u.value,c=>(Vue.openBlock(),Vue.createBlock(Vue.unref(lt),{item:{...c,icon:c.icon},defaultIcon:t.defaultIcon,subMenu:t.subMenu},null,8,["item","defaultIcon","subMenu"]))),256))]),_:1},16))}}),Be={name:{type:String},label:{type:String},value:{type:[String,Number,Object,Array,Boolean]},icon:{type:[String,Object]},mode:{type:String,default:"button"},menus:{type:Array},tooltip:{type:[String,Object]},badge:{type:[String,Number,Object]},dropdown:{type:Object},button:{type:Object},disabled:{type:[Boolean,Function]},size:{type:String,default:"default"},type:{type:String,default:"primary"},background:{type:String,default:"always"},circle:{type:Boolean},draggable:{type:Boolean}};function gn(o){return Vue.computed(()=>{const e=o.tooltip;if(e)return typeof e=="string"?{content:e}:e})}function hn(o){return Vue.computed(()=>{const e=o.badge;if(e)return typeof e=="object"?e:{value:e}})}function vn(o){return Vue.computed(()=>{const{dropdown:e,menus:t}=o;if(t&&t.length>0)return Object.assign({popperClass:"x-action__menus",size:o.size},e||{})})}function at(o){const e=Vue.getCurrentInstance();return Vue.computed(()=>{const t=Vue.unref(o);if(t)if(typeof t=="string"||t.setup||t.render||Vue.isVNode(t)){const n=e?.appContext.app;return{icon:typeof t=="string"&&n?.component(t)||t}}else return t;return null})}function X(o){const e=at(o);return e.value?Vue.markRaw(Vue.defineComponent({render:()=>Vue.h(A,e.value)})):void 0}function ce(o,e){return Vue.computed(()=>{const t=Vue.unref(o);return typeof t=="function"?t(e):!!t})}function st(o,e,t){const n=Vue.shallowRef(e),u=Vue.ref(!1),r=async a=>{const l=Vue.unref(o);return l?typeof l=="function"?await l(a):l:e},s=async a=>(u.value=!0,await r(a).then(l=>(n.value=l||e,u.value=!1,Vue.unref(n))));return Vue.watch(()=>o,()=>{s(t)},{immediate:!0}),t&&Vue.watch(t,()=>{s(t)}),{data:n,loading:u,loader:s}}const yn={key:0},wn=Vue.defineComponent({__name:"Trigger",props:Be,emits:["click"],setup(o,{emit:e}){const t=o,n=e,u=X(Vue.toRef(t,"icon")),r=ce(Vue.toRef(t,"disabled")),s=Vue.computed(()=>({[`is-${t.mode}`]:!!t.mode,[`is-${t.type}`]:!!t.type,[`is-${t.size}`]:!!t.size&&t.size!=="default",[`is-background-${t.background}`]:t.mode==="icon"&&!!t.background,"is-disabled":!!t.disabled,"is-circle":!!t.circle})),a=l=>{if(l.preventDefault(),!r.value)return n("click"),!1};return(l,c)=>t.mode==="button"?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElButton),Vue.mergeProps({key:0,icon:Vue.unref(u),type:t.type,size:t.size,disabled:Vue.unref(r)},t.button,{onClick:a}),{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(l.label),1)]),_:1},16,["icon","type","size","disabled"])):(Vue.openBlock(),Vue.createElementBlock("div",{key:1,class:Vue.normalizeClass(["x-action__inner",s.value]),onClick:a},[(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(u)))),l.label?(Vue.openBlock(),Vue.createElementBlock("span",yn,Vue.toDisplayString(l.label),1)):Vue.createCommentVNode("",!0)],2))}}),kn=["draggable"],R=Vue.defineComponent({name:"XAction",__name:"Action",props:Be,emits:["click","command","dragstart","dragend"],setup(o,{emit:e}){const t=o,n=Vue.useSlots(),u=e,r=gn(t),s=hn(t),a=vn(t),l=ce(Vue.toRef(t,"disabled")),c=Vue.computed(()=>!!t.draggable&&!l.value),i=Vue.computed(()=>({[`x-action--${t.mode}`]:!!t.mode})),d=()=>{l.value||u("click",Vue.toRaw(t))},V=p=>{if(l.value)return;const h=t.menus?.find(y=>y.command===p);h&&u("command",Vue.toRaw(h))},m=p=>{c&&u("dragstart",Vue.toRaw(t),p)},f=p=>{c&&u("dragend",Vue.toRaw(t),p)},g=p=>Vue.h(ElementPlus.ElBadge,s.value,()=>[].concat(p)),b=p=>Vue.h(ElementPlus.ElDropdown,{...a.value,disabled:l.value,onCommand:V},{default:()=>[p],dropdown:()=>[Vue.h(ElementPlus.ElDropdownMenu,()=>(t.menus||[]).map((h,y)=>Vue.h(ElementPlus.ElDropdownItem,h,()=>n.item?n.item({item:h,index:y}):h.label)))]}),w=p=>Vue.h(ElementPlus.ElTooltip,{...r.value,disabled:l.value},()=>[p]),C=Vue.computed(()=>{let p=Vue.h(Vue.markRaw(wn),{...t,onClick:d});const h=n.default?.();return h&&h.length&&(p=h[0]),s.value&&(p=g(p)),a.value&&(p=b(p)),r.value&&(p=w(p)),p});return(p,h)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:Vue.normalizeClass(["x-action",i.value]),draggable:c.value,onDragstart:m,onDragend:f},[(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(C.value)))],42,kn))}}),it={items:{type:Array},mode:{type:String,default:"button"},size:{type:String,default:"default"},type:{type:String,default:"primary"},background:{type:String,default:"always"},circle:{type:Boolean},disabled:{type:[Boolean,Function]},tooltip:{type:Object},badge:{type:Object},dropdown:{type:Object},button:{type:Object}},ne=Vue.defineComponent({name:"XActionBar",__name:"ActionBar",props:it,emits:["click","command"],setup(o,{emit:e}){const t=o,n=e,u=Vue.computed(()=>(t.items||[]).map(a=>a==="|"?a:{...a,badge:a.badge?{...t.badge,...typeof a.badge=="object"?a.badge||{}:{value:a.badge}}:void 0,tooltip:a.tooltip?{...t.tooltip,...typeof a.tooltip=="object"?a.tooltip||{}:{content:a.tooltip}}:void 0})),r=a=>{n("click",a)},s=(a,l)=>{n("command",a,l)};return(a,l)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(N),{class:"x-action-bar",align:"center"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(u.value,c=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[c==="|"?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElDivider),{key:0,direction:"vertical",class:"x-action-bar__divider"})):(Vue.openBlock(),Vue.createBlock(Vue.unref(R),Vue.mergeProps({key:1,mode:t.mode,size:t.size,type:t.type,circle:t.circle,background:t.background,button:t.button,dropdown:t.dropdown,disabled:Vue.unref(ce)(t.disabled,c).value,ref_for:!0},c,{onClick:r,onCommand:i=>s(c,i)}),null,16,["mode","size","type","circle","background","button","dropdown","disabled","onCommand"]))],64))),256))]),_:1}))}}),ct={tag:{type:String,default:"div"},fit:{type:Boolean,default:!1},width:{type:[String,Number]},height:{type:[String,Number]},flex:{type:Boolean,default:!0},inline:{type:Boolean},direction:{type:String,default:"row"},wrap:{type:String,default:"nowrap"},justify:{type:String,default:"flex-start"},align:{type:String,default:"flex-start"},alignContent:{type:String,default:"stretch"},grow:{type:Boolean,default:!1},shrink:{type:Boolean,default:!1},alignSelf:{type:String,default:"auto"},overflow:{type:String},padding:{type:Boolean,default:!1},gap:{type:Boolean},autoPointer:{type:Boolean}},N=Vue.defineComponent({name:"XContainer",__name:"Container",props:ct,setup(o){const e=o,t=Vue.useAttrs(),n=Vue.getCurrentInstance(),u=Vue.computed(()=>{const a=n?.parent;if(!a)return!1;const l=a.proxy;return l.$options.name==="XContainer"||!!l.flex}),r=Vue.computed(()=>({"is-fit":e.fit,"is-flex":e.flex&&!e.inline,"is-inline-flex":e.flex&&e.inline,[`is-direction-${e.direction}`]:e.flex&&e.direction!=="row",[`is-wrap-${e.wrap}`]:e.flex&&e.wrap!=="nowrap",[`is-justify-${e.justify}`]:e.flex&&e.justify!=="flex-start",[`is-align-${e.align}`]:e.flex&&e.align!=="flex-start",[`is-align-content-${e.alignContent}`]:e.flex&&e.alignContent!=="stretch","is-grow":e.grow??u.value,"is-shrink":e.shrink,[`is-align-self-${e.alignSelf}`]:u.value&&e.alignSelf!=="auto",[`is-overflow-${e.overflow}`]:!!e.overflow,"is-padding":!!e.padding,"is-pointer":e.autoPointer&&!!t.onClick,"is-gap":!!e.gap})),s=Vue.computed(()=>{const{width:a,height:l,fit:c}=e;return c?null:{width:a?j(a):void 0,height:l?j(l):void 0}});return(a,l)=>(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(e.tag),{class:Vue.normalizeClass(["x-container",r.value]),style:Vue.normalizeStyle(s.value)},{default:Vue.withCtx(()=>[Vue.renderSlot(a.$slots,"default")]),_:3},8,["class","style"]))}}),dt={size:{type:String,default:"default"},content:{type:String,default:""},subtitle:{type:String},icon:{type:[String,Object]},border:{type:Boolean},more:{type:Boolean}},Cn={class:"x-header__content"},bn={key:0,class:"x-header__actions"},Ee=Vue.defineComponent({name:"XHeader",inheritAttrs:!1,__name:"Header",props:dt,setup(o){const e=o,t=X(Vue.toRef(e,"icon")),n=Vue.useAttrs(),u=Vue.computed(()=>({[`is-size-${e.size}`]:!!e.size&&e.size!=="default","is-border":e.border,"is-pointer":!!n.onClick}));return(r,s)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(N),{class:Vue.normalizeClass(["x-header",u.value]),justify:"space-between",align:"center"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(N),{align:"center",class:Vue.normalizeClass(["x-header__wrapper",u.value]),grow:"",onClick:Vue.unref(n).onClick},{default:Vue.withCtx(()=>[Vue.unref(t)?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(t)),{key:0,class:"x-header__icon",onClick:Vue.unref(n).onClickIcon||Vue.unref(n).onClick},null,8,["onClick"])):Vue.createCommentVNode("",!0),Vue.createElementVNode("span",Cn,[Vue.renderSlot(r.$slots,"default",{},()=>[Vue.createTextVNode(Vue.toDisplayString(e.content),1)])]),e.more?(Vue.openBlock(),Vue.createBlock(Vue.unref(A),{key:1,class:"x-header__more",icon:Vue.unref(VtjIcons.ArrowRight)},null,8,["icon"])):Vue.createCommentVNode("",!0),e.subtitle||r.$slots.subtitle?(Vue.openBlock(),Vue.createElementBlock("span",{key:2,class:"x-header__subtitle",onClick:s[0]||(s[0]=(...a)=>Vue.unref(n).onClick&&Vue.unref(n).onClick(...a))},[Vue.renderSlot(r.$slots,"subtitle",{},()=>[Vue.createTextVNode(Vue.toDisplayString(e.subtitle),1)])])):Vue.createCommentVNode("",!0)]),_:3},8,["class","onClick"]),r.$slots.actions?(Vue.openBlock(),Vue.createElementBlock("div",bn,[Vue.renderSlot(r.$slots,"actions")])):Vue.createCommentVNode("",!0)]),_:3},8,["class"]))}}),mt={fit:{type:Boolean,default:!1},width:{type:[String,Number]},height:{type:[String,Number]},border:{type:Boolean,default:!0},radius:{type:Boolean,default:!0},card:{type:Boolean},size:{type:String},shadow:{type:String},header:{type:[String,Object]},body:{type:Object},footer:{type:Object}},Y=Vue.defineComponent({name:"XPanel",__name:"Panel",props:mt,setup(o,{expose:e}){const t=o,n=Vue.ref(),u=Vue.computed(()=>({"x-panel--card":!!t.card,"x-panel--default":!t.card,[`is-${t.size}`]:!!t.size&&t.size!=="default","is-border":!!t.border,"is-radius":!!t.radius,[`is-shadow-${t.shadow}`]:!!t.shadow&&t.shadow!=="none"})),r=Vue.computed(()=>t.header===null?null:typeof t.header=="string"?{content:t.header,size:t.size}:{...t.header,size:t.size}),s=Vue.computed(()=>t.fit||t.height?"auto":void 0);return e({bodyRef:n}),(a,l)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(N),{class:Vue.normalizeClass(["x-panel",u.value]),direction:"column",fit:t.fit,width:t.width,height:t.height},{default:Vue.withCtx(()=>[r.value?(Vue.openBlock(),Vue.createBlock(Vue.unref(N),{key:0,flex:!1,class:"x-panel__header"},{default:Vue.withCtx(()=>[Vue.renderSlot(a.$slots,"header",{},()=>[Vue.createVNode(Vue.unref(Ee),Vue.normalizeProps(Vue.guardReactiveProps(r.value)),{default:Vue.withCtx(()=>[Vue.renderSlot(a.$slots,"title")]),actions:Vue.withCtx(()=>[Vue.renderSlot(a.$slots,"actions")]),_:3},16)])]),_:3})):Vue.createCommentVNode("",!0),Vue.createVNode(Vue.unref(N),Vue.mergeProps({ref_key:"bodyRef",ref:n,flex:!1,overflow:s.value,grow:"",padding:"",class:"x-panel__body"},t.body),{default:Vue.withCtx(()=>[Vue.renderSlot(a.$slots,"default")]),_:3},16,["overflow"]),a.$slots.footer?(Vue.openBlock(),Vue.createBlock(Vue.unref(N),Vue.mergeProps({key:1,flex:!1,padding:"",class:"x-panel__footer"},t.footer),{default:Vue.withCtx(()=>[Vue.renderSlot(a.$slots,"footer")]),_:3},16)):Vue.createCommentVNode("",!0)]),_:3},8,["class","fit","width","height"]))}}),ft="user-select-none";class xe{constructor(e,t={}){this.el=e,this.options=t,this.scope=Vue.effectScope(),this.scope.run(()=>{this.init()})}scope;dragging=!1;getHandle(){const{selector:e,handle:t}=this.options;return e?this.el.querySelector(e):t}getTarget(){const{target:e="body"}=this.options;return typeof e=="string"?document.querySelector(e):Vue.unref(e)||document.body}init(){const{el:e,options:t}=this,{disabled:n,delay:u=150,onStart:r,onEnd:s}=t;if(n)return;let a=null;const l=this.getHandle(),c=this.getTarget();let i=e.getBoundingClientRect(),d=null;const{x:V,y:m}=VueUse.useDraggable(e,{initialValue:{x:i.x,y:i.y},...t,handle:l,onStart:(f,g)=>{document.body.classList.add(ft),clearTimeout(a),a=setTimeout(()=>{this.dragging=!0,i=e.getBoundingClientRect(),d=c?.getBoundingClientRect(),r&&r(f,g)},u)},onEnd:(f,g)=>{if(clearTimeout(a),document.body.classList.remove(ft),this.dragging&&d){this.dragging=!1;const{x:b,y:w}=f,C=this.getPosition(d,i,b,w);s&&s(C,g),d=null}}});Vue.watch([V,m],()=>{if(this.dragging&&d){const f=this.getPosition(d,i,V.value,m.value);e.style.left=`${f.x}px`,e.style.top=`${f.y}px`}})}getPosition(e,t,n,u){const{edge:r=50}=this.options,s=-t.width+r,a=e.width-r,l=0,c=e.height-r,i=Math.min(a,Math.max(n,s)),d=Math.min(c,Math.max(u,l));return{x:i,y:d}}destory(){this.scope.stop()}}const Vt={mounted(o,e){const t=e.value||{},n=new xe(o,t);o.__draggable__=n},updated(o,e){const t=e.value||{};let n=o.__draggable__;n&&!VtjUtils.isEqual(n.options,t)&&(n.destory(),o.__draggable__=new xe(o,t))},unmounted(o){const e=o.__draggable__;e&&(e.destory(),o.__draggable__=null)}},Se="user-select-none";class Ne{constructor(e,t={}){this.el=e,this.options=t,this.scope=Vue.effectScope(),this.scope.run(()=>{this.init()})}scope;resizing=Vue.ref(!1);direction=Vue.ref("");MIE=null;cleanMousedown;cleanMouseup;init(){const{el:e,options:t}=this,{disabled:n,onStart:u,onEnd:r}=t;if(n)return;this.MIE=VueUse.useMouseInElement(e),this.cleanMousedown=VueUse.useEventListener(document,"mousedown",()=>{this.direction?.value&&this.MIE&&(this.resizing.value=!0,e.classList.add("is-resizing",`is-${this.direction.value}-resizing`),u&&u(this.direction.value,this.MIE))}),this.cleanMouseup=VueUse.useEventListener(document,"mouseup",()=>{this.resizing.value&&this.direction?.value&&this.MIE&&(e.classList.remove("is-resizing",`is-${this.direction.value}-resizing`),r&&r(this.direction.value,this.MIE)),this.resizing.value=!1}),Vue.watch(this.direction,l=>{const c=document.body;c.style.cursor=l?`${l}-resize`:"",l?c.classList.add(Se):c.classList.remove(Se)});const{x:s,y:a}=this.MIE;Vue.watch([s,a],()=>{this.resizing.value?this.resize():this.direction.value=this.getDirection()})}resize(){const{MIE:e,direction:t,resizing:n,options:u,el:r}=this,s=t?.value||"";if(!e||!n.value||!s)return;const{x:a,y:l,elementX:c,elementY:i,elementHeight:d,elementWidth:V}=e,{onResizing:m}=u,{minWidth:f=0,minHeight:g=0,maxWidth:b=99999,maxHeight:w=99999}=u;if(s.includes("e")){const C=Math.min(Math.max(c.value,f),b);r.style.width=`${C}px`}if(s.includes("s")){const C=Math.min(Math.max(i.value,g),w);r.style.height=`${C}px`}if(s.includes("w")){const C=Math.min(Math.max(V.value-c.value,f),b);r.style.width=`${C}px`,r.style.left=`${a.value}px`}if(s.includes("n")){const C=Math.min(Math.max(d.value-i.value,g),w);this.el.style.height=`${C}px`,this.el.style.top=`${l.value}px`}m&&m(s,e)}getDirection(){if(!this.MIE)return"";const{elementX:e,elementY:t,elementHeight:n,elementWidth:u,isOutside:r}=this.MIE;if(r.value)return"";const{dirs:s=["n","s","w","e"],edge:a=5}=this.options;let l="";return s.includes("n")&&t.value<=a?l+="n":s.includes("s")&&t.value>n.value-a&&(l+="s"),s.includes("w")&&e.value<=a?l+="w":s.includes("e")&&e.value>u.value-a&&(l+="e"),l}destory(){const e=document.body;e.style.cursor="",e.classList.remove(Se),this.cleanMousedown&&this.cleanMousedown(),this.cleanMouseup&&this.cleanMouseup(),this.MIE?.stop(),this.scope.stop()}}const Pe={mounted(o,e){const t=e.value||{},n=new Ne(o,t);o.__resizable__=n},updated(o,e){const t=e.value||{};let n=o.__resizable__;n&&!VtjUtils.isEqual(n.options,t)&&(n.destory(),o.__resizable__=new Ne(o,t))},unmounted(o){const e=o.__resizable__;e&&(e.destory(),o.__resizable__=null)}},pt={modelValue:{type:Boolean,default:!0},title:{type:String},subtitle:{type:String},icon:{type:[String,Object]},size:{type:String,default:"default"},width:{type:[Number,String],default:"70%"},height:{type:[Number,String],default:"70%"},left:{type:[Number,String]},top:{type:[Number,String]},modal:{type:Boolean,default:!0},draggable:{type:[Boolean,Object],default:!0},resizable:{type:[Boolean,Object]},closable:{type:Boolean,default:!0},maximizable:{type:Boolean,default:!1},minimizable:{type:Boolean,default:!1},mode:{type:String,default:"normal"},content:{type:Object},src:{type:String},componentInstance:{type:Object},beforeClose:{type:Function},submit:{type:[Boolean,String]},cancel:{type:[Boolean,String]},bodyPadding:{type:Boolean,default:!0},primary:{type:Boolean}};let G=1e3;function _n(o,e){const{width:t,height:n}=VueUse.useElementSize(e),u=Vue.reactive({mode:o.mode||"normal",wrapperWidth:0,wrapperHeight:0,width:0,height:0,top:0,left:0,zIndex:++G,dragging:!1,resizing:!1});return Vue.watch([t,n],([r,s])=>{u.wrapperWidth=r,u.wrapperHeight=s,u.width=te(o.width,r),u.height=te(o.height,s),u.left=o.left?te(o.left,r)-u.width/2:Math.max(Math.floor((r-u.width)/2),0),u.top=o.top?te(o.top,s):Math.max(Math.floor((s-u.height)/2),0)}),Vue.watch(u,r=>{G=Math.max(r.zIndex,G)}),{state:u,normal:Vue.computed(()=>u.mode==="normal"),maximized:Vue.computed(()=>u.mode==="maximized"),minimized:Vue.computed(()=>u.mode==="minimized")}}function Bn(o,e){const t=Vue.computed(()=>{const{width:s,height:a,top:l,left:c,zIndex:i}=e;return{width:`${s}px`,height:`${a}px`,top:`${l}px`,left:`${c}px`,zIndex:i}}),n=Vue.computed(()=>({[`is-${e.mode}`]:!!e.mode,"is-draggable":!!o.draggable,"is-resizable":!!o.resizable,"is-primary":!!o.primary})),u=Vue.computed(()=>({[`is-${e.mode}`]:!!e.mode,"is-dragging":e.dragging,"is-resizing":e.resizing})),r=Vue.computed(()=>({zIndex:e.zIndex}));return{styles:t,classes:n,wrapperClass:u,modalStyle:r}}function En(o,e,t){const n=i=>{e.mode=i,["maximized","minimized","normal"].includes(i)&&t(i),t("modeChange",i)},u=async()=>{(!o.beforeClose||await o.beforeClose())&&(t("update:modelValue",!1),t("close"),t("destroy"))};return{close:u,changeMode:n,show:()=>n("normal"),hide:()=>n("minimized"),active:i=>{const d=i.target.nodeName||"";["INPUT","TEXTAREA","RADIO","CHECKBOX"].includes(d.toUpperCase())||(e.zIndex=Math.max(e.zIndex,++G))},submit:()=>t("submit"),cancel:()=>{t("cancel"),u()}}}function xn(o,e,t,n){return Vue.computed(()=>{const u=typeof o.draggable=="boolean"?!o.draggable:!!o.draggable?.disabled;return{...VtjUtils.isObject(o.draggable)?o.draggable:{},disabled:u,target:n,selector:".x-panel__header",onStart(r){e.dragging=!0,e.zIndex=Math.max(e.zIndex,++G),t("dragStart",r)},onMove(r){t("dragging",r)},onEnd(r){if(e.mode==="maximized")return;const{x:s,y:a}=r;e.left=s,e.top=a,e.dragging=!1,t("dragEnd",r)}}})}function Sn(o,e,t){return Vue.computed(()=>{const n=typeof o.resizable=="boolean"?!o.resizable:!!o.resizable?.disabled;return{minWidth:200,minHeight:150,...VtjUtils.isObject(o.resizable)?o.resizable:{},disabled:n,dirs:["e","s","w"],onStart(u,r){e.resizing=!0,e.zIndex=Math.max(e.zIndex,++G),t("resizeStart",u,r)},onResizing(u,r){t("resizing",u,r)},onEnd(u,r){e.left=r.elementPositionX.value,e.top=r.elementPositionY.value,e.width=r.elementWidth.value,e.height=r.elementHeight.value,e.resizing=!1,t("resizeEnd",u,r)}}})}function Nn(o,e){const t=o.componentInstance;if(!t)return;let n=null;return Vue.onMounted(()=>{const u=Vue.unref(e),r=Vue.unref(u?.bodyRef);n=t.$el,r&&r.$el&&r.$el.appendChild(n)}),Vue.onUnmounted(()=>{n&&n.parentNode&&n.parentNode.removeChild(n)}),{componentInstance:t}}const Pn=["src"],de=Vue.defineComponent({name:"XDialog",__name:"Dialog",props:pt,emits:["update:modelValue","open","close","destroy","maximized","minimized","normal","modeChange","dragStart","dragging","dragEnd","resizeStart","resizeEnd","resizing","submit","cancel"],setup(o,{expose:e,emit:t}){const n=o,u=t,r=Vue.getCurrentInstance(),s=Vue.ref(),a=Vue.ref(),{state:l,maximized:c,minimized:i,normal:d}=_n(n,s),{styles:V,classes:m,wrapperClass:f,modalStyle:g}=Bn(n,l),{changeMode:b,active:w,close:C,show:p,hide:h,submit:y,cancel:x}=En(n,l,u),v=xn(n,l,u,s),P=Sn(n,l,u),z=Nn(n,a);Vue.watchEffect(async()=>{n.modelValue&&(await Vue.nextTick(),r&&u("open",r))});const I=Vue.computed(()=>a.value?.$el);return e({$vtjEl:I,panelRef:a,state:l,maximized:c,minimized:i,changeMode:b,show:p,hide:h,submit:y,cancel:x,close:C,componentInstance:z}),(T,M)=>n.modelValue?(Vue.openBlock(),Vue.createBlock(Vue.Teleport,{key:0,to:"body"},[Vue.createElementVNode("div",{ref_key:"wrapper",ref:s,class:Vue.normalizeClass(["x-dialog__wrapper",Vue.unref(f)])},[n.modal?(Vue.openBlock(),Vue.createElementBlock("div",{key:0,class:"x-dialog__modal",style:Vue.normalizeStyle(Vue.unref(g))},null,4)):Vue.createCommentVNode("",!0),Vue.withDirectives((Vue.openBlock(),Vue.createBlock(Vue.unref(Y),Vue.mergeProps({ref_key:"panelRef",ref:a,class:["x-dialog",Vue.unref(m)],card:"",shadow:"always",header:{icon:n.icon,subtitle:n.subtitle},width:"800px",height:"600px",footer:{justify:"space-between",flex:!0,align:"center"},style:Vue.unref(V),size:n.size,body:{padding:n.bodyPadding},onClick:Vue.unref(w)},T.$attrs),Vue.createSlots({title:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(n.title),1)]),actions:Vue.withCtx(()=>[Vue.renderSlot(T.$slots,"actions"),n.minimizable?(Vue.openBlock(),Vue.createBlock(Vue.unref(R),{key:0,icon:Vue.unref(VtjIcons.Minimize),size:n.size,mode:"icon",type:"primary",background:"hover",onClick:M[0]||(M[0]=B=>Vue.unref(b)("minimized"))},null,8,["icon","size"])):Vue.createCommentVNode("",!0),n.maximizable?(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:1},[Vue.unref(d)?(Vue.openBlock(),Vue.createBlock(Vue.unref(R),{key:1,icon:Vue.unref(VtjIcons.Maximize),size:n.size,mode:"icon",type:"primary",background:"hover",onClick:M[2]||(M[2]=B=>Vue.unref(b)("maximized"))},null,8,["icon","size"])):(Vue.openBlock(),Vue.createBlock(Vue.unref(R),{key:0,icon:Vue.unref(VtjIcons.Popup),size:n.size,mode:"icon",type:"primary",background:"hover",onClick:M[1]||(M[1]=B=>Vue.unref(b)("normal"))},null,8,["icon","size"]))],64)):Vue.createCommentVNode("",!0),n.closable?(Vue.openBlock(),Vue.createBlock(Vue.unref(R),{key:2,icon:Vue.unref(VtjIcons.RawClose),size:n.size,mode:"icon",type:"danger",background:"hover",onClick:Vue.unref(C)},null,8,["icon","size","onClick"])):Vue.createCommentVNode("",!0)]),default:Vue.withCtx(()=>[Vue.renderSlot(T.$slots,"default",{},()=>[n.content?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(n.content),{key:0})):Vue.createCommentVNode("",!0),n.src?(Vue.openBlock(),Vue.createElementBlock("iframe",{key:1,src:n.src,class:"x-dialog__frame"},null,8,Pn)):Vue.createCommentVNode("",!0)])]),_:2},[n.cancel||n.submit||T.$slots.footer||T.$slots.extra||T.$slots.handle?{name:"footer",fn:Vue.withCtx(()=>[Vue.renderSlot(T.$slots,"footer",{},()=>[Vue.createVNode(Vue.unref(N),{align:"center"},{default:Vue.withCtx(()=>[Vue.renderSlot(T.$slots,"extra")]),_:3}),Vue.createVNode(Vue.unref(N),{align:"center"},{default:Vue.withCtx(()=>[Vue.renderSlot(T.$slots,"handle"),n.cancel?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElButton),{key:0,type:"default",size:n.size,onClick:Vue.unref(x)},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(typeof n.cancel=="string"?n.cancel:"取消"),1)]),_:1},8,["size","onClick"])):Vue.createCommentVNode("",!0),n.submit?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElButton),{key:1,type:"primary",size:n.size,onClick:Vue.unref(y)},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(typeof n.submit=="string"?n.submit:"确定"),1)]),_:1},8,["size","onClick"])):Vue.createCommentVNode("",!0)]),_:3})])]),key:"0"}:void 0]),1040,["header","class","style","size","body","onClick"])),[[Vue.unref(Vt),Vue.unref(v)],[Vue.unref(Pe),Vue.unref(P)]])],2)])):Vue.createCommentVNode("",!0)}});function me(o,e){const t=document.createElement("div"),n=Vue.createVNode(de,o);n.appContext=e??me._context,Vue.render(n,t);const u=()=>{Vue.render(null,t),t.parentNode?.removeChild(t)};return n.props.onDestroy=()=>{u()},document.body.appendChild(t),{vnode:n,destroy:u}}const zn=Vue.createElementVNode("div",{class:"x-mask-sidebar__helper"},null,-1),Tn=Vue.defineComponent({__name:"Sidebar",props:{collapsed:{type:Boolean}},setup(o){const e=o;return(t,n)=>Vue.withDirectives((Vue.openBlock(),Vue.createBlock(Vue.unref(N),{class:Vue.normalizeClass(["x-mask-sidebar",{"is-collapsed":e.collapsed}]),grow:!1,flex:"",direction:"column"},{default:Vue.withCtx(()=>[Vue.renderSlot(t.$slots,"brand"),Vue.createVNode(Vue.unref(N),{class:"x-mask-sidebar__wrapper",flex:"",grow:"",direction:"column",justify:"space-between",align:"center"},{default:Vue.withCtx(()=>[Vue.renderSlot(t.$slots,"default"),zn]),_:3})]),_:3},8,["class"])),[[Vue.unref(Pe),{dirs:["e"],disabled:e.collapsed,maxWidth:500,minWidth:200}]])}}),In=Vue.defineComponent({__name:"SwitchBar",props:{collasped:{type:Boolean,default:!1},favorite:{type:Boolean,default:!1},keyword:{}},emits:["update:collasped","update:keyword","update:favorite"],setup(o,{emit:e}){const t=o,n=e,u=Vue.ref(!1),r=Vue.ref(""),s=Vue.ref(!1),a=()=>{u.value=!0},l=()=>{r.value="",u.value=!1,n("update:keyword",r.value)},c=()=>{n("update:collasped",!t.collasped)},i=()=>{n("update:keyword",r.value)},d=()=>{n("update:favorite",s.value)};return(V,m)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(N),{class:"x-mask-switch-bar",justify:"space-between",align:"center"},{default:Vue.withCtx(()=>[t.collasped?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(Vue.unref(N),{key:0,class:"x-mask-switch-bar__left",grow:""},{default:Vue.withCtx(()=>[u.value?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElSwitch),{key:0,modelValue:s.value,"onUpdate:modelValue":m[0]||(m[0]=f=>s.value=f),class:"x-mask-switch-bar__switch","active-icon":Vue.unref(VtjIcons.StarFilled),"inactive-icon":Vue.unref(VtjIcons.Menu),onChange:d},null,8,["modelValue","active-icon","inactive-icon"])),u.value?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElInput),{key:1,modelValue:r.value,"onUpdate:modelValue":m[1]||(m[1]=f=>r.value=f),class:"x-mask-switch-bar__input",size:"small",placeholder:"请输入查询关键字",onInput:i,"prefix-icon":Vue.unref(VtjIcons.Search)},{suffix:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(A),{icon:Vue.unref(VtjIcons.Close),onClick:l},null,8,["icon"])]),_:1},8,["modelValue","prefix-icon"])):Vue.createCommentVNode("",!0)]),_:1})),Vue.createVNode(Vue.unref(N),{class:Vue.normalizeClass(["x-mask-switch-bar__right",{"is-collasped":t.collasped}]),flex:"",align:"center",justify:"center"},{default:Vue.withCtx(()=>[!u.value&&!t.collasped?(Vue.openBlock(),Vue.createBlock(Vue.unref(R),{key:0,icon:Vue.unref(VtjIcons.Search),mode:"icon",background:"hover",size:"default",circle:"",onClick:a},null,8,["icon"])):Vue.createCommentVNode("",!0),t.collasped?(Vue.openBlock(),Vue.createBlock(Vue.unref(R),{key:1,icon:Vue.unref(VtjIcons.Expand),mode:"icon",size:"default",background:"hover",onClick:c,circle:""},null,8,["icon"])):Vue.createCommentVNode("",!0),t.collasped?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(Vue.unref(R),{key:2,icon:Vue.unref(VtjIcons.Fold),mode:"icon",size:"default",background:"hover",circle:"",onClick:c},null,8,["icon"]))]),_:1},8,["class"])]),_:1}))}}),Dn=["src"],Mn={key:0},$n=Vue.defineComponent({__name:"Brand",props:{collapsed:{type:Boolean,default:!1},logo:{},title:{},url:{}},setup(o){const e=o,t=VueRouter.useRouter(),n=()=>{e.url&&t.push(e.url)};return(u,r)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(N),{class:Vue.normalizeClass(["x-mask-brand",{"is-collapsed":e.collapsed}]),align:"center"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(N),{class:"x-mask-brand__logo",flex:"",justify:"center",align:"center",onClick:n},{default:Vue.withCtx(()=>[Vue.renderSlot(u.$slots,"logo",{},()=>[e.logo?(Vue.openBlock(),Vue.createElementBlock("img",{key:0,src:e.logo},null,8,Dn)):Vue.createCommentVNode("",!0)])]),_:3}),Vue.createVNode(Vue.unref(N),{class:"x-mask-brand__title",flex:"",align:"center"},{default:Vue.withCtx(()=>[e.title?(Vue.openBlock(),Vue.createElementBlock("span",Mn,[Vue.renderSlot(u.$slots,"title",{},()=>[Vue.createTextVNode(Vue.toDisplayString(e.title),1)])])):Vue.createCommentVNode("",!0)]),_:3})]),_:3},8,["class"]))}}),fe="__favorites__",Ve="__search__",An=Vue.defineComponent({__name:"Menu",props:{collapse:{type:Boolean,default:!1},keyword:{},favorite:{type:Boolean},favorites:{},flatMenus:{},menus:{},active:{}},emits:["select"],setup(o,{emit:e}){const t=o,n=Vue.computed(()=>t.menus||[]),u=e,r=Vue.computed(()=>String(t.active?.id)),s=Vue.computed(()=>[{id:fe,title:"收藏",icon:VtjIcons.Star,children:t.favorites?.length?t.favorites:[{id:fe+"empty",disabled:!0,title:"暂无收藏菜单"}]}]),a=Vue.computed(()=>{const c=(t.keyword||"").trim(),i=c?(t.flatMenus||[]).filter(d=>d.title?.includes(c)):[];return[{id:Ve,title:"搜索",icon:VtjIcons.Search,children:i?.length?i:[{id:Ve+"empty",disabled:!0,title:"查询匹配不到菜单项"}]}]}),l=c=>{u("select",c)};return(c,i)=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.withDirectives(Vue.createVNode(Vue.unref(N),{class:"x-mask-menu",grow:"",flex:!1,overflow:"auto"},{default:Vue.withCtx(()=>[Vue.withDirectives(Vue.createVNode(Vue.unref(H),{subMenu:{popperClass:"x-mask-menu-popper",teleported:!0,showTimeout:200,hideTimeout:200},data:n.value,"default-icon":Vue.unref(VtjIcons.Document),collapse:!0,"collapse-transition":!1,"default-active":r.value,onSelect:l},null,8,["data","default-icon","default-active"]),[[Vue.vShow,t.collapse]]),Vue.withDirectives(Vue.createVNode(Vue.unref(H),{subMenu:{popperClass:"x-mask-menu-popper",teleported:!0},data:n.value,"default-icon":Vue.unref(VtjIcons.Document),collapse:!1,"collapse-transition":!1,"default-active":r.value,onSelect:l},null,8,["data","default-icon","default-active"]),[[Vue.vShow,!t.collapse]]),n.value.length?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElEmpty),{key:0,description:"暂无菜单数据"}))]),_:1},512),[[Vue.vShow,!t.favorite&&!t.keyword]]),Vue.withDirectives(Vue.createVNode(Vue.unref(N),{class:"x-mask-menu",grow:"",flex:!1,overflow:"auto"},{default:Vue.withCtx(()=>[Vue.withDirectives(Vue.createVNode(Vue.unref(H),{class:"x-mask-menu__favorites",subMenu:{popperClass:"x-mask-menu-popper",teleported:!0,showTimeout:200,hideTimeout:200},data:s.value,"default-icon":Vue.unref(VtjIcons.Document),collapse:!0,"collapse-transition":!1,"default-active":r.value,"default-openeds":[fe],onSelect:l},null,8,["data","default-icon","default-active","default-openeds"]),[[Vue.vShow,t.collapse]]),Vue.withDirectives(Vue.createVNode(Vue.unref(H),{class:"x-mask-menu__favorites",subMenu:{popperClass:"x-mask-menu-popper",teleported:!0,showTimeout:200,hideTimeout:200},data:s.value,"default-icon":Vue.unref(VtjIcons.Document),collapse:!1,"collapse-transition":!1,"default-active":r.value,"default-openeds":[fe],onSelect:l},null,8,["data","default-icon","default-active","default-openeds"]),[[Vue.vShow,!t.collapse]])]),_:1},512),[[Vue.vShow,t.favorite&&!t.keyword]]),t.keyword?Vue.withDirectives((Vue.openBlock(),Vue.createBlock(Vue.unref(N),{key:0,class:"x-mask-menu",grow:"",flex:!1,overflow:"auto"},{default:Vue.withCtx(()=>[Vue.withDirectives(Vue.createVNode(Vue.unref(H),{class:"x-mask-menu__search",subMenu:{popperClass:"x-mask-menu-popper",teleported:!0,showTimeout:200,hideTimeout:200},data:a.value,"default-icon":Vue.unref(VtjIcons.Document),collapse:!0,"collapse-transition":!1,"default-active":r.value,"default-openeds":[Ve],onSelect:l},null,8,["data","default-icon","default-active","default-openeds"]),[[Vue.vShow,t.collapse]]),Vue.withDirectives(Vue.createVNode(Vue.unref(H),{class:"x-mask-menu__search",subMenu:{popperClass:"x-mask-menu-popper",teleported:!0,showTimeout:200,hideTimeout:200},data:a.value,"default-icon":Vue.unref(VtjIcons.Document),collapse:!1,"collapse-transition":!1,"default-active":r.value,"default-openeds":[Ve],onSelect:l},null,8,["data","default-icon","default-active","default-openeds"]),[[Vue.vShow,!t.collapse]])]),_:1},512)),[[Vue.vShow,!!t.keyword]]):Vue.createCommentVNode("",!0)],64))}}),Rn="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1711803009570'%20class='icon'%20viewBox='0%200%201280%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='1500'%20width='320'%20height='256'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cpath%20d='M557.85%201023l-122-35.4c-12.8-3.6-20-17-16.4-29.8L692.45%2017.4c3.6-12.8%2017-20%2029.8-16.4l122%2035.4c12.8%203.6%2020%2017%2016.4%2029.8L587.65%201006.6c-3.8%2012.8-17%2020.2-29.8%2016.4z%20m-228-224.4l87-92.8c9.2-9.8%208.6-25.4-1.6-34.4L234.05%20512l181.2-159.4c10.2-9%2011-24.6%201.6-34.4l-87-92.8c-9-9.6-24.2-10.2-34-1L7.65%20494.4c-10.2%209.4-10.2%2025.6%200%2035l288.2%20270.2c9.8%209.2%2025%208.8%2034-1z%20m654.4%201.2l288.2-270.2c10.2-9.4%2010.2-25.6%200-35L984.25%20224.2c-9.6-9-24.8-8.6-34%201L863.25%20318c-9.2%209.8-8.6%2025.4%201.6%2034.4L1046.05%20512l-181.2%20159.4c-10.2%209-11%2024.6-1.6%2034.4l87%2092.8c9%209.8%2024.2%2010.2%2034%201.2z'%20fill='%230157fe'%20p-id='1501'%3e%3c/path%3e%3c/svg%3e",gt=140,ht={logo:{type:String,default:Rn},title:{type:String,default:"VTJ.PRO"},menus:{type:[Array,Function],default(){return[]}},favorites:{type:[Array,Function],default(){return[]}},menuAdapter:{type:Function},home:{type:[String,Object],default:"/"},tabs:{type:Number,default:20},actions:{type:Array},avatar:{type:String},theme:{type:Boolean},disabled:{type:Boolean},addFavorite:{type:Function},removeFavorite:{type:Function}},ze=Symbol(),Te=Symbol(),jn={class:"x-mask-tabs__trigger"},Fn={key:1},Ln=["onDragstart","onDragend"],Un={key:1},Hn=Vue.defineComponent({__name:"Tabs",props:{tabs:{},home:{},isActiveTab:{type:Function},value:{},favorites:{}},emits:["click","remove","refresh","toggleFavorite","dialog"],setup(o,{emit:e}){const t=o,n=e,u=i=>{const d=!!t.favorites.find(V=>V===i.menu||V.id===i.menu?.id);return[{icon:VtjIcons.Refresh,label:"刷新",name:"refresh",value:i},"|",{icon:d?VtjIcons.StarFilled:VtjIcons.Star,label:"收藏",name:"favorite",value:i.menu,disabled:!i.menu},"|",{icon:VtjIcons.CopyDocument,label:"弹窗",name:"dialog",value:i}]},r=i=>{const d=i.paneName;if(d===t.home.id){n("click",t.home);return}const V=t.tabs.find(m=>m.id===d);V&&n("click",V)},s=i=>{const d=t.tabs.find(V=>V.id===i);d&&n("remove",d)},a=i=>{switch(i.name){case"refresh":n("refresh",i.value);break;case"favorite":n("toggleFavorite",i.value);break;case"dialog":n("dialog",i.value);break}},l=(i,d)=>{d.dataTransfer&&(d.dataTransfer.setData("tab",i.id),d.target&&d.target.classList.add("is-dagging"))},c=(i,d)=>{d.target&&d.target.classList.remove("is-dagging")};return(i,d)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(N),{ref:"tabsRef",class:"x-mask-tabs",height:"100%",grow:"",flex:"",justify:"flex-end",direction:"column"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElTabs),{type:"card","model-value":t.value,onTabRemove:s,onTabClick:r},{default:Vue.withCtx(()=>[t.home?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElTabPane),{key:0,name:t.home.id},{label:Vue.withCtx(()=>[Vue.createElementVNode("div",jn,[t.home.icon?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(X)(t.home.icon)),{key:0})):Vue.createCommentVNode("",!0),t.home.title?(Vue.openBlock(),Vue.createElementBlock("span",Fn,Vue.toDisplayString(t.home.title),1)):Vue.createCommentVNode("",!0)])]),_:1},8,["name"])):Vue.createCommentVNode("",!0),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(t.tabs,V=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElTabPane),{key:V.id,name:V.id,lazy:"",closable:""},{label:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElPopover),{"open-delay":500,placement:"bottom",trigger:"hover",width:"200px",disabled:V.id!==t.value},{reference:Vue.withCtx(()=>[Vue.createElementVNode("div",{class:"x-mask-tabs__trigger",draggable:"true",onDragstart:m=>l(V,m),onDragend:m=>c(V,m)},[V.icon?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(X)(V.icon)),{key:0})):Vue.createCommentVNode("",!0),V.title?(Vue.openBlock(),Vue.createElementBlock("span",Un,Vue.toDisplayString(V.title),1)):Vue.createCommentVNode("",!0)],40,Ln)]),default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ne),{items:u(V),mode:"text",size:"small",type:"info",onClick:a},null,8,["items"])]),_:2},1032,["disabled"])]),_:2},1032,["name"]))),128))]),_:1},8,["model-value"])]),_:1},512))}}),On=Vue.defineComponent({__name:"ThemeSwitch",setup(o){const e=VueUse.useDark();return(t,n)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElSwitch),{class:"x-mask-theme-switch",modelValue:Vue.unref(e),"onUpdate:modelValue":n[0]||(n[0]=u=>Vue.isRef(e)?e.value=u:null),size:"default","active-action-icon":Vue.unref(VtjIcons.Moon),"inactive-action-icon":Vue.unref(VtjIcons.Sunny)},null,8,["modelValue","active-action-icon","inactive-action-icon"]))}}),Kn={class:"x-mask-toolbar__menu-item"},Xn=Vue.defineComponent({__name:"Toolbar",props:{tabs:{default:()=>[]},actions:{},theme:{type:Boolean}},emits:["closeOtherTabs","closeAllTabs","closeTab","clickTab","actionClick","actionCommand"],setup(o,{emit:e}){const t=o,n=e,u=Vue.computed(()=>{const c=t.tabs.map((i,d)=>({divided:d===0,label:i.title,command:i}));return[{label:"关闭其他",command:"other"},{label:"关闭全部",command:"all"},...c]}),r=c=>{n("closeTab",c.command)},s=c=>{switch(c.command){case"all":n("closeAllTabs");break;case"other":n("closeOtherTabs");break;default:n("clickTab",c.command);break}},a=c=>{n("actionClick",c)},l=(c,i)=>{n("actionCommand",c,i)};return(c,i)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(N),{class:"x-mask-toolbar",align:"center"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(R),{icon:Vue.unref(VtjIcons.MoreFilled),menus:u.value,dropdown:{size:"small"},mode:"icon",circle:"",background:"hover",onCommand:s},{item:Vue.withCtx(({item:d})=>[Vue.createElementVNode("span",Kn,[Vue.createTextVNode(Vue.toDisplayString(d.label)+" ",1),["other","all"].includes(d.command)?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(Vue.unref(A),{key:0,onClick:Vue.withModifiers(V=>r(d),["stop"]),icon:Vue.unref(VtjIcons.Close)},null,8,["onClick","icon"]))])]),_:1},8,["icon","menus"]),Vue.createVNode(Vue.unref(ElementPlus.ElDivider),{direction:"vertical"}),t.actions?(Vue.openBlock(),Vue.createBlock(Vue.unref(ne),{key:0,circle:"",mode:"icon",size:"default",background:"hover",items:c.actions,onClick:a,onCommand:l},null,8,["items"])):Vue.createCommentVNode("",!0),t.actions?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElDivider),{key:1,direction:"vertical"})):Vue.createCommentVNode("",!0),t.theme?(Vue.openBlock(),Vue.createBlock(On,{key:2})):Vue.createCommentVNode("",!0),t.theme?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElDivider),{key:3,direction:"vertical"})):Vue.createCommentVNode("",!0),Vue.renderSlot(c.$slots,"default")]),_:3}))}}),Yn=Vue.defineComponent({__name:"Avatar",props:{avatar:{}},setup(o){const e=o;return(t,n)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElPopover),{width:200,"popper-class":"x-mask-avatar__popper",disabled:!t.$slots.default},{reference:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElAvatar),{class:"x-mask-avatar",shape:"circle",icon:Vue.unref(VtjIcons.UserFilled),src:e.avatar,size:26},null,8,["icon","src"])]),default:Vue.withCtx(()=>[t.$slots.default?Vue.renderSlot(t.$slots,"default",{key:0}):Vue.createCommentVNode("",!0)]),_:3},8,["disabled"]))}}),vt=Vue.defineComponent({__name:"Content",props:{createView:{type:Function},exclude:{}},setup(o){const e=o;return(t,n)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(N),{class:"x-mask__content",flex:!1,grow:"",padding:!1},{default:Vue.withCtx(()=>[Vue.renderSlot(t.$slots,"default"),Vue.createVNode(Vue.unref(VueRouter.RouterView),null,{default:Vue.withCtx(({Component:u,route:r})=>[(Vue.openBlock(),Vue.createBlock(Vue.KeepAlive,{exclude:e.exclude},[u?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(e.createView(u,r)),{key:r.fullPath})):Vue.createCommentVNode("",!0)],1032,["exclude"]))]),_:1})]),_:3}))}});function Gn(){const o=Vue.ref(!1),e=Vue.ref(""),t=Vue.ref(!1);return{collapsed:o,keyword:e,favorite:t}}function Wn(o){const e=VtjUtils.uid();return Vue.computed(()=>{const t=o.home;return Object.assign({id:e,url:"/",name:"MaskHome",icon:VtjIcons.HomeFilled,closable:!1},typeof t=="string"?{url:t}:t||{})})}function yt(o,e){let t=[];return o.forEach(n=>{n=e?e(n):n,n.children?t=t.concat(yt(n.children,e)):t.push(n)}),t}function Jn(o,e){const t=VueRouter.useRouter(),n=Vue.shallowRef([]),u=Vue.shallowRef([]),r=Vue.computed(()=>yt(n.value,o.menuAdapter)),s=Vue.computed(()=>VtjUtils.arrayToMap(r.value,"id")),a=Vue.ref(null),l=f=>{const g=typeof f=="object"?f.id:f,b=s.value.get(g);if(!b){console.warn("找不到菜单",f);return}const{type:w="route",url:C,title:p,icon:h}=b;if(!C){a.value=b,e("select",b);return}if(w==="route"){VtjUtils.isUrl(C)||C.startsWith("//")?window.open(C):(a.value=b,t.push(C).catch(y=>y));return}if(w==="window"){window.open(C);return}w==="dialog"&&me({resizable:!0,bodyPadding:!1,width:"80%",height:"80%",title:p,icon:h,src:C})},c=async()=>{n.value=typeof o.menus=="function"?await o.menus()||[]:o.menus??[],u.value=typeof o.favorites=="function"?await o.favorites()||[]:o.favorites??[]},i=f=>{u.value=[f,...u.value],o.addFavorite&&o.addFavorite(f)},d=f=>{u.value=u.value.filter(g=>g.id!==f.id),o.removeFavorite&&o.removeFavorite(f)},V=f=>!!u.value.find(g=>g===f||g.id===f.id),m=f=>{V(f)?d(f):i(f)};return Vue.watchEffect(c),{menus:n,favorites:u,flatMenus:r,active:a,select:l,toggleFavorite:m}}function qn(o,e,t,n,u){const r=VueRouter.useRoute(),s=VueRouter.useRouter(),a={},l=Vue.ref([]),c=Vue.ref(),{width:i}=VueUse.useElementSize(c),d=Vue.computed(()=>Math.floor(i.value/gt)),V=Vue.computed(()=>l.value.slice(0,d.value).filter(E=>!E.dialog)),m=Vue.computed(()=>l.value.slice(d.value)),f=E=>t.value.find(_=>_.url===E),g=E=>r.fullPath===E.url,b=E=>u.value.id===E?u.value:l.value.find(_=>_.id===E),w=Vue.ref(""),C=Vue.computed(()=>b(w.value)),p=E=>{s.push(E.url).catch(_=>_)},h=E=>{w.value=E.id,r.fullPath!==E.url&&p(E)},y=()=>{p(u.value)},x=E=>{const _=l.value.find(S=>S.url===E.url||S.id===E.id);_?h(_):(l.value.unshift(E),h(E))},v=async E=>{const{url:_=r.fullPath,icon:S,title:L="新建标签页"}=E||{},Z=a[_],et=VtjUtils.uid(),tt=VtjUtils.upperFirstCamelCase(_);return{id:et,name:tt,url:_,icon:S,title:L,closable:!0,menu:E,...Z?await Z():{}}},P=async E=>{if(await ElementPlus.ElMessageBox.confirm("是否关闭页签","提示",{type:"warning"}).catch(()=>!1)){if(l.value=l.value.filter(S=>S.id!==E.id),w.value===E.id){const S=l.value[0];p(S||u.value)}return E}},z=E=>{const _=l.value.findIndex(S=>S.id===E.id);if(_>=0){const S=l.value[_];l.value.splice(_,1,Object.assign(S,E))}},I=async()=>{if(!await ElementPlus.ElMessageBox.confirm("是否关闭全部页签","提示",{type:"warning"}).catch(()=>!1))return;const _=l.value;return l.value=[],h(u.value),_},T=async()=>{if(!await ElementPlus.ElMessageBox.confirm("是否关闭其他页签","提示",{type:"warning"}).catch(()=>!1))return;const _=l.value.filter(S=>S.id!==w.value);return l.value=l.value.filter(S=>S.id===w.value),_},M=E=>{const _=l.value.filter(S=>S.id!==E.id);l.value=[E,..._],h(E)},B=async()=>{await Vue.nextTick();const E=u.value.url===r.fullPath,_=f(r.fullPath);if(E)w.value=u.value.id;else{const S=await v(_);x(S)}await Vue.nextTick(),n.value=_||null};return Vue.watch(t,B),Vue.watch(r,B,{immediate:!0}),Vue.provide(ze,a),{tabRef:c,tabs:l,showTabs:V,currentTab:C,changeTab:p,removeTab:P,updateTab:z,addTab:x,home:u,tabValue:w,isCurrentTab:g,activeHome:y,activeTab:h,dropdownTabs:m,removeAllTabs:I,removeOtherTabs:T,moveToShow:M}}function Qn(o){const e=new Map,t=Vue.ref([]),n=Vue.reactive({}),u=Vue.getCurrentInstance(),r={},{updateTab:s,isCurrentTab:a,activeHome:l,tabs:c}=o,i=(p,h)=>{const y=h.fullPath;if(e.has(y))return e.get(y);{const x=VtjUtils.upperFirstCamelCase(y),v={name:x,setup(){const P=Vue.computed(()=>n[y]||document.body),z=Vue.computed(()=>!n[y]),I=Vue.computed(()=>!t.value.includes(x));return Vue.provide(VueRouter.routeLocationKey,Vue.toRaw({...h})),()=>I.value?Vue.h(Vue.Teleport,{to:P.value,disabled:z.value},[Vue.h(p)]):null}};return e.set(y,v),v}},d=p=>{p.dialog=void 0,delete n[p.url];const h=r[p.id];h&&(h.destroy(),delete r[p.id],s(p))},V=(p=[])=>{p.forEach(h=>{d(h)})},m=async p=>{p.dialog={...p.dialog,onMinimized:()=>{d(p)},onClose:async()=>{d(p),c.value=c.value.filter(y=>y.id!==p.id)}},s(p);const h=me({title:p.title,icon:p.icon,modal:!1,resizable:!0,draggable:!0,maximizable:!0,minimizable:!0,...p.dialog,onOpen(y){n[p.url]=y.refs.panelRef?.bodyRef?.$el}},u?.appContext);return await Vue.nextTick(),a(p)&&l(),r[p.id]=h,h},f=async p=>{t.value=[p.name],await Vue.nextTick(),t.value=[]},g=async p=>{t.value=p.map(h=>h.name),await Vue.nextTick(),t.value=[]},b=p=>(p.preventDefault(),!1),w=p=>{if(p.dataTransfer){const h=p.dataTransfer.getData("tab"),y=c.value.find(x=>x.id===h);if(y){const{clientX:x,clientY:v}=p;y.dialog={left:x,top:v},m(y)}}},C=p=>!!n[p];return VueUse.useEventListener(document,"dragover",b),VueUse.useEventListener(document,"drop",w),{createView:i,openDialog:m,refresh:f,exclude:t,cleanCache:g,hasDialog:C,closeDialog:d,closeDialogs:V}}const wt=Vue.defineComponent({name:"XMask",__name:"Mask",props:ht,emits:["select","actionClick","actionCommand"],setup(o,{emit:e}){const t=o,n=e,u=Wn(t),{collapsed:r,keyword:s,favorite:a}=Gn(),{menus:l,favorites:c,flatMenus:i,active:d,select:V,toggleFavorite:m}=Jn(t,n),{tabRef:f,showTabs:g,currentTab:b,changeTab:w,removeTab:C,tabs:p,updateTab:h,isCurrentTab:y,activeHome:x,removeAllTabs:v,removeOtherTabs:P,dropdownTabs:z,moveToShow:I}=qn(t,n,i,d,u),{createView:T,openDialog:M,refresh:B,exclude:E,cleanCache:_,closeDialogs:S}=Qn({tabs:p,updateTab:h,isCurrentTab:y,activeHome:x}),L=async D=>{await C(D)&&await _([D])},Z=async()=>{const D=await v();D&&(S(D),await _(D))},et=async()=>{const D=await P();D&&(S(D),await _(D))},tt=D=>{n("actionClick",D)},F0=(D,U)=>{n("actionCommand",D,U)};return Vue.provide(Te,{tabs:p,flatMenus:i,favorites:c,updateTab:h,active:d,currentTab:b}),(D,U)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(N),{class:Vue.normalizeClass(["x-mask",{"is-disabled":t.disabled}]),fit:""},{default:Vue.withCtx(()=>[t.disabled?(Vue.openBlock(),Vue.createBlock(vt,{key:1,createView:Vue.unref(T),exclude:Vue.unref(E)},{default:Vue.withCtx(()=>[D.$slots.default?Vue.renderSlot(D.$slots,"default",{key:0}):Vue.createCommentVNode("",!0)]),_:3},8,["createView","exclude"])):(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:0},[Vue.createVNode(Tn,{collapsed:Vue.unref(r)},{brand:Vue.withCtx(()=>[Vue.createVNode($n,{logo:t.logo,title:t.title,url:Vue.unref(u).url,collapsed:Vue.unref(r)},null,8,["logo","title","url","collapsed"])]),default:Vue.withCtx(()=>[Vue.createVNode(In,{collasped:Vue.unref(r),"onUpdate:collasped":U[0]||(U[0]=se=>Vue.isRef(r)?r.value=se:null),favorite:Vue.unref(a),"onUpdate:favorite":U[1]||(U[1]=se=>Vue.isRef(a)?a.value=se:null),keyword:Vue.unref(s),"onUpdate:keyword":U[2]||(U[2]=se=>Vue.isRef(s)?s.value=se:null)},null,8,["collasped","favorite","keyword"]),Vue.createVNode(An,{collapse:Vue.unref(r),keyword:Vue.unref(s),favorite:Vue.unref(a),favorites:Vue.unref(c),flatMenus:Vue.unref(i),menus:Vue.unref(l),active:Vue.unref(d),onSelect:Vue.unref(V)},null,8,["collapse","keyword","favorite","favorites","flatMenus","menus","active","onSelect"])]),_:1},8,["collapsed"]),Vue.createVNode(Vue.unref(N),{class:"x-mask__main",grow:"",shrink:"",flex:"",direction:"column"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(N),{class:"x-mask-topbar",justify:"space-between",align:"center"},{default:Vue.withCtx(()=>[Vue.createVNode(Hn,{ref_key:"tabRef",ref:f,favorites:Vue.unref(c),tabs:Vue.unref(g),home:Vue.unref(u),value:Vue.unref(b)?.id,onClick:Vue.unref(w),onToggleFavorite:Vue.unref(m),onRemove:L,onDialog:Vue.unref(M),onRefresh:Vue.unref(B)},null,8,["favorites","tabs","home","value","onClick","onToggleFavorite","onDialog","onRefresh"]),Vue.createVNode(Xn,{tabs:Vue.unref(z),actions:t.actions,theme:t.theme,onCloseOtherTabs:et,onCloseAllTabs:Z,onCloseTab:L,onClickTab:Vue.unref(I),onActionClick:tt,onActionCommand:F0},{default:Vue.withCtx(()=>[Vue.createVNode(Yn,{avatar:t.avatar},Vue.createSlots({_:2},[D.$slots.user?{name:"default",fn:Vue.withCtx(()=>[Vue.renderSlot(D.$slots,"user")]),key:"0"}:void 0]),1032,["avatar"])]),_:3},8,["tabs","actions","theme","onClickTab"])]),_:3}),Vue.createVNode(vt,{createView:Vue.unref(T),exclude:Vue.unref(E)},{default:Vue.withCtx(()=>[D.$slots.default?Vue.renderSlot(D.$slots,"default",{key:0}):Vue.createCommentVNode("",!0)]),_:3},8,["createView","exclude"])]),_:3})],64))]),_:3},8,["class"]))}});function Zn(o={}){const e=VueRouter.useRoute(),t=Vue.inject(ze,null),n=Vue.inject(Te,null);if(t){const r=typeof o=="function"?o:async()=>o;t[e.fullPath]=r}return{tab:Vue.computed(()=>n?n.tabs.value.find(r=>r.url===e.fullPath):null),mask:n}}const eo=Vue.defineComponent({__name:"SelectEditor",props:{options:{default:()=>[]}},setup(o){const e=o;return(t,n)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElSelect),Vue.normalizeProps(Vue.guardReactiveProps(t.$attrs)),{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.options,(u,r)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElOption),Vue.mergeProps({key:`item_${r}_${u.value}`,ref_for:!0},u),Vue.createSlots({_:2},[t.$slots.option?{name:"default",fn:Vue.withCtx(()=>[Vue.renderSlot(t.$slots,"option",{option:u})]),key:"0"}:void 0]),1040))),128))]),_:3},16))}}),to=Vue.defineComponent({__name:"CheckboxEditor",props:{options:{default:()=>[]},button:{type:Boolean,default:!1}},setup(o){const e=o,t=Vue.computed(()=>Vue.markRaw(e.button?ElementPlus.ElCheckboxButton:ElementPlus.ElCheckbox));return(n,u)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElCheckboxGroup),Vue.normalizeProps(Vue.guardReactiveProps(n.$attrs)),{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.options,(r,s)=>(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(t.value),Vue.mergeProps({key:`item_${s}_${r.value}`,ref_for:!0},r),{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(r.label),1)]),_:2},1040))),128))]),_:1},16))}}),no=Vue.defineComponent({__name:"RadioEditor",props:{options:{default:()=>[]},button:{type:Boolean,default:!1}},setup(o){const e=o,t=Vue.computed(()=>Vue.markRaw(e.button?ElementPlus.ElRadioButton:ElementPlus.ElRadio));return(n,u)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElRadioGroup),Vue.normalizeProps(Vue.guardReactiveProps(n.$attrs)),{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.options,(r,s)=>(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(t.value),Vue.mergeProps({key:`item_${s}_${r.value}`,ref_for:!0},r),{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(r.label),1)]),_:2},1040))),128))]),_:1},16))}}),Ie={none:{component:"div",props:{class:"x-field-none"}},text:{component:ElementPlus.ElInput,props:{clearable:!0},defaultValue:""},textarea:{component:ElementPlus.ElInput,props:{type:"textarea",rows:2},defaultValue:""},select:{component:eo,props:{clearable:!0}},checkbox:{component:to,props:{},defaultValue:[]},radio:{component:no,props:{}},number:{component:ElementPlus.ElInputNumber,props:{}},date:{component:ElementPlus.ElDatePicker,props:{}},time:{component:ElementPlus.ElTimePicker,props:{}},datetime:{component:ElementPlus.ElDatePicker,props:{type:"datetime"}},switch:{component:ElementPlus.ElSwitch,props:{}},rate:{component:ElementPlus.ElRate,props:{}},slider:{component:ElementPlus.ElSlider,props:{}},cascader:{component:ElementPlus.ElCascader,props:{}}},kt={name:{type:String},label:{type:String},editor:{type:[String,Object],default:"text"},props:{type:Object},modelValue:{type:[String,Number,Boolean,Object,Array],default(o){return Ie[o.editor]?.defaultValue}},size:{type:String},width:{type:[String,Number]},tooltipMessage:{type:[Boolean,Object],default:!0},tooltipPosition:{type:[String,Number],default:"outer"},placeholder:{type:String},disabled:{type:Boolean},readonly:{type:Boolean},options:{type:[Array,Function]},visible:{type:[Boolean,Object,Function],default:!0},cascader:{type:[String,Array]},error:{type:String},tip:{type:String},inline:{type:Boolean}};async function oo(o,e){const t=o.options;return t?typeof t=="function"?await t(e)||[]:t:[]}function uo(o,e,t,n,u){const r=Vue.ref([]),s=Vue.computed(()=>!n||!u?{}:VtjUtils.toArray(o.cascader).reduce((c,i)=>(c[i]=VtjUtils.get(u,i),c),{}));return Vue.watch(s,async l=>{if(t.value){r.value=await oo(o,l);const c=n?.exposed?.reset;c&&o.name&&c(o.name)}},{immediate:!0}),{editor:Vue.computed(()=>{const{editor:l="text",placeholder:c,label:i="...",disabled:d,readonly:V}=o,m={...o.props,placeholder:c||(c===null?void 0:`请输入${i}`),disabled:d,readonly:V,options:r.value,onFocus:()=>e("focus"),onBlur:()=>e("blur"),onChange:g=>e("change",g)},f=typeof l=="string"?Ie[l]:{component:l,props:{}};return VtjUtils.merge({},f,{props:m})})}}const ro={key:1,class:"el-form-item__error"},lo={key:0,class:"x-field__tip"},De=Vue.defineComponent({name:"XField",__name:"Field",props:kt,emits:["update:modelValue","change","focus","blur"],setup(o,{expose:e,emit:t}){const n=o,u=t,r=Vue.inject(Me,null),s=Vue.inject(ElementPlus.formContextKey,null),a=Vue.inject($e,null),l=Vue.computed(()=>!r?.proxy||!a?n.visible:typeof n.visible=="function"?n.visible(a):VtjUtils.isObject(n.visible)?Object.entries(n.visible).every(([P,z])=>VtjUtils.get(a,P)===z):n.visible),c=()=>r?.proxy&&a&&n.name?VtjUtils.get(a,n.name)??n.modelValue:n.modelValue,i=Vue.ref(c()),{editor:d}=uo(n,u,l,r,a),V=Vue.ref(),m=Vue.ref(),f=Vue.computed(()=>n.size||s?.size||"default"),g=Vue.computed(()=>Object.assign({},r?.props.tooltipMessage||{},typeof n.tooltipMessage=="boolean"?{}:n.tooltipMessage)),b=(v="")=>n.error?n.error:v.includes("is required")?`${n.label||n.name}是必填项！`:v,w=Vue.computed(()=>{const v=r?.props.tooltipMessage??n.tooltipMessage;return{[`is-tooltip-${n.tooltipPosition}`]:!!v&&!!n.tooltipPosition}}),C=Vue.computed(()=>{const v=r?.proxy;return{width:n.width?j(n.width):v&&v.inline&&v.inlineColumns?`${100/v.inlineColumns}%`:null}}),p=Vue.computed(()=>({right:typeof n.tooltipPosition=="number"?`${n.tooltipPosition}px`:void 0})),h=Vue.computed(()=>({...d.value.props,modelValue:i.value,"onUpdate:modelValue":v=>{i.value=v}}));return Vue.watch(i,(v,P)=>{l.value&&!VtjUtils.isEqual(v,P)&&(u("update:modelValue",v),r?.proxy&&a&&n.name&&VtjUtils.set(a,n.name,v))}),Vue.watch(()=>!r?.proxy||!n.name||!a?n.modelValue:VtjUtils.get(a,n.name)??n.modelValue,v=>{l.value&&(i.value=v)},{immediate:!0}),Vue.watch(l,v=>{r?.proxy&&a&&n.name&&(v?(i.value=c(),VtjUtils.set(a,n.name,i.value)):(i.value=void 0,VtjUtils.set(a,n.name,void 0)))},{immediate:!0}),e({fieldValue:i,itemRef:V,editorRef:m,focus:()=>{m.value?.focus&&m.value.focus()},blur:()=>{m.value?.foucs&&m.value.blur()}}),(v,P)=>l.value?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElFormItem),Vue.mergeProps({key:0,class:["x-field",w.value],ref_key:"itemRef",ref:V,prop:n.name,label:v.label,size:f.value,style:C.value},v.$attrs),Vue.createSlots({error:Vue.withCtx(({error:z})=>[Vue.renderSlot(v.$slots,"error",{error:z},()=>[Vue.unref(r)?.props.tooltipMessage??n.tooltipMessage?(Vue.openBlock(),Vue.createElementBlock("div",{key:0,class:"x-field__info",style:Vue.normalizeStyle(p.value)},[Vue.createVNode(Vue.unref(ElementPlus.ElTooltip),Vue.mergeProps({content:b(z)},g.value),{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(A),{class:"x-field__trigger",icon:Vue.unref(VtjIcons.WarningFilled),size:f.value},null,8,["icon","size"])]),_:2},1040,["content"])],4)):(Vue.openBlock(),Vue.createElementBlock("div",ro,Vue.toDisplayString(b(z)),1))])]),default:Vue.withCtx(()=>[Vue.createElementVNode("div",{class:Vue.normalizeClass(["x-field__editor_wrap",{"is-inline":n.inline}])},[Vue.renderSlot(v.$slots,"editor",{editor:h.value},()=>[Vue.unref(d).component?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(d).component),Vue.mergeProps({key:0,class:"x-field__editor",ref_key:"editorRef",ref:m,modelValue:i.value,"onUpdate:modelValue":P[0]||(P[0]=z=>i.value=z)},Vue.unref(d).props),Vue.createSlots({_:2},[v.$slots.option?{name:"option",fn:Vue.withCtx(({option:z})=>[Vue.renderSlot(v.$slots,"option",{option:z})]),key:"0"}:void 0]),1040,["modelValue"])):Vue.createCommentVNode("",!0)]),n.tip||v.$slots.tip?(Vue.openBlock(),Vue.createElementBlock("div",lo,[Vue.renderSlot(v.$slots,"tip",{},()=>[Vue.createTextVNode(Vue.toDisplayString(n.tip),1)])])):Vue.createCommentVNode("",!0)],2),Vue.renderSlot(v.$slots,"default")]),_:2},[v.$slots.label?{name:"label",fn:Vue.withCtx(()=>[Vue.renderSlot(v.$slots,"label")]),key:"0"}:void 0]),1040,["prop","label","size","class","style"])):Vue.createCommentVNode("",!0)}}),Ct={model:{type:Object,default(){return Object.create(null)}},inline:{type:Boolean},inlineColumns:{type:Number},footer:{type:Boolean,default:!0},submitText:{type:String,default:"提交"},resetText:{type:String,default:"重置"},submitMethod:{type:Function},tooltipMessage:{type:[Object,Boolean],default:void 0}},Me=Symbol("formInstanceKey"),$e=Symbol("formModelKey"),Ae=Vue.defineComponent({name:"XForm",__name:"Form",props:Ct,emits:["change","submit","reset"],setup(o,{expose:e,emit:t}){const n=o,u=t,r=Vue.getCurrentInstance(),s=Vue.ref(),a=Vue.reactive(n.model||{}),l=Vue.ref(!1);Vue.provide(Me,r),Vue.provide($e,a),Vue.watch(()=>n.model,d=>{Object.assign(a,d)},{deep:!0}),Vue.watch(a,()=>{u("change",Vue.toRaw(a))});const c=async()=>{await s.value.validate().catch(()=>!1)&&(u("submit",Vue.toRaw(a)),n.submitMethod&&(l.value=!0,await n.submitMethod(Vue.toRaw(a)),l.value=!1))},i=d=>{s.value.resetFields(d),u("reset")};return e({formRef:s,model:a,submit:c,reset:i}),(d,V)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElForm),Vue.mergeProps({ref_key:"formRef",ref:s,class:"x-form",inline:n.inline,model:a,onKeyup:Vue.withKeys(c,["enter"]),onSubmit:V[1]||(V[1]=Vue.withModifiers(()=>{},["stop","prevent"]))},d.$attrs),{default:Vue.withCtx(()=>[Vue.renderSlot(d.$slots,"default"),n.footer?(Vue.openBlock(),Vue.createBlock(Vue.unref(De),{key:0,editor:"none",class:"x-form__footer",label:" "},{editor:Vue.withCtx(()=>[Vue.renderSlot(d.$slots,"footer",{},()=>[n.submitText?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElButton),{key:0,loading:l.value,type:"primary",onClick:c},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(n.submitText),1)]),_:1},8,["loading"])):Vue.createCommentVNode("",!0),n.resetText?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElButton),{key:1,type:"default",onClick:V[0]||(V[0]=()=>i())},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(n.resetText),1)]),_:1})):Vue.createCommentVNode("",!0),Vue.renderSlot(d.$slots,"action")])]),_:3})):Vue.createCommentVNode("",!0)]),_:3},16,["inline","model"]))}}),bt={modelValue:{type:Boolean,default:!0},size:{type:String},formProps:{type:Object},submit:{type:[Boolean,String],default:"确定"},cancel:{type:[Boolean,String],default:"取消"},model:{type:Object,default(){return Object.create(null)}},rules:{type:Object},submitMethod:{type:Function}},_t=Vue.defineComponent({name:"XDialogForm",__name:"DialogForm",props:bt,emits:["update:modelValue","submit","close"],setup(o,{expose:e,emit:t}){const n=o,u=t,r=Vue.ref(),s=Vue.ref(),a=Vue.computed(()=>s.value?.$vtjEl),l=()=>{r.value?.submit()},c=()=>{u("update:modelValue",!1),u("close")},i=async m=>{u("submit",m),n.submitMethod?await n.submitMethod(m)&&c():c()},d=Vue.computed(()=>n.formProps?.disabled?!1:n.submit),V=Vue.computed(()=>n.formProps?.disabled?!1:n.cancel);return e({$vtjEl:a,formRef:r,dialogRef:s}),(m,f)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(de),Vue.mergeProps({ref_key:"dialogRef",ref:s,class:"x-dialog-form","model-value":n.modelValue,submit:d.value,cancel:V.value,size:n.size,onSubmit:l,onClose:c,minimizable:!1,maximizable:!1},m.$attrs),Vue.createSlots({default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(Ae),Vue.mergeProps({ref_key:"formRef",ref:r,class:"x-dialog-form__form",footer:!1,"label-width":"80px",size:n.size,model:n.model,rules:n.rules,"submit-method":i},n.formProps),{default:Vue.withCtx(()=>[Vue.renderSlot(m.$slots,"default")]),_:3},16,["size","model","rules"])]),_:2},[m.$slots.extra?{name:"extra",fn:Vue.withCtx(()=>[Vue.renderSlot(m.$slots,"extra")]),key:"0"}:void 0,m.$slots.handle?{name:"handle",fn:Vue.withCtx(()=>[Vue.renderSlot(m.$slots,"handle")]),key:"1"}:void 0,m.$slots.footer?{name:"footer",fn:Vue.withCtx(()=>[Vue.renderSlot(m.$slots,"footer")]),key:"2"}:void 0]),1040,["model-value","submit","cancel","size"]))}}),Bt={items:{type:Array,default(){return[]}},border:{type:Boolean},fit:{type:Boolean},align:{type:String}},ao={class:"x-tabs__label-inner"},so={key:0,class:"x-tabs__actions"},Et=Vue.defineComponent({name:"XTabs",__name:"Tabs",props:Bt,emits:["actionClick","actionCommand"],setup(o,{emit:e}){const t=o,n=e,u=l=>{const{label:c,name:i,value:d,disabled:V,closable:m,lazy:f}=l;return{label:c,name:d??i,disabled:V,closable:m,lazy:f}},r=Vue.computed(()=>({"is-no-border":!t.border,"is-fit":!!t.fit,[`is-align-${t.align}`]:!!t.align})),s=l=>{n("actionClick",l)},a=l=>{n("actionCommand",l)};return(l,c)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElTabs),Vue.mergeProps({class:["x-tabs",r.value]},l.$attrs),{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(t.items,i=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElTabPane),Vue.mergeProps({key:i.value??i.name,ref_for:!0},u(i)),{label:Vue.withCtx(()=>[Vue.renderSlot(l.$slots,"label",Vue.mergeProps({ref_for:!0},i),()=>[i.icon?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(X)(i.icon)),{key:0,class:"x-tabs__icon"})):Vue.createCommentVNode("",!0),Vue.createElementVNode("div",ao,[Vue.createTextVNode(Vue.toDisplayString(i.label)+" ",1),i.actions&&[i.name,i.value].includes(l.$attrs.modelValue)?(Vue.openBlock(),Vue.createElementBlock("div",so,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(i.actions,d=>(Vue.openBlock(),Vue.createBlock(Vue.unref(R),Vue.mergeProps({mode:"icon",type:"primary",size:"small",circle:"",ref_for:!0},d,{onClick:s,onCommand:a}),null,16))),256))])):Vue.createCommentVNode("",!0)])])]),default:Vue.withCtx(()=>[Vue.renderSlot(l.$slots,"default",Vue.mergeProps({ref_for:!0},i),()=>[i.component?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(i.component),Vue.mergeProps({key:0,ref_for:!0},i.props),null,16)):Vue.createCommentVNode("",!0)])]),_:2},1040))),128))]),_:3},16,["class"]))}}),xt={direction:{type:String,default:"column"},imageSrc:{type:String},imageWidth:{type:[Number,String]},imageHeight:{type:[Number,String]},icon:{type:[String,Object]},title:{type:String},description:{type:String},actions:{type:Array},actionBarProps:{type:Object},split:{type:Boolean},onImageClick:{type:Function},onTitleClick:{type:Function}},io={class:"x-data-item__title"},co={key:1,class:"x-data-item__section x-data-item__desc"},mo={key:2,class:"x-data-item__section x-data-item__extra"},fo={key:3,class:"x-data-item__section x-data-item__actions"},St=Vue.defineComponent({name:"XDataItem",__name:"DataItem",props:xt,emits:["imageClick","titleClick","actionClick","actionCommand"],setup(o,{emit:e}){const t=o,n=e,u=Vue.computed(()=>{const{imageWidth:d,imageHeight:V}=t;return{width:d?j(d):void 0,height:V?j(V):void 0}}),r=Vue.computed(()=>({[`is-image-${t.direction}`]:!!t.direction,"is-split":!!t.split})),s=Vue.computed(()=>({size:"small",mode:"text",justify:"flex-end",type:"info",items:t.actions,...t.actionBarProps})),a=()=>n("imageClick"),l=()=>n("titleClick"),c=d=>n("actionClick",d),i=(d,V)=>n("actionCommand",d,V);return(d,V)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(N),{class:Vue.normalizeClass(["x-data-item",r.value]),direction:t.direction},{default:Vue.withCtx(()=>[t.imageSrc||d.$slots.image?(Vue.openBlock(),Vue.createBlock(Vue.unref(N),{key:0,class:"x-data-item__img",autoPointer:!0,onClick:t.onImageClick?a:void 0},{default:Vue.withCtx(()=>[Vue.renderSlot(d.$slots,"image",{},()=>[t.imageSrc?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElImage),{key:0,style:Vue.normalizeStyle(u.value),src:t.imageSrc},null,8,["style","src"])):Vue.createCommentVNode("",!0)])]),_:3},8,["onClick"])):Vue.createCommentVNode("",!0),Vue.createVNode(Vue.unref(N),{class:"x-data-item__content",direction:"column",grow:"",shrink:""},{default:Vue.withCtx(()=>[t.title||d.$slots.title?(Vue.openBlock(),Vue.createBlock(Vue.unref(N),{key:0,class:"x-data-item__section x-data-item__wrapper",align:"center",autoPointer:!0,onClick:t.onTitleClick?l:void 0},{default:Vue.withCtx(()=>[t.icon?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(X)(t.icon)),{key:0,class:"x-data-item__icon"})):Vue.createCommentVNode("",!0),Vue.createElementVNode("span",io,[Vue.renderSlot(d.$slots,"title",{},()=>[Vue.createTextVNode(Vue.toDisplayString(t.title),1)])])]),_:3},8,["onClick"])):Vue.createCommentVNode("",!0),t.description||d.$slots.description?(Vue.openBlock(),Vue.createElementBlock("div",co,[Vue.renderSlot(d.$slots,"description",{},()=>[Vue.createTextVNode(Vue.toDisplayString(t.description),1)])])):Vue.createCommentVNode("",!0),d.$slots.default?(Vue.openBlock(),Vue.createElementBlock("div",mo,[Vue.renderSlot(d.$slots,"default")])):Vue.createCommentVNode("",!0),t.actions||t.actionBarProps||d.$slots.actions?(Vue.openBlock(),Vue.createElementBlock("div",fo,[Vue.renderSlot(d.$slots,"actions",{},()=>[Vue.createVNode(Vue.unref(ne),Vue.mergeProps(s.value,{onClick:c,onCommand:i}),null,16)])])):Vue.createCommentVNode("",!0)]),_:3})]),_:3},8,["direction","class"]))}}),Nt={data:{type:[Object,Function],default(){return[]}},itemHeight:{type:[Number,Function]},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"100%"},pager:{type:[Boolean,Object]},page:{type:Number,default:1},pageSize:{type:Number,default:10},dataKey:{type:String},infiniteScroll:{type:[Boolean,Object]}},Vo={key:0,class:"x-list__loading"},po={key:1,class:"x-list__nomore"},go={key:0,class:"x-list__loading"},ho={key:1,class:"x-list__nomore"},vo={key:1,class:"x-list__pager"},Pt=Vue.defineComponent({name:"XList",__name:"List",props:Nt,emits:["load"],setup(o,{expose:e,emit:t}){const n=o,u=t,r=Vue.reactive({page:n.page,pageSize:n.pageSize});Vue.watchEffect(()=>{const{page:y,pageSize:x}=n;Object.assign(r,{page:y,pageSize:x})});const{data:s,loading:a}=st(n.data,{list:[],total:0},r),l=Vue.computed(()=>Math.ceil((s.value.total||0)/r.pageSize)),c=Vue.ref(!1),i=Vue.ref(),d=Vue.computed(()=>({width:j(n.width),height:j(n.height)})),V=Vue.computed(()=>({"is-virtual":!!n.itemHeight})),m=Vue.computed(()=>{const y={};for(let[x,v]of Object.entries(be(n.infiniteScroll)))y[`infinite-scroll-${x}`]=v;return(a.value||c.value)&&(y["infinite-scroll-disabled"]=!0),y}),f=Vue.computed(()=>be(n.pager,{})),{list:g,containerProps:b,wrapperProps:w,scrollTo:C}=VueUse.useVirtualList(Vue.computed(()=>s.value.list),{itemHeight:n.itemHeight||0}),p=()=>{!n.infiniteScroll||c.value||(r.page<l.value?(++r.page,u("load",r)):c.value=!0)},h=y=>n.dataKey?y[n.dataKey]:void 0;return e({list:g,scrollTo:C,wrapperRef:i,loading:a,state:r,pageCount:l,nomore:c,data:s,getKey:h}),(y,x)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:Vue.normalizeClass(["x-list",V.value]),style:Vue.normalizeStyle(d.value)},[!Vue.unref(s).total&&!Vue.unref(a)?Vue.renderSlot(y.$slots,"empty",{key:0},()=>[Vue.createVNode(Vue.unref(ElementPlus.ElEmpty))]):Vue.createCommentVNode("",!0),Vue.createElementVNode("div",Vue.mergeProps({class:"x-list__content"},Vue.unref(b)),[n.itemHeight?Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",Vue.mergeProps({key:0,class:"x-list__wrapper",ref_key:"wrapperRef",ref:i},{...Vue.unref(w),...m.value}),[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(g),(v,P)=>Vue.renderSlot(y.$slots,"default",Vue.mergeProps({key:h(v.data),ref_for:!0},{item:v.data,index:P}),()=>[Vue.createElementVNode("div",null,Vue.toDisplayString(v),1)])),128)),Vue.unref(a)?(Vue.openBlock(),Vue.createElementBlock("div",Vo,[Vue.renderSlot(y.$slots,"loading",{},()=>[Vue.createTextVNode(" 正在加载数据... ")])])):Vue.createCommentVNode("",!0),c.value?(Vue.openBlock(),Vue.createElementBlock("div",po,[Vue.renderSlot(y.$slots,"nomore",{},()=>[Vue.createTextVNode(" 没有更多数据 ")])])):Vue.createCommentVNode("",!0)],16)),[[Vue.unref(ElementPlus.ElInfiniteScroll),p]]):Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",Vue.mergeProps({key:1,class:"x-list__wrapper"},m.value),[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(s).list,(v,P)=>Vue.renderSlot(y.$slots,"default",Vue.mergeProps({key:h(v),ref_for:!0},{item:v,index:P}),()=>[Vue.createElementVNode("div",null,Vue.toDisplayString(v),1)])),128)),Vue.unref(a)?(Vue.openBlock(),Vue.createElementBlock("div",go,[Vue.renderSlot(y.$slots,"loading",{},()=>[Vue.createTextVNode(" 正在加载数据... ")])])):Vue.createCommentVNode("",!0),c.value?(Vue.openBlock(),Vue.createElementBlock("div",ho,[Vue.renderSlot(y.$slots,"nomore",{},()=>[Vue.createTextVNode(" 没有更多数据 ")])])):Vue.createCommentVNode("",!0)],16)),[[Vue.unref(ElementPlus.ElInfiniteScroll),p]])],16),n.pager?(Vue.openBlock(),Vue.createElementBlock("div",vo,[Vue.createVNode(Vue.unref(ElementPlus.ElPagination),Vue.mergeProps({small:"",background:"",layout:"prev, pager, next",total:Vue.unref(s).total,"default-page-size":n.pageSize,"default-current-page":n.page,"current-page":r.page,"onUpdate:currentPage":x[0]||(x[0]=v=>r.page=v),"page-size":r.pageSize,"onUpdate:pageSize":x[1]||(x[1]=v=>r.pageSize=v)},f.value),null,16,["total","default-page-size","default-current-page","current-page","page-size"])])):Vue.createCommentVNode("",!0)],6))}}),zt={name:{type:String,default:"VTJ.PRO"},tagline:{type:String,default:"基于 Vue3 + TypeScript 快速打造高生产力的低代码研发平台"},actionText:{type:String,default:"开始设计"},actionLink:{type:String,default:"/@vtj/pro/"}},yo={class:"x-startup"},wo={class:"x-startup__wrapper"},ko={class:"x-startup__name"},Co={class:"clip"},bo={class:"x-startup__tagline"},_o={class:"x-startup__actions"},Tt=Vue.defineComponent({__name:"Startup",props:zt,setup(o){const e=o,t=()=>{if(typeof window<"u"){let u=(window.__VTJ_LINK__||{}).href||window.location.pathname+"@vtj/pro/#/";window.location.href=u}};return(n,u)=>(Vue.openBlock(),Vue.createElementBlock("div",yo,[Vue.createElementVNode("div",wo,[Vue.createElementVNode("div",ko,[Vue.createElementVNode("span",Co,Vue.toDisplayString(e.name),1)]),Vue.createElementVNode("div",bo,Vue.toDisplayString(e.tagline),1),Vue.createElementVNode("div",_o,[Vue.createVNode(Vue.unref(ElementPlus.ElButton),{type:"primary",size:"large",round:"",icon:Vue.unref(VtjIcons.EditPen),onClick:t},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(e.actionText),1)]),_:1},8,["icon"])])])]))}}),It={stringProp:{type:String},booleanProp:{type:Boolean},numberProp:{type:Number},selectProp:{type:String},objectProp:{type:Object},arrayProp:{type:Array},iconProp:{type:String},colorProp:{type:String},modelValue:{type:String},syncProp:{type:String}},Bo={class:"x-test__slot"},Eo={class:"x-test__slot"},Dt=Vue.defineComponent({name:"XTest",__name:"Test",props:It,emits:["click","submit","change","update:modelValue","update:syncProp"],setup(o,{expose:e,emit:t}){const n=o,u=t,r=Vue.computed(()=>Object.entries(n)),s=Vue.computed({get(){return n.modelValue},set(m){u("update:modelValue",m)}}),a=Vue.computed({get(){return n.syncProp},set(m){u("update:syncProp",m)}}),l=Vue.ref("default inner data"),c=()=>{ElementPlus.ElMessage.info({message:"触发click事件"}),u("click",n)},i=()=>{ElementPlus.ElMessage.info({message:"触发submit事件"}),u("submit",n)},d=m=>{l.value=m,u("change",l.value)},V=()=>{d("user click change:"+Date.now())};return e({click:c,submit:i,data:l,change:d}),(m,f)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(Y),{class:"x-test",header:"VTJ 低代码测试组件",border:""},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElDivider),null,{default:Vue.withCtx(()=>[Vue.createTextVNode("内部数据")]),_:1}),Vue.createVNode(Vue.unref(N),null,{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(l.value),1)]),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElDivider),null,{default:Vue.withCtx(()=>[Vue.createTextVNode("属性")]),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElDescriptions),{column:3,border:""},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(r.value,([g,b])=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElDescriptionsItem),{label:g},{default:Vue.withCtx(()=>[Vue.createElementVNode("pre",null,Vue.toDisplayString(JSON.stringify(b,null,2)),1)]),_:2},1032,["label"]))),256))]),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElDivider),null,{default:Vue.withCtx(()=>[Vue.createTextVNode("插槽")]),_:1}),Vue.createVNode(Vue.unref(N),{justify:"space-around",flex:"",gap:""},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(Y),{header:"default",grow:"",card:""},{default:Vue.withCtx(()=>[Vue.createElementVNode("div",Bo,[Vue.renderSlot(m.$slots,"default",{props:n,data:l.value},()=>[Vue.createElementVNode("pre",null,Vue.toDisplayString(JSON.stringify({props:n,data:l.value},null,2)),1)])])]),_:3}),Vue.createVNode(Vue.unref(Y),{header:"extra",grow:"",card:""},{default:Vue.withCtx(()=>[Vue.createElementVNode("div",Eo,[Vue.renderSlot(m.$slots,"extra",{props:n,data:l.value},()=>[Vue.createElementVNode("pre",null,Vue.toDisplayString(JSON.stringify({props:n,data:l.value},null,2)),1)])])]),_:3})]),_:3}),Vue.createVNode(Vue.unref(ElementPlus.ElDivider),null,{default:Vue.withCtx(()=>[Vue.createTextVNode("双向绑定")]),_:1}),Vue.createVNode(Vue.unref(N),null,{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElDescriptions),{column:2,border:""},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElDescriptionsItem),{label:"modelValue"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElInput),{modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=g=>s.value=g)},null,8,["modelValue"])]),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElDescriptionsItem),{label:"syncProp"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElInput),{modelValue:a.value,"onUpdate:modelValue":f[1]||(f[1]=g=>a.value=g)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElDivider),null,{default:Vue.withCtx(()=>[Vue.createTextVNode("事件和方法")]),_:1}),Vue.createVNode(Vue.unref(N),null,{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElButton),{onClick:c},{default:Vue.withCtx(()=>[Vue.createTextVNode("click")]),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElButton),{onClick:i},{default:Vue.withCtx(()=>[Vue.createTextVNode("submit")]),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElButton),{onClick:V},{default:Vue.withCtx(()=>[Vue.createTextVNode("change")]),_:1})]),_:1})]),_:3}))}}),Mt={units:{type:[String,Object,Array]},unit:{type:String},appendWidth:{type:Number,default:100},withUnit:{type:Boolean,default:!0},format:{type:String},modelValue:{type:[String,Number]},selectProps:{type:Object}},$t=Vue.defineComponent({name:"XInputUnit",__name:"InputUnit",props:Mt,emits:["update:modelValue","update:unit","change","unit-change"],setup(o,{expose:e,emit:t}){const n=o,u=t,r=Vue.computed(()=>VtjUtils.toArray(n.units).map(g=>typeof g=="string"?{label:g,value:g}:g)),s=Vue.computed(()=>{const f=r.value.map(g=>g.value);return n.unit&&f.push(n.unit),VtjUtils.dedupArray(f)}),a=Vue.ref(),l=Vue.ref(),c=f=>n.format&&f?VtjUtils.numberFormat(Number(f)||0,n.format):f,i=f=>{if(!n.withUnit||typeof f!="string")return{value:c(f),unit:n.unit};for(const g of s.value){const b=new RegExp(`${g}$`);if(b.test(f))return{value:c(f.toString().replace(b,"")),unit:g}}return{value:c(f),unit:n.unit}},d=()=>{const f=c(l.value),g=a.value;return n.withUnit&&f&&g?`${f}${g}`:f};Vue.watch(()=>n.modelValue,f=>{const{value:g,unit:b}=i(f);a.value=b,l.value=g},{immediate:!0}),Vue.watch(l,f=>{u("change",f)});const V=async()=>{const{value:f,unit:g}=i(d());l.value=f,a.value=g,u("update:modelValue",d())},m=()=>{u("unit-change",a.value),V()};return e({parser:i,formatValue:c}),(f,g)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElInput),{modelValue:l.value,"onUpdate:modelValue":g[1]||(g[1]=b=>l.value=b),modelModifiers:{trim:!0},class:"x-input-unit",onChange:V},Vue.createSlots({_:2},[r.value.length?{name:"append",fn:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElSelect),Vue.mergeProps({class:"x-input-unit__unit",modelValue:a.value,"onUpdate:modelValue":g[0]||(g[0]=b=>a.value=b),size:f.$attrs.size,style:{width:`${n.appendWidth}px`}},f.$props.selectProps,{onChange:m}),{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(r.value,b=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElOption),{key:b.value,label:b.label,value:b.value},null,8,["label","value"]))),128))]),_:1},16,["modelValue","size","style"])]),key:"0"}:{name:"suffix",fn:Vue.withCtx(()=>[a.value?(Vue.openBlock(),Vue.createElementBlock("div",{key:0,class:"x-input-unit__unit"},[Vue.createElementVNode("span",null,Vue.toDisplayString(a.value),1)])):Vue.createCommentVNode("",!0)]),key:"1"}]),1032,["modelValue"]))}}),At={image:{type:Function},maxLength:{type:Number,default:4},placeholder:{type:String,default:"请输入图形验证码"},validate:{type:Function}},xo=["src"],Rt=Vue.defineComponent({name:"XImageCodeInput",__name:"ImageCodeInput",props:At,setup(o){const e=o,t=Vue.useAttrs(),n=Vue.ref(),u=Vue.ref(),r=async()=>{typeof e.image=="function"&&(u.value=await e.image())};r();const s=Vue.ref(),a=Vue.computed(()=>{const V=t.size||"default",m={small:22,default:30,large:38};return s.value=m[V],console.log(s.value),{[`is-${V}`]:!!V}}),l=Vue.ref(""),c=Vue.ref(e.maxLength);let i;typeof e.validate=="function"&&(i=e.validate);const d=()=>{r(),l.value=""};return Vue.watch(l,async()=>{l.value.length===c.value?await i(l.value)?n.value="success":n.value="error":n.value=""},{immediate:!0}),(V,m)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElInput),{modelValue:l.value,"onUpdate:modelValue":m[0]||(m[0]=f=>l.value=f),class:"x-image-code-input",maxlength:c.value,placeholder:e.placeholder},{prepend:Vue.withCtx(()=>[Vue.createElementVNode("img",{class:Vue.normalizeClass(["x-image-code-input__image",a.value]),onClick:d,src:u.value},null,10,xo)]),suffix:Vue.withCtx(()=>[n.value==="success"?(Vue.openBlock(),Vue.createBlock(Vue.unref(A),{key:0,class:"x-image-code-input__iconSuccess",icon:Vue.unref(VtjIcons.SuccessFilled),size:s.value},null,8,["icon","size"])):Vue.createCommentVNode("",!0),n.value==="error"?(Vue.openBlock(),Vue.createBlock(Vue.unref(A),{key:1,class:"x-image-code-input__iconError",icon:Vue.unref(VtjIcons.CircleCloseFilled),size:s.value},null,8,["icon","size"])):Vue.createCommentVNode("",!0)]),_:1},8,["modelValue","maxlength","placeholder"]))}}),So=["image/png","image/jpeg","image/webp"],jt={margin:{type:Number},scale:{type:Number},width:{type:Number,default:200},color:{type:Object},darkColor:{type:String,default:"#000000ff"},lightColor:{type:String,default:"#ffffffff"},quality:{type:Number,default:.92},value:{type:[String,Function],default:""},timeout:{type:Number,default:0},tip:{type:String,default:"二维码已失效请刷新后重试"}};var oe={},No=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Ft={},$={};let Re;const Po=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];$.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},$.getSymbolTotalCodewords=function(e){return Po[e]},$.getBCHDigit=function(o){let e=0;for(;o!==0;)e++,o>>>=1;return e},$.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Re=e},$.isKanjiModeEnabled=function(){return typeof Re<"u"},$.toSJIS=function(e){return Re(e)};var pe={};(function(o){o.L={bit:1},o.M={bit:0},o.Q={bit:3},o.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return o.L;case"m":case"medium":return o.M;case"q":case"quartile":return o.Q;case"h":case"high":return o.H;default:throw new Error("Unknown EC Level: "+t)}}o.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},o.from=function(n,u){if(o.isValid(n))return n;try{return e(n)}catch{return u}}})(pe);function Lt(){this.buffer=[],this.length=0}Lt.prototype={get:function(o){const e=Math.floor(o/8);return(this.buffer[e]>>>7-o%8&1)===1},put:function(o,e){for(let t=0;t<e;t++)this.putBit((o>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),o&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var zo=Lt;function ue(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}ue.prototype.set=function(o,e,t,n){const u=o*this.size+e;this.data[u]=t,n&&(this.reservedBit[u]=!0)},ue.prototype.get=function(o,e){return this.data[o*this.size+e]},ue.prototype.xor=function(o,e,t){this.data[o*this.size+e]^=t},ue.prototype.isReserved=function(o,e){return this.reservedBit[o*this.size+e]};var To=ue,Ut={};(function(o){const e=$.getSymbolSize;o.getRowColCoords=function(n){if(n===1)return[];const u=Math.floor(n/7)+2,r=e(n),s=r===145?26:Math.ceil((r-13)/(2*u-2))*2,a=[r-7];for(let l=1;l<u-1;l++)a[l]=a[l-1]-s;return a.push(6),a.reverse()},o.getPositions=function(n){const u=[],r=o.getRowColCoords(n),s=r.length;for(let a=0;a<s;a++)for(let l=0;l<s;l++)a===0&&l===0||a===0&&l===s-1||a===s-1&&l===0||u.push([r[a],r[l]]);return u}})(Ut);var Ht={};const Io=$.getSymbolSize,Ot=7;Ht.getPositions=function(e){const t=Io(e);return[[0,0],[t-Ot,0],[0,t-Ot]]};var Kt={};(function(o){o.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};o.isValid=function(u){return u!=null&&u!==""&&!isNaN(u)&&u>=0&&u<=7},o.from=function(u){return o.isValid(u)?parseInt(u,10):void 0},o.getPenaltyN1=function(u){const r=u.size;let s=0,a=0,l=0,c=null,i=null;for(let d=0;d<r;d++){a=l=0,c=i=null;for(let V=0;V<r;V++){let m=u.get(d,V);m===c?a++:(a>=5&&(s+=e.N1+(a-5)),c=m,a=1),m=u.get(V,d),m===i?l++:(l>=5&&(s+=e.N1+(l-5)),i=m,l=1)}a>=5&&(s+=e.N1+(a-5)),l>=5&&(s+=e.N1+(l-5))}return s},o.getPenaltyN2=function(u){const r=u.size;let s=0;for(let a=0;a<r-1;a++)for(let l=0;l<r-1;l++){const c=u.get(a,l)+u.get(a,l+1)+u.get(a+1,l)+u.get(a+1,l+1);(c===4||c===0)&&s++}return s*e.N2},o.getPenaltyN3=function(u){const r=u.size;let s=0,a=0,l=0;for(let c=0;c<r;c++){a=l=0;for(let i=0;i<r;i++)a=a<<1&2047|u.get(c,i),i>=10&&(a===1488||a===93)&&s++,l=l<<1&2047|u.get(i,c),i>=10&&(l===1488||l===93)&&s++}return s*e.N3},o.getPenaltyN4=function(u){let r=0;const s=u.data.length;for(let l=0;l<s;l++)r+=u.data[l];return Math.abs(Math.ceil(r*100/s/5)-10)*e.N4};function t(n,u,r){switch(n){case o.Patterns.PATTERN000:return(u+r)%2===0;case o.Patterns.PATTERN001:return u%2===0;case o.Patterns.PATTERN010:return r%3===0;case o.Patterns.PATTERN011:return(u+r)%3===0;case o.Patterns.PATTERN100:return(Math.floor(u/2)+Math.floor(r/3))%2===0;case o.Patterns.PATTERN101:return u*r%2+u*r%3===0;case o.Patterns.PATTERN110:return(u*r%2+u*r%3)%2===0;case o.Patterns.PATTERN111:return(u*r%3+(u+r)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}o.applyMask=function(u,r){const s=r.size;for(let a=0;a<s;a++)for(let l=0;l<s;l++)r.isReserved(l,a)||r.xor(l,a,t(u,l,a))},o.getBestMask=function(u,r){const s=Object.keys(o.Patterns).length;let a=0,l=1/0;for(let c=0;c<s;c++){r(c),o.applyMask(c,u);const i=o.getPenaltyN1(u)+o.getPenaltyN2(u)+o.getPenaltyN3(u)+o.getPenaltyN4(u);o.applyMask(c,u),i<l&&(l=i,a=c)}return a}})(Kt);var ge={};const O=pe,he=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ve=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ge.getBlocksCount=function(e,t){switch(t){case O.L:return he[(e-1)*4+0];case O.M:return he[(e-1)*4+1];case O.Q:return he[(e-1)*4+2];case O.H:return he[(e-1)*4+3];default:return}},ge.getTotalCodewordsCount=function(e,t){switch(t){case O.L:return ve[(e-1)*4+0];case O.M:return ve[(e-1)*4+1];case O.Q:return ve[(e-1)*4+2];case O.H:return ve[(e-1)*4+3];default:return}};var Xt={},ye={};const re=new Uint8Array(512),we=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)re[t]=e,we[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)re[t]=re[t-255]})(),ye.log=function(e){if(e<1)throw new Error("log("+e+")");return we[e]},ye.exp=function(e){return re[e]},ye.mul=function(e,t){return e===0||t===0?0:re[we[e]+we[t]]},function(o){const e=ye;o.mul=function(n,u){const r=new Uint8Array(n.length+u.length-1);for(let s=0;s<n.length;s++)for(let a=0;a<u.length;a++)r[s+a]^=e.mul(n[s],u[a]);return r},o.mod=function(n,u){let r=new Uint8Array(n);for(;r.length-u.length>=0;){const s=r[0];for(let l=0;l<u.length;l++)r[l]^=e.mul(u[l],s);let a=0;for(;a<r.length&&r[a]===0;)a++;r=r.slice(a)}return r},o.generateECPolynomial=function(n){let u=new Uint8Array([1]);for(let r=0;r<n;r++)u=o.mul(u,new Uint8Array([1,e.exp(r)]));return u}}(Xt);const Yt=Xt;function je(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}je.prototype.initialize=function(e){this.degree=e,this.genPoly=Yt.generateECPolynomial(this.degree)},je.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=Yt.mod(t,this.genPoly),u=this.degree-n.length;if(u>0){const r=new Uint8Array(this.degree);return r.set(n,u),r}return n};var Do=je,Gt={},K={},Fe={};Fe.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var F={};const Wt="[0-9]+",Mo="[A-Z $%*+\\-./:]+";let le="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";le=le.replace(/u/g,"\\u");const $o="(?:(?![A-Z0-9 $%*+\\-./:]|"+le+`)(?:.|[\r
]))+`;F.KANJI=new RegExp(le,"g"),F.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),F.BYTE=new RegExp($o,"g"),F.NUMERIC=new RegExp(Wt,"g"),F.ALPHANUMERIC=new RegExp(Mo,"g");const Ao=new RegExp("^"+le+"$"),Ro=new RegExp("^"+Wt+"$"),jo=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");F.testKanji=function(e){return Ao.test(e)},F.testNumeric=function(e){return Ro.test(e)},F.testAlphanumeric=function(e){return jo.test(e)},function(o){const e=Fe,t=F;o.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},o.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},o.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},o.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},o.MIXED={bit:-1},o.getCharCountIndicator=function(r,s){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?r.ccBits[0]:s<27?r.ccBits[1]:r.ccBits[2]},o.getBestModeForData=function(r){return t.testNumeric(r)?o.NUMERIC:t.testAlphanumeric(r)?o.ALPHANUMERIC:t.testKanji(r)?o.KANJI:o.BYTE},o.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},o.isValid=function(r){return r&&r.bit&&r.ccBits};function n(u){if(typeof u!="string")throw new Error("Param is not a string");switch(u.toLowerCase()){case"numeric":return o.NUMERIC;case"alphanumeric":return o.ALPHANUMERIC;case"kanji":return o.KANJI;case"byte":return o.BYTE;default:throw new Error("Unknown mode: "+u)}}o.from=function(r,s){if(o.isValid(r))return r;try{return n(r)}catch{return s}}}(K),function(o){const e=$,t=ge,n=pe,u=K,r=Fe,s=7973,a=e.getBCHDigit(s);function l(V,m,f){for(let g=1;g<=40;g++)if(m<=o.getCapacity(g,f,V))return g}function c(V,m){return u.getCharCountIndicator(V,m)+4}function i(V,m){let f=0;return V.forEach(function(g){const b=c(g.mode,m);f+=b+g.getBitsLength()}),f}function d(V,m){for(let f=1;f<=40;f++)if(i(V,f)<=o.getCapacity(f,m,u.MIXED))return f}o.from=function(m,f){return r.isValid(m)?parseInt(m,10):f},o.getCapacity=function(m,f,g){if(!r.isValid(m))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=u.BYTE);const b=e.getSymbolTotalCodewords(m),w=t.getTotalCodewordsCount(m,f),C=(b-w)*8;if(g===u.MIXED)return C;const p=C-c(g,m);switch(g){case u.NUMERIC:return Math.floor(p/10*3);case u.ALPHANUMERIC:return Math.floor(p/11*2);case u.KANJI:return Math.floor(p/13);case u.BYTE:default:return Math.floor(p/8)}},o.getBestVersionForData=function(m,f){let g;const b=n.from(f,n.M);if(Array.isArray(m)){if(m.length>1)return d(m,b);if(m.length===0)return 1;g=m[0]}else g=m;return l(g.mode,g.getLength(),b)},o.getEncodedBits=function(m){if(!r.isValid(m)||m<7)throw new Error("Invalid QR Code version");let f=m<<12;for(;e.getBCHDigit(f)-a>=0;)f^=s<<e.getBCHDigit(f)-a;return m<<12|f}}(Gt);var Jt={};const Le=$,qt=1335,Fo=21522,Qt=Le.getBCHDigit(qt);Jt.getEncodedBits=function(e,t){const n=e.bit<<3|t;let u=n<<10;for(;Le.getBCHDigit(u)-Qt>=0;)u^=qt<<Le.getBCHDigit(u)-Qt;return(n<<10|u)^Fo};var Zt={};const Lo=K;function W(o){this.mode=Lo.NUMERIC,this.data=o.toString()}W.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},W.prototype.getLength=function(){return this.data.length},W.prototype.getBitsLength=function(){return W.getBitsLength(this.data.length)},W.prototype.write=function(e){let t,n,u;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),u=parseInt(n,10),e.put(u,10);const r=this.data.length-t;r>0&&(n=this.data.substr(t),u=parseInt(n,10),e.put(u,r*3+1))};var Uo=W;const Ho=K,Ue=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function J(o){this.mode=Ho.ALPHANUMERIC,this.data=o}J.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},J.prototype.getLength=function(){return this.data.length},J.prototype.getBitsLength=function(){return J.getBitsLength(this.data.length)},J.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=Ue.indexOf(this.data[t])*45;n+=Ue.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(Ue.indexOf(this.data[t]),6)};var Oo=J,Ko=function(e){for(var t=[],n=e.length,u=0;u<n;u++){var r=e.charCodeAt(u);if(r>=55296&&r<=56319&&n>u+1){var s=e.charCodeAt(u+1);s>=56320&&s<=57343&&(r=(r-55296)*1024+s-56320+65536,u+=1)}if(r<128){t.push(r);continue}if(r<2048){t.push(r>>6|192),t.push(r&63|128);continue}if(r<55296||r>=57344&&r<65536){t.push(r>>12|224),t.push(r>>6&63|128),t.push(r&63|128);continue}if(r>=65536&&r<=1114111){t.push(r>>18|240),t.push(r>>12&63|128),t.push(r>>6&63|128),t.push(r&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer};const Xo=Ko,Yo=K;function q(o){this.mode=Yo.BYTE,typeof o=="string"&&(o=Xo(o)),this.data=new Uint8Array(o)}q.getBitsLength=function(e){return e*8},q.prototype.getLength=function(){return this.data.length},q.prototype.getBitsLength=function(){return q.getBitsLength(this.data.length)},q.prototype.write=function(o){for(let e=0,t=this.data.length;e<t;e++)o.put(this.data[e],8)};var Go=q;const Wo=K,Jo=$;function Q(o){this.mode=Wo.KANJI,this.data=o}Q.getBitsLength=function(e){return e*13},Q.prototype.getLength=function(){return this.data.length},Q.prototype.getBitsLength=function(){return Q.getBitsLength(this.data.length)},Q.prototype.write=function(o){let e;for(e=0;e<this.data.length;e++){let t=Jo.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),o.put(t,13)}};var qo=Q,en={exports:{}};(function(o){var e={single_source_shortest_paths:function(t,n,u){var r={},s={};s[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var l,c,i,d,V,m,f,g,b;!a.empty();){l=a.pop(),c=l.value,d=l.cost,V=t[c]||{};for(i in V)V.hasOwnProperty(i)&&(m=V[i],f=d+m,g=s[i],b=typeof s[i]>"u",(b||g>f)&&(s[i]=f,a.push(i,f),r[i]=c))}if(typeof u<"u"&&typeof s[u]>"u"){var w=["Could not find a path from ",n," to ",u,"."].join("");throw new Error(w)}return r},extract_shortest_path_from_predecessor_list:function(t,n){for(var u=[],r=n;r;)u.push(r),t[r],r=t[r];return u.reverse(),u},find_path:function(t,n,u){var r=e.single_source_shortest_paths(t,n,u);return e.extract_shortest_path_from_predecessor_list(r,u)},PriorityQueue:{make:function(t){var n=e.PriorityQueue,u={},r;t=t||{};for(r in n)n.hasOwnProperty(r)&&(u[r]=n[r]);return u.queue=[],u.sorter=t.sorter||n.default_sorter,u},default_sorter:function(t,n){return t.cost-n.cost},push:function(t,n){var u={value:t,cost:n};this.queue.push(u),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};o.exports=e})(en);var Qo=en.exports;(function(o){const e=K,t=Uo,n=Oo,u=Go,r=qo,s=F,a=$,l=Qo;function c(w){return unescape(encodeURIComponent(w)).length}function i(w,C,p){const h=[];let y;for(;(y=w.exec(p))!==null;)h.push({data:y[0],index:y.index,mode:C,length:y[0].length});return h}function d(w){const C=i(s.NUMERIC,e.NUMERIC,w),p=i(s.ALPHANUMERIC,e.ALPHANUMERIC,w);let h,y;return a.isKanjiModeEnabled()?(h=i(s.BYTE,e.BYTE,w),y=i(s.KANJI,e.KANJI,w)):(h=i(s.BYTE_KANJI,e.BYTE,w),y=[]),C.concat(p,h,y).sort(function(v,P){return v.index-P.index}).map(function(v){return{data:v.data,mode:v.mode,length:v.length}})}function V(w,C){switch(C){case e.NUMERIC:return t.getBitsLength(w);case e.ALPHANUMERIC:return n.getBitsLength(w);case e.KANJI:return r.getBitsLength(w);case e.BYTE:return u.getBitsLength(w)}}function m(w){return w.reduce(function(C,p){const h=C.length-1>=0?C[C.length-1]:null;return h&&h.mode===p.mode?(C[C.length-1].data+=p.data,C):(C.push(p),C)},[])}function f(w){const C=[];for(let p=0;p<w.length;p++){const h=w[p];switch(h.mode){case e.NUMERIC:C.push([h,{data:h.data,mode:e.ALPHANUMERIC,length:h.length},{data:h.data,mode:e.BYTE,length:h.length}]);break;case e.ALPHANUMERIC:C.push([h,{data:h.data,mode:e.BYTE,length:h.length}]);break;case e.KANJI:C.push([h,{data:h.data,mode:e.BYTE,length:c(h.data)}]);break;case e.BYTE:C.push([{data:h.data,mode:e.BYTE,length:c(h.data)}])}}return C}function g(w,C){const p={},h={start:{}};let y=["start"];for(let x=0;x<w.length;x++){const v=w[x],P=[];for(let z=0;z<v.length;z++){const I=v[z],T=""+x+z;P.push(T),p[T]={node:I,lastCount:0},h[T]={};for(let M=0;M<y.length;M++){const B=y[M];p[B]&&p[B].node.mode===I.mode?(h[B][T]=V(p[B].lastCount+I.length,I.mode)-V(p[B].lastCount,I.mode),p[B].lastCount+=I.length):(p[B]&&(p[B].lastCount=I.length),h[B][T]=V(I.length,I.mode)+4+e.getCharCountIndicator(I.mode,C))}}y=P}for(let x=0;x<y.length;x++)h[y[x]].end=0;return{map:h,table:p}}function b(w,C){let p;const h=e.getBestModeForData(w);if(p=e.from(C,h),p!==e.BYTE&&p.bit<h.bit)throw new Error('"'+w+'" cannot be encoded with mode '+e.toString(p)+`.
 Suggested mode is: `+e.toString(h));switch(p===e.KANJI&&!a.isKanjiModeEnabled()&&(p=e.BYTE),p){case e.NUMERIC:return new t(w);case e.ALPHANUMERIC:return new n(w);case e.KANJI:return new r(w);case e.BYTE:return new u(w)}}o.fromArray=function(C){return C.reduce(function(p,h){return typeof h=="string"?p.push(b(h,null)):h.data&&p.push(b(h.data,h.mode)),p},[])},o.fromString=function(C,p){const h=d(C,a.isKanjiModeEnabled()),y=f(h),x=g(y,p),v=l.find_path(x.map,"start","end"),P=[];for(let z=1;z<v.length-1;z++)P.push(x.table[v[z]].node);return o.fromArray(m(P))},o.rawSplit=function(C){return o.fromArray(d(C,a.isKanjiModeEnabled()))}})(Zt);const ke=$,He=pe,Zo=zo,e0=To,t0=Ut,n0=Ht,Oe=Kt,Ke=ge,o0=Do,Ce=Gt,u0=Jt,r0=K,Xe=Zt;function l0(o,e){const t=o.size,n=n0.getPositions(e);for(let u=0;u<n.length;u++){const r=n[u][0],s=n[u][1];for(let a=-1;a<=7;a++)if(!(r+a<=-1||t<=r+a))for(let l=-1;l<=7;l++)s+l<=-1||t<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?o.set(r+a,s+l,!0,!0):o.set(r+a,s+l,!1,!0))}}function a0(o){const e=o.size;for(let t=8;t<e-8;t++){const n=t%2===0;o.set(t,6,n,!0),o.set(6,t,n,!0)}}function s0(o,e){const t=t0.getPositions(e);for(let n=0;n<t.length;n++){const u=t[n][0],r=t[n][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?o.set(u+s,r+a,!0,!0):o.set(u+s,r+a,!1,!0)}}function i0(o,e){const t=o.size,n=Ce.getEncodedBits(e);let u,r,s;for(let a=0;a<18;a++)u=Math.floor(a/3),r=a%3+t-8-3,s=(n>>a&1)===1,o.set(u,r,s,!0),o.set(r,u,s,!0)}function Ye(o,e,t){const n=o.size,u=u0.getEncodedBits(e,t);let r,s;for(r=0;r<15;r++)s=(u>>r&1)===1,r<6?o.set(r,8,s,!0):r<8?o.set(r+1,8,s,!0):o.set(n-15+r,8,s,!0),r<8?o.set(8,n-r-1,s,!0):r<9?o.set(8,15-r-1+1,s,!0):o.set(8,15-r-1,s,!0);o.set(n-8,8,1,!0)}function c0(o,e){const t=o.size;let n=-1,u=t-1,r=7,s=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!o.isReserved(u,a-l)){let c=!1;s<e.length&&(c=(e[s]>>>r&1)===1),o.set(u,a-l,c),r--,r===-1&&(s++,r=7)}if(u+=n,u<0||t<=u){u-=n,n=-n;break}}}function d0(o,e,t){const n=new Zo;t.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),r0.getCharCountIndicator(l.mode,o)),l.write(n)});const u=ke.getSymbolTotalCodewords(o),r=Ke.getTotalCodewordsCount(o,e),s=(u-r)*8;for(n.getLengthInBits()+4<=s&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(s-n.getLengthInBits())/8;for(let l=0;l<a;l++)n.put(l%2?17:236,8);return m0(n,o,e)}function m0(o,e,t){const n=ke.getSymbolTotalCodewords(e),u=Ke.getTotalCodewordsCount(e,t),r=n-u,s=Ke.getBlocksCount(e,t),a=n%s,l=s-a,c=Math.floor(n/s),i=Math.floor(r/s),d=i+1,V=c-i,m=new o0(V);let f=0;const g=new Array(s),b=new Array(s);let w=0;const C=new Uint8Array(o.buffer);for(let v=0;v<s;v++){const P=v<l?i:d;g[v]=C.slice(f,f+P),b[v]=m.encode(g[v]),f+=P,w=Math.max(w,P)}const p=new Uint8Array(n);let h=0,y,x;for(y=0;y<w;y++)for(x=0;x<s;x++)y<g[x].length&&(p[h++]=g[x][y]);for(y=0;y<V;y++)for(x=0;x<s;x++)p[h++]=b[x][y];return p}function f0(o,e,t,n){let u;if(Array.isArray(o))u=Xe.fromArray(o);else if(typeof o=="string"){let c=e;if(!c){const i=Xe.rawSplit(o);c=Ce.getBestVersionForData(i,t)}u=Xe.fromString(o,c||40)}else throw new Error("Invalid data");const r=Ce.getBestVersionForData(u,t);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=r;else if(e<r)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+r+`.
`);const s=d0(e,t,u),a=ke.getSymbolSize(e),l=new e0(a);return l0(l,e),a0(l),s0(l,e),Ye(l,t,0),e>=7&&i0(l,e),c0(l,s),isNaN(n)&&(n=Oe.getBestMask(l,Ye.bind(null,l,t))),Oe.applyMask(n,l),Ye(l,t,n),{modules:l,version:e,errorCorrectionLevel:t,maskPattern:n,segments:u}}Ft.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let n=He.M,u,r;return typeof t<"u"&&(n=He.from(t.errorCorrectionLevel,He.M),u=Ce.from(t.version),r=Oe.from(t.maskPattern),t.toSJISFunc&&ke.setToSJISFunction(t.toSJISFunc)),f0(e,u,n,r)};var tn={},Ge={};(function(o){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let n=t.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+t);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(r){return[r,r]}))),n.length===6&&n.push("F","F");const u=parseInt(n.join(""),16);return{r:u>>24&255,g:u>>16&255,b:u>>8&255,a:u&255,hex:"#"+n.slice(0,6).join("")}}o.getOptions=function(n){n||(n={}),n.color||(n.color={});const u=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,r=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:r,scale:r?4:s,margin:u,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},o.getScale=function(n,u){return u.width&&u.width>=n+u.margin*2?u.width/(n+u.margin*2):u.scale},o.getImageWidth=function(n,u){const r=o.getScale(n,u);return Math.floor((n+u.margin*2)*r)},o.qrToImageData=function(n,u,r){const s=u.modules.size,a=u.modules.data,l=o.getScale(s,r),c=Math.floor((s+r.margin*2)*l),i=r.margin*l,d=[r.color.light,r.color.dark];for(let V=0;V<c;V++)for(let m=0;m<c;m++){let f=(V*c+m)*4,g=r.color.light;if(V>=i&&m>=i&&V<c-i&&m<c-i){const b=Math.floor((V-i)/l),w=Math.floor((m-i)/l);g=d[a[b*s+w]?1:0]}n[f++]=g.r,n[f++]=g.g,n[f++]=g.b,n[f]=g.a}}})(Ge),function(o){const e=Ge;function t(u,r,s){u.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=s,r.width=s,r.style.height=s+"px",r.style.width=s+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}o.render=function(r,s,a){let l=a,c=s;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),s||(c=n()),l=e.getOptions(l);const i=e.getImageWidth(r.modules.size,l),d=c.getContext("2d"),V=d.createImageData(i,i);return e.qrToImageData(V.data,r,l),t(d,c,i),d.putImageData(V,0,0),c},o.renderToDataURL=function(r,s,a){let l=a;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),l||(l={});const c=o.render(r,s,l),i=l.type||"image/png",d=l.rendererOpts||{};return c.toDataURL(i,d.quality)}}(tn);var nn={};const V0=Ge;function on(o,e){const t=o.a/255,n=e+'="'+o.hex+'"';return t<1?n+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':n}function We(o,e,t){let n=o+e;return typeof t<"u"&&(n+=" "+t),n}function p0(o,e,t){let n="",u=0,r=!1,s=0;for(let a=0;a<o.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!r&&(r=!0),o[a]?(s++,a>0&&l>0&&o[a-1]||(n+=r?We("M",l+t,.5+c+t):We("m",u,0),u=0,r=!1),l+1<e&&o[a+1]||(n+=We("h",s),s=0)):u++}return n}nn.render=function(e,t,n){const u=V0.getOptions(t),r=e.modules.size,s=e.modules.data,a=r+u.margin*2,l=u.color.light.a?"<path "+on(u.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+on(u.color.dark,"stroke")+' d="'+p0(s,r,u.margin)+'"/>',i='viewBox="0 0 '+a+" "+a+'"',V='<svg xmlns="http://www.w3.org/2000/svg" '+(u.width?'width="'+u.width+'" height="'+u.width+'" ':"")+i+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof n=="function"&&n(null,V),V};const g0=No,Je=Ft,un=tn,h0=nn;function qe(o,e,t,n,u){const r=[].slice.call(arguments,1),s=r.length,a=typeof r[s-1]=="function";if(!a&&!g0())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(u=t,t=e,e=n=void 0):s===3&&(e.getContext&&typeof u>"u"?(u=n,n=void 0):(u=n,n=t,t=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(t=e,e=n=void 0):s===2&&!e.getContext&&(n=t,t=e,e=void 0),new Promise(function(l,c){try{const i=Je.create(t,n);l(o(i,e,n))}catch(i){c(i)}})}try{const l=Je.create(t,n);u(null,o(l,e,n))}catch(l){u(l)}}oe.create=Je.create,oe.toCanvas=qe.bind(null,un.render),oe.toDataURL=qe.bind(null,un.renderToDataURL),oe.toString=qe.bind(null,function(o,e,t){return h0.render(o,t)});const v0=["src"],y0={key:0,class:"x-qrcode__maskWrapper"},w0=Vue.createElementVNode("div",null,"刷新",-1),k0={class:"x-qrcode__tip"},rn=Vue.defineComponent({name:"XQrcode",__name:"Qrcode",props:jt,emits:["refresh"],setup(o,{expose:e,emit:t}){const n=o,u=t,r=Vue.useAttrs(),s=Vue.ref(!1),a=Vue.ref(!1),l=Vue.ref(1);let c;const i=()=>{a.value=!1,c=setTimeout(()=>{s.value=!0},n.timeout)},d=async()=>{s.value=!1,a.value=!0,clearTimeout(c),u("refresh"),await m(),i()};n.timeout>0&&i(),Vue.onUnmounted(()=>{clearTimeout(c)});const V=Vue.ref(),m=async()=>{const{quality:g,value:b,darkColor:w,lightColor:C,...p}=n;p.color={dark:w,light:C};const h=typeof b=="function"?await b():b;oe.toDataURL(h,Object.assign(p,g==null||{renderOptions:{quality:g}})).then(y=>{V.value=y}).catch(y=>{console.log(y)})};Vue.watch(n,m,{immediate:!0}),Vue.watch(()=>n.width,()=>{n.width&&(l.value=n.width/140)},{immediate:!0});const f=Vue.ref();return e({qrcodeRef:f}),(g,b)=>Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",{class:"x-qrcode",ref_key:"qrcodeRef",ref:f},[Vue.createElementVNode("img",Vue.mergeProps({class:"x-qrcode__qrcode"},Vue.unref(r),{src:V.value}),null,16,v0),V.value&&s.value?(Vue.openBlock(),Vue.createElementBlock("div",y0,[Vue.createElementVNode("div",{class:"x-qrcode__mask",style:Vue.normalizeStyle({scale:l.value})},[Vue.createElementVNode("div",{class:"x-qrcode__logo",onClick:d},[Vue.renderSlot(g.$slots,"logo",{},()=>[Vue.createVNode(Vue.unref(A),{icon:Vue.unref(VtjIcons.Refresh),size:24},null,8,["icon"]),w0])]),Vue.createElementVNode("div",k0,[Vue.renderSlot(g.$slots,"tip",{},()=>[Vue.createTextVNode(Vue.toDisplayString(n.tip),1)])])],4)])):Vue.createCommentVNode("",!0)])),[[Vue.unref(ElementPlus.vLoading),a.value]])}}),C0={class:"x-sms-code-input"},b0=Vue.createElementVNode("span",null,[Vue.createElementVNode("strong",null,"59"),Vue.createTextVNode("s")],-1),_0=Vue.createElementVNode("div",{class:"x-sms-code-input__image"},"图片验证码",-1),ln=Vue.defineComponent({__name:"SmsCodeInput",setup(o){return(e,t)=>(Vue.openBlock(),Vue.createElementBlock("div",C0,[Vue.createVNode(Vue.unref(ElementPlus.ElInput),{class:"x-sms-code-input__input"},{suffix:Vue.withCtx(()=>[b0,Vue.createVNode(Vue.unref(ElementPlus.ElLink),{type:"primary",underline:!1},{default:Vue.withCtx(()=>[Vue.createTextVNode("获取验证码")]),_:1})]),_:1}),_0]))}}),B0={modelValue:{type:Array,default:()=>[]},selectValue:{type:[Object,Array]},uploader:{type:Function},multiple:{type:Boolean},limit:{type:Number},accept:{type:String,default:"image/*,audio/*,video/*,.zip,.svg,.pdf,.json,.docx,.xlsx,.pptx,.doc,.xls,.ppt"},disabled:{type:Boolean},size:{type:String,default:"default"},thumbnail:{type:Function},addable:{type:Boolean,default:!0},removable:{type:Boolean,default:!0},downloadable:{type:Boolean,default:!0},previewable:{type:Boolean,default:!0},selectable:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},listType:{type:String,default:"card"}};function Qe(o){if(o.type)return o.type;const e=o.name||o.url.split("?")[0],t=e.substring(e.lastIndexOf(".")+1).toLowerCase(),n=["jpg","png","gif","jpeg","bpm","webp","svg"],u=["js","mjs","cjs","ts","jsx","tsx"],r=["css","scss","sass","less"],s=["doc","docx"],a=["xls","xlsx"],l=["ppt","pptx"],c=["zip","rar"],i=["mp4","wmv"],d=["mp3","wma"],V=["pdf","json"];return n.includes(t)?"img":u.includes(t)?"js":r.includes(t)?"css":s.includes(t)?"word":a.includes(t)?"excel":l.includes(t)?"ppt":c.includes(t)?"zip":i.includes(t)?"video":d.includes(t)?"audio":V.includes(t)?t:"unknow"}function Ze(o){return Qe(o)==="img"}function ae(o){const{url:e,type:t,name:n}=o||{};return{url:e,type:t||Qe(o),name:n}}const E0={css:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1713229470455'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='22625'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='256'%20height='256'%3e%3cpath%20d='M743.417191%200l280.583066%20283.157223v655.380264a85.204583%2085.204583%200%200%201-85.461998%2085.461998H213.398352A85.204583%2085.204583%200%200%201%20128.708601%20938.537487v-106.570082H42.731771A42.730999%2042.730999%200%200%201%200.000772%20789.236406V426.537744a41.701337%2041.701337%200%200%201%2012.613367-30.117632%2042.473583%2042.473583%200%200%201%2030.117632-12.355951H128.708601V85.204583A85.461998%2085.461998%200%200%201%20213.398352%200z%20m-25.741566%2064.096499H213.398352a21.108084%2021.108084%200%200%200-15.187524%206.177975%2021.622915%2021.622915%200%200%200-6.177975%2014.930109v298.859578h639.935324A42.730999%2042.730999%200%200%201%20875.214007%20426.537744v362.698662a42.730999%2042.730999%200%200%201-42.730999%2042.730999H192.032853v106.570082a21.108084%2021.108084%200%200%200%2021.365499%2021.365499h725.139907a21.108084%2021.108084%200%200%200%2021.3655-21.365499V308.898789l-10.039211-10.296626H823.730876a97.81795%2097.81795%200%200%201-97.81795-98.075366v-128.707829zM191.260606%20467.209418a120.470528%20120.470528%200%200%200-100.392107%2043.245831%20154.449394%20154.449394%200%200%200-30.117632%2099.362443%20154.449394%20154.449394%200%200%200%2029.08797%2099.105029%20121.50019%20121.50019%200%200%200%20102.966263%2042.988414%20116.866708%20116.866708%200%200%200%2077.224697-25.741565%20120.985359%20120.985359%200%200%200%2042.988415-75.165372h-43.760662a85.461998%2085.461998%200%200%201-27.543475%2046.592234%2078.769191%2078.769191%200%200%201-48.136728%2014.415276%2079.541438%2079.541438%200%200%201-66.41324-28.058306%20121.757606%20121.757606%200%200%201-19.56359-74.650541%20118.153787%20118.153787%200%200%201%2020.078421-73.620878%2074.393125%2074.393125%200%200%201%2062.809421-29.087969%2081.343348%2081.343348%200%200%201%2047.107065%2012.355951%2064.096499%2064.096499%200%200%201%2025.741566%2039.642012h43.760662a100.392106%20100.392106%200%200%200-36.038193-66.155824%20122.529853%20122.529853%200%200%200-79.798853-25.741566z%20m258.702735%200a123.559516%20123.559516%200%200%200-72.848631%2019.821006%2064.868746%2064.868746%200%200%200-30.889879%2057.146276%2060.750095%2060.750095%200%200%200%2031.662126%2055.344366%20439.151112%20439.151112%200%200%200%2062.809421%2023.167409%20446.616166%20446.616166%200%200%201%2053.542456%2018.019096%2039.12718%2039.12718%200%200%201%2025.741566%2034.493698%2031.147295%2031.147295%200%200%201-17.76168%2027.28606%2098.590197%2098.590197%200%200%201-47.621897%2010.039211%2085.719414%2085.719414%200%200%201-49.938637-12.098536%2063.324252%2063.324252%200%200%201-22.137747-44.532909h-44.790324a93.441884%2093.441884%200%200%200%2037.840101%2077.224697%20136.94513%20136.94513%200%200%200%2079.026607%2019.56359%20136.687714%20136.687714%200%200%200%2081.343348-21.108084%2068.472565%2068.472565%200%200%200%2028.830554-58.175938%2065.383577%2065.383577%200%200%200-35.780777-59.205601%20418.815275%20418.815275%200%200%200-71.818968-25.741566%20398.479438%20398.479438%200%200%201-46.84965-16.732018A31.40471%2031.40471%200%200%201%20391.272572%20540.572881a29.087969%2029.087969%200%200%201%2016.732017-28.315723%2082.887842%2082.887842%200%200%201%2039.642011-7.465054%2077.224697%2077.224697%200%200%201%2045.305156%2011.068873A61.007511%2061.007511%200%200%201%20514.832087%20553.443663h43.760662a88.036155%2088.036155%200%200%200-32.949204-66.413239%20125.361425%20125.361425%200%200%200-75.680204-19.821006z%20m265.138128%200a123.559516%20123.559516%200%200%200-72.848632%2019.821006%2064.868746%2064.868746%200%200%200-30.889878%2057.146276A60.750095%2060.750095%200%200%200%20643.539916%20599.521066a439.151112%20439.151112%200%200%200%2062.80942%2023.167409%20446.616166%20446.616166%200%200%201%2053.542457%2018.019096%2039.12718%2039.12718%200%200%201%2025.741566%2034.493698%2031.147295%2031.147295%200%200%201-17.761681%2027.28606%2098.590197%2098.590197%200%200%201-47.621896%2010.039211%2085.719414%2085.719414%200%200%201-50.9683-12.098536%2063.324252%2063.324252%200%200%201-22.137747-44.532909h-44.018077a92.412221%2092.412221%200%200%200%2037.582686%2077.224697%20136.94513%20136.94513%200%200%200%2079.026606%2019.56359%20136.687714%20136.687714%200%200%200%2081.343348-21.108084%2068.472565%2068.472565%200%200%200%2028.830554-58.175938%2065.383577%2065.383577%200%200%200-35.780777-59.205601%20418.815275%20418.815275%200%200%200-71.818968-25.741566%20398.479438%20398.479438%200%200%201-46.84965-16.732018A31.40471%2031.40471%200%200%201%20656.410699%20540.572881a29.087969%2029.087969%200%200%201%2016.732017-28.315723%2082.887842%2082.887842%200%200%201%2039.642012-7.465054%2077.224697%2077.224697%200%200%201%2045.305155%2011.068873%2061.007511%2061.007511%200%200%201%2021.108084%2036.553024H823.730876a87.263908%2087.263908%200%200%200-32.949204-66.41324%20125.361425%20125.361425%200%200%200-75.680203-19.821005z'%20fill='%23007BEA'%20p-id='22626'%3e%3c/path%3e%3c/svg%3e",excel:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1713229259681'%20class='icon'%20viewBox='0%200%201082%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='13779'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='270.5'%20height='256'%3e%3cpath%20d='M1014.941308%20865.332934c-4.506568%2023.309835-32.633769%2023.869271-51.405956%2024.646266-116.673496%200.372957-233.47131-0.186479-350.238046%200v100.884967h-69.929506c-171.591468-31.017621-343.555892-59.735338-515.333838-89.634086V116.869663c172.834659-29.898749%20345.669317-59.362381%20518.379657-89.758406h66.883687v89.634087c112.726363%200%20225.452727%200.248638%20338.148011-0.310798%2019.020826%200.808074%2039.968598-0.559436%2056.53412%2010.753604%2011.592758%2016.627683%2010.225248%2037.668694%2011.002243%2056.65844-0.559436%20194.590505-0.310798%20389.056691-0.186479%20583.460717-0.590516%2032.57161%203.045818%2065.889134-3.853893%2098.025627z%20m-576.840724-547.283852c-25.547579%201.212111-51.126239%202.79718-76.580579%204.568727-18.989746%2046.029155-41.242869%2090.908358-56.067923%20138.522582-13.861582-44.910283-32.229732-88.204417-48.981734-132.026908-24.770585%201.336431-49.54117%202.79718-74.342835%204.25793%2026.138095%2057.404354%2053.954499%20113.969555%2079.3156%20171.684707-29.867669%2056.036844-57.808392%20112.819603-86.743667%20169.198325%2024.677346%201.025633%2049.323611%202.020186%2074.032036%202.393143%2017.528996-44.630565%2039.409162-87.551741%2054.669334-133.02146%2013.737263%2048.826335%2037.078178%2094.016336%2056.192243%20140.791405%2027.163728%201.864787%2054.172057%203.512015%2081.335785%205.128164-31.07978-62.781156-62.718997-125.096116-93.705538-187.877273a21887.624539%2021887.624539%200%200%200%2090.877278-183.619342z%20m546.786577-167.675416H613.297306v67.225565h90.131363v78.445366h-90.131363v44.848123h90.131363v78.445366h-90.131363v44.817043h90.131363v78.414286h-90.131363v44.879203h90.131363v78.445366h-90.131363v44.785963h90.131363v78.445366h-90.131363v67.225565h371.589855V150.373666z%20m-78.787244%20145.670931h-157.667726V217.599231h157.667726v78.445366z%20m0%20123.293489h-157.667726v-78.445366h157.667726v78.445366z%20m0%20123.293489h-157.667726V464.155129h157.667726v78.476446z%20m0%20123.262409h-157.667726v-78.445366h157.667726v78.445366z%20m0%20123.293489h-157.667726v-78.507526h157.667726v78.507526z'%20fill='%23207245'%20p-id='13780'%3e%3c/path%3e%3c/svg%3e",js:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1713229428492'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='20525'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='256'%20height='256'%3e%3cpath%20d='M896%20448H128v-384h541.866667v221.866667H896v162.133333z%20m-243.2%20251.733333c-4.266667-8.533333-12.8-12.8-21.333333-17.066666-12.8-4.266667-29.866667-8.533333-42.666667-12.8-17.066667-4.266667-34.133333-8.533333-46.933333-17.066667-12.8-4.266667-21.333333-12.8-25.6-21.333333-4.266667-8.533333-8.533333-21.333333-8.533334-29.866667%200-12.8%204.266667-25.6%2012.8-34.133333%208.533333-12.8%2017.066667-21.333333%2029.866667-25.6%2012.8-4.266667%2029.866667-8.533333%2046.933333-8.533334%2017.066667%200%2034.133333%204.266667%2051.2%208.533334%2012.8%204.266667%2025.6%2012.8%2034.133334%2025.6%208.533333%2012.8%2012.8%2025.6%2012.8%2038.4l-29.866667%204.266666c0-12.8-8.533333-25.6-17.066667-34.133333-12.8-8.533333-29.866667-12.8-42.666666-12.8-17.066667%200-29.866667%204.266667-42.666667%2012.8-8.533333%204.266667-12.8%2017.066667-12.8%2025.6%200%208.533333%204.266667%2017.066667%208.533333%2021.333333%2017.066667%208.533333%2034.133333%2017.066667%2051.2%2017.066667%2017.066667%204.266667%2038.4%208.533333%2055.466667%2017.066667%2012.8%204.266667%2025.6%2012.8%2034.133333%2025.6%208.533333%208.533333%208.533333%2021.333333%208.533334%2034.133333%200%2012.8-4.266667%2025.6-12.8%2038.4-8.533333%2012.8-21.333333%2021.333333-34.133334%2025.6-17.066667%208.533333-29.866667%208.533333-46.933333%208.533333-21.333333%200-38.4-4.266667-55.466667-8.533333-12.8-4.266667-25.6-17.066667-34.133333-29.866667-8.533333-12.8-12.8-29.866667-12.8-46.933333l29.866667-4.266667c0%2012.8%204.266667%2021.333333%208.533333%2029.866667%204.266667%208.533333%2017.066667%2017.066667%2025.6%2021.333333%2012.8%204.266667%2025.6%208.533333%2038.4%208.533334%2012.8%200%2021.333333%200%2034.133333-4.266667%208.533333-4.266667%2017.066667-8.533333%2021.333334-17.066667%204.266667-4.266667%208.533333-12.8%208.533333-21.333333-17.066667-4.266667-21.333333-12.8-25.6-17.066667z%20m-341.333333%2017.066667l29.866666-4.266667c0%2012.8%200%2029.866667%208.533334%2038.4%208.533333%208.533333%2017.066667%2012.8%2025.6%208.533334%208.533333%200%2017.066667%200%2021.333333-4.266667%204.266667-4.266667%208.533333-8.533333%2012.8-17.066667%204.266667-8.533333%204.266667-21.333333%204.266667-29.866666v-174.933334h34.133333v170.666667c0%2017.066667%200%2034.133333-8.533333%2046.933333-4.266667%2012.8-12.8%2021.333333-25.6%2025.6-12.8%204.266667-25.6%208.533333-38.4%208.533334-17.066667%200-38.4-4.266667-51.2-17.066667-8.533333-8.533333-17.066667-29.866667-12.8-51.2zM896%20960H128V896h768v64z%20m64-512V290.133333L669.866667%200H93.866667c-4.266667%200-12.8%204.266667-21.333334%208.533333-4.266667%208.533333-8.533333%2012.8-8.533333%2021.333334v418.133333H0V896h64v98.133333c0%208.533333%204.266667%2017.066667%208.533333%2021.333334%208.533333%204.266667%2012.8%208.533333%2021.333334%208.533333h832c8.533333%200%2017.066667-4.266667%2021.333333-8.533333%204.266667-4.266667%208.533333-12.8%208.533333-21.333334V896H1024V448h-64z'%20fill='%23129C00'%20p-id='20526'%3e%3c/path%3e%3c/svg%3e",json:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1713229451017'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='21591'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='256'%20height='256'%3e%3cpath%20d='M1008%20464h-72a8%208%200%200%201-8-8v-141.44a64%2064%200%200%200-18.688-45.376L658.688%2018.688A63.808%2063.808%200%200%200%20613.504%200H144a48%2048%200%200%200-48%2048v408a8%208%200%200%201-8%208H16A16%2016%200%200%200%200%20480v400c0%208.768%207.232%2016%2016%2016H96c0%2035.328%2014.272%2067.328%2037.504%2090.496%2023.168%2023.232%2055.168%2037.504%2090.496%2037.504h656a48%2048%200%200%200%2048-48v-64a16%2016%200%200%201%2016-16h64a16%2016%200%200%200%2016-16V480a16%2016%200%200%200-16-16zM704%20154.496L773.504%20224h-65.536A4.032%204.032%200%200%201%20704%20219.968V154.56zM160%2072c0-4.416%203.584-8%208-8H576a64%2064%200%200%201%2064%2064v144c0%208.832%207.232%2016%2016%2016h144a64%2064%200%200%201%2064%2064v104a8%208%200%200%201-8%208H168a8%208%200%200%201-8-8v-384z%20m492.288%20603.52c0%2032.512-9.472%2058.88-28.416%2079.104-18.88%2020.288-43.648%2030.4-74.24%2030.4-29.952%200-54.208-9.792-72.96-29.44-18.496-19.584-27.904-44.864-27.904-75.776%200-32.704%209.536-59.328%2028.608-79.808%2019.136-20.48%2044.352-30.784%2075.648-30.784%2029.76%200%2053.76%209.856%2072%2029.76%2018.176%2019.84%2027.264%2045.44%2027.264%2076.544z%20m-365.888%2053.248c16.896%2013.952%2035.84%2020.928%2057.28%2020.928%2012.16%200%2021.248-2.112%2027.328-6.272%206.08-4.224%209.216-9.536%209.216-16.128a22.528%2022.528%200%200%200-7.296-16c-4.928-4.992-17.6-11.904-38.4-20.48-32.64-13.824-48.896-33.92-48.896-60.416%200-19.392%207.36-34.56%2022.144-45.184%2014.848-10.688%2034.304-16.128%2058.752-16.128%2020.352%200%2037.44%202.688%2051.264%207.936v41.792a85.504%2085.504%200%200%200-49.216-14.336%2050.176%2050.176%200%200%200-26.24%206.016c-6.656%204.032-9.856%209.408-9.856%2016.128%200%205.376%202.24%2010.368%206.72%2014.848%204.48%204.48%2015.616%2010.752%2033.28%2018.432%2020.736%208.896%2035.008%2018.304%2042.88%2028.16a55.168%2055.168%200%200%201%2011.648%2035.328c0%2020.032-7.104%2035.328-21.312%2045.824-14.208%2010.496-34.368%2015.808-60.48%2015.808-23.936%200-43.52-3.904-58.688-11.648l-0.128-44.608c0.128%200%200%200%200%200z%20m-139.584%208.96c7.68%205.76%2016.512%208.768%2026.368%208.768%2021.44%200%2032.128-16.192%2032.128-48.64V572.736h44.48v126.848h-0.064c0%2027.52-6.4%2048.64-19.136%2063.488-12.672%2014.592-30.912%2022.016-54.592%2022.016a77.44%2077.44%200%200%201-29.184-5.44v-41.856zM864%20952a8%208%200%200%201-8%208H224a64%2064%200%200%201-64-64h696c4.416%200%208%203.584%208%208v48z%20m9.216-170.624h-45.504L739.328%20646.4a162.048%20162.048%200%200%201-10.048-17.024h-0.64c0.768%207.232%201.152%2018.304%201.152%2033.28v118.72h-42.24V572.8h48.576l85.12%20131.2c5.632%208.64%209.024%2014.144%2010.368%2016.576h0.64a199.168%20199.168%200%200%201-1.28-28.8v-119.04h42.24v208.704z%20m-267.392-103.168c0%2020.864-4.8%2037.504-14.528%2049.792-9.728%2012.288-23.296%2018.56-40.704%2018.56a47.744%2047.744%200%200%201-40.32-19.328c-9.792-12.928-14.72-29.504-14.72-49.856%200-20.608%205.056-37.248%2015.04-50.176a49.536%2049.536%200%200%201%2041.216-19.392c17.216%200%2030.464%206.272%2039.872%2018.88%209.408%2012.608%2014.08%2029.824%2014.08%2051.52z'%20fill='%23A0D911'%20p-id='21592'%3e%3c/path%3e%3c/svg%3e",pdf:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1713229295544'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='14834'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='256'%20height='256'%3e%3cpath%20d='M535.198324%200h69.53853v95.276816c124.175945%200.677323%20248.351891-1.354647%20373.205159%200.677324a40.6394%2040.6394%200%200%201%2045.154889%2045.154889c1.919083%20234.579649%200%20469.272186%201.128872%20703.851835-1.128872%2024.044979%202.257744%2050.686363-11.288722%2072.022049-17.045971%2012.417595-38.946092%2011.288722-58.814243%2011.288722H604.962628v95.276816h-72.925146C354.917429%20990.924044%20177.458715%20960.557381%200%20928.723184V95.502591C178.361812%2063.555507%20356.836512%2032.51152%20535.198324%200z'%20fill='%23A33639'%20p-id='14835'%3e%3c/path%3e%3cpath%20d='M604.736854%20130.949179h383.816558v762.101642h-383.816558v-95.276816h302.42487v-47.638408H604.736854v-59.491567h302.42487V643.457171H604.736854v-60.056002h302.42487v-47.638409H604.736854v-59.491566h302.42487V428.971447H604.736854v-59.830228h302.42487v-47.638408H604.736854V261.898357h302.42487v597.17341H604.736854z'%20fill='%23FFFFFF'%20p-id='14836'%3e%3c/path%3e%3cpath%20d='M645.489141%20529.66685h302.424871v47.638409H645.489141zM645.489141%20611.510087h302.424871v47.638408H645.489141zM645.489141%20693.353324h302.424871v47.638408H645.489141zM596.383199%20775.19656h351.530813v47.638409H596.383199z'%20fill='%23A33639'%20p-id='14837'%3e%3c/path%3e%3cpath%20d='M180.619557%20317.325984c59.265792%202.822181%20130.949179-24.044979%20180.619557%2021.335685%2046.961085%2058.475582%2034.54349%20165.831331-35.107927%20200.713483-24.722302%2012.982031-53.169882%2011.288722-80.037041%2010.272737v130.949179L180.619557%20675.065594c-0.903098-119.208908-1.128872-238.530702%200-357.73961z'%20fill='%23FFFFFF'%20p-id='14838'%3e%3c/path%3e%3cpath%20d='M245.642597%20377.720648c21.448572-1.015985%2048.089957-5.079925%2062.539522%2015.578437a82.407673%2082.407673%200%200%201%201.467534%2073.263808c-12.417595%2022.577445-40.526513%2020.771249-62.313747%2023.367655-2.257744-37.365671-2.03197-74.731342-1.693309-112.2099zM885.713152%20379.865505a83.988094%2083.988094%200%200%201-48.315732-19.642376%20460.57987%20460.57987%200%200%200-77.666409%2024.835189c-20.3197%2036.011024-39.171866%2054.411641-55.540514%2054.411641a17.384632%2017.384632%200%200%201-9.821188-2.596406%2019.416602%2019.416602%200%200%201-11.288723-17.723294c0-5.870136%201.354647-22.577445%2063.329733-49.105942a467.917539%20467.917539%200%200%200%2034.656377-81.278801c-7.902106-15.691324-24.835189-54.298754-13.094918-73.941131a20.658362%2020.658362%200%200%201%2020.206813-10.498511%2021.900121%2021.900121%200%200%201%2017.045971%208.466541c8.466542%2011.288722%207.789218%2036.688347-3.27373%2073.376695A196.988204%20196.988204%200%200%200%20842.70312%20338.661669a221.14607%20221.14607%200%200%201%2041.090949-4.515489c30.705325%200.677323%2035.333701%2015.014001%2034.656377%2023.59343%200%2022.577445-21.56146%2022.577445-32.624407%2022.577444z%20m-185.022159%2042.106935l2.257745-0.564436a45.154889%2045.154889%200%200%200%2023.932091-16.820197%2056.443612%2056.443612%200%200%200-26.189836%2017.384633z%20m93.357734-200.261934h-2.144858a4.402602%204.402602%200%200%200-2.82218%200.677323%2052.492559%2052.492559%200%200%200%204.176827%2033.866167%2053.282769%2053.282769%200%200%200%200.790211-34.54349zM790.210561%20317.551758v1.24176l-0.677323-0.677324c-5.418587%2014.336677-11.288722%2028.44758-18.061956%2042.332709l1.128872-0.677323V361.239114A346.338%20346.338%200%200%201%20812.788006%20348.595745l-0.677324-0.564436h1.806196a196.310881%20196.310881%200%200%201-23.706317-30.479551z%20m94.599493%2034.769265a66.151913%2066.151913%200%200%200-18.174843%201.693308%2050.686363%2050.686363%200%200%200%2020.997024%206.660347%2026.076949%2026.076949%200%200%200%2013.885128-1.580422c-0.451549-2.596406-3.273729-6.773233-17.158858-6.773233z'%20fill='%23A33639'%20p-id='14839'%3e%3c/path%3e%3c/svg%3e",ppt:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1713229322104'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='16865'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='256'%20height='256'%3e%3cpath%20d='M538.731891%200h65.98683v107.168391c124.387582%200.722484%20248.895579-1.324553%20373.28316%200a40.699906%2040.699906%200%200%201%2045.034808%2046.118533c2.047037%20222.404516%200%20444.929445%201.204139%20667.454374-1.204139%2024.082785%202.287865%2050.694262-11.198495%2072.248354-16.978363%2012.041392-39.014111%2010.957667-59.002822%2012.041392-116.319849-0.60207-232.639699%200-349.200376%200V1023.518344h-72.248354C355.100659%20990.886171%20177.490122%20960.662277%200%20928.752587V95.488241C179.537159%2063.698965%20359.074318%2031.30762%20538.731891%200z'%20fill='%23D24625'%20p-id='16866'%3e%3c/path%3e%3cpath%20d='M604.718721%20142.931326H988.598307v726.216369H604.718721v-95.247413h279.239887v-47.563499H604.718721v-60.206962h279.239887v-46.96143H604.839135v-69.960489c46.118532%2014.570085%2098.619003%2014.208843%20139.800564-14.088429%2044.553151-27.093133%2067.793039-78.630292%2071.646284-130.047036H663.119473c0-51.777987%200.60207-103.555974-0.963311-155.213547-19.145814%203.732832-38.171214%207.826905-57.196614%2012.041392z'%20fill='%23FFFFFF'%20p-id='16867'%3e%3c/path%3e%3cpath%20d='M686.35936%20224.69238a165.689558%20165.689558%200%200%201%20153.16651%20156.5381c-51.055503%200.60207-102.111007%200-153.286924%200%200.120414-52.380056%200.120414-104.278457%200.120414-156.5381z'%20fill='%23D24625'%20p-id='16868'%3e%3c/path%3e%3cpath%20d='M186.64158%20314.521167c63.21731%203.130762%20139.680151-25.527752%20192.662277%2022.878645%2050.092192%2062.374412%2036.84666%20176.888053-37.44873%20214.095955-26.370649%2013.847601-56.714958%2012.041392-85.373471%2010.957667v139.68015l-69.238006-5.900282c-1.806209-127.157103-2.047037-254.434619-0.60207-381.712135z'%20fill='%23FFFFFF'%20p-id='16869'%3e%3c/path%3e%3cpath%20d='M255.759172%20378.942615c22.878645-0.963311%2051.296331-5.298213%2066.709313%2016.737536a87.902164%2087.902164%200%200%201%201.565381%2078.148635c-13.245532%2024.082785-43.228598%2022.035748-66.468485%2024.925682-2.408278-39.857008-2.167451-79.714017-1.806209-119.811853z'%20fill='%23D24625'%20p-id='16870'%3e%3c/path%3e%3c/svg%3e",unknow:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1713229667944'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='29126'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='256'%20height='256'%3e%3cpath%20d='M604.672%20142.848h384v726.528h-384V142.848z'%20fill='%23FFFFFF'%20p-id='29127'%3e%3c/path%3e%3cpath%20d='M1022.976%20154.112c2.56-22.528-12.8-42.496-35.328-45.568-3.072-0.512-6.656-0.512-9.728%200-123.904-2.048-248.832%200-373.248%200V0h-65.536C358.912%2031.232%20179.712%2063.488%200%2095.744v833.024c177.664%2031.744%20355.328%2061.952%20532.48%2094.72h72.192v-118.784h349.184c19.968-1.024%2041.984%200.512%2058.88-12.288%2013.312-21.504%2010.24-48.128%2011.264-72.192-1.536-221.184%201.024-443.904-1.024-666.112z%20m-34.304%20715.264h-384V142.848h384v726.528z'%20fill='%238199AF'%20p-id='29128'%3e%3c/path%3e%3cpath%20d='M252.928%20590.848c1.024-19.968%205.632-37.376%2013.824-52.736%208.192-15.36%2023.04-30.72%2044.544-46.592%2016.896-13.312%2028.672-23.04%2034.816-29.696%206.144-6.656%2011.264-13.824%2014.848-21.504%203.584-7.68%205.12-15.872%205.12-24.576%200-18.944-5.632-33.28-16.896-43.008-11.264-9.728-27.136-14.336-46.592-14.336s-35.328%205.632-47.616%2016.896c-12.288%2011.264-19.456%2028.16-20.992%2050.176l-73.728-2.56c4.608-37.888%2018.944-67.072%2044.032-87.04%2025.088-19.968%2057.856-30.208%2098.304-30.208%2043.008%200%2076.288%209.216%20100.352%2027.648%2024.064%2018.432%2035.84%2044.544%2035.84%2078.848%200%2018.944-4.608%2036.352-13.824%2052.224-9.216%2016.384-25.088%2033.28-48.64%2050.688l-20.48%2015.36c-24.576%2018.944-37.376%2038.912-37.888%2060.928H252.928z%20m-5.12%20114.688V640H327.68v66.048H247.808z'%20fill='%23FCFCFC'%20p-id='29129'%3e%3c/path%3e%3c/svg%3e",word:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1713229195392'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='8195'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='256'%20height='256'%3e%3cpath%20d='M535.119473%200h69.599248v95.247413C729.226717%2096.331138%20853.614299%2093.92286%20977.881468%2096.331138a40.459078%2040.459078%200%200%201%2044.914393%2045.516463c2.047037%20234.566322%200%20469.614299%201.204139%20703.819379-1.204139%2024.082785%202.287865%2050.694262-11.318909%2072.248354-16.978363%2012.041392-38.893697%2010.837253-58.761994%2012.041392h-349.200376V1023.518344h-72.248354C354.980245%20990.886171%20177.490122%20960.541863%200%20928.752587V95.488241C178.33302%2063.578551%20356.786453%2032.511759%20535.119473%200z'%20fill='%232A5699'%20p-id='8196'%3e%3c/path%3e%3cpath%20d='M604.718721%20131.010348H988.598307v761.979304H604.718721v-95.247413h302.479774v-48.165569H604.718721v-59.002822h302.479774v-48.16557H604.718721v-59.002822h302.479774v-48.165569H604.718721v-60.206961h302.479774V428.673565H604.718721v-60.206961h302.479774v-46.96143H604.718721v-59.604892h302.479774V214.336783H604.718721zM240.827846%20341.373471c22.156162-1.324553%2044.19191-2.287865%2066.348071-3.492003%2015.533396%2080.4365%2031.30762%20160.632173%2048.165569%20240.827845%2013.125118-82.724365%2027.695202-165.087488%2041.783632-247.571025%2023.239887-0.842897%2046.479774-2.167451%2069.719661-3.612418-26.370649%20115.356538-49.369708%20231.796802-78.148636%20346.430856-19.386642%2010.355597-48.165569%200-71.52587%201.204139C301.034807%20596.169332%20283.093133%20517.779868%20269.245532%20438.667921c-13.606773%2076.944497-31.30762%20153.16651-46.841016%20229.508937-22.39699-1.204139-44.793979-2.528692-67.311383-4.094073-19.266228-104.760113-42.024459-208.918156-60.206962-313.919097%2019.868297-0.963311%2039.857008-1.806209%2060.206962-2.528693%2012.041392%2075.860771%2025.648166%20151.360301%2036.124177%20227.341487%2016.135466-77.907808%2032.873001-155.695202%2049.610536-233.603011z'%20fill='%23FFFFFF'%20p-id='8197'%3e%3c/path%3e%3c/svg%3e",zip:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1713229493469'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='23652'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='256'%20height='256'%3e%3cpath%20d='M192.065027%20384.129533h640.128032a42.536025%2042.536025%200%200%201%2042.536025%2042.536025v362.730519a42.796982%2042.796982%200%200%201-42.536025%2042.796982H192.065027V939.446472a20.354662%2020.354662%200%200%200%206.262973%2015.135518%2021.659448%2021.659448%200%200%200%2015.135518%206.262973H939.446472a21.398491%2021.398491%200%200%200%2021.398491-21.398491V308.973857l-10.177331-10.177332h-127.347118a98.11991%2098.11991%200%200%201-97.858953-98.11991V72.546626l-8.611588-8.611588H213.463518a21.659448%2021.659448%200%200%200-15.135518%206.262973%2020.876577%2020.876577%200%200%200-6.262973%2015.135518zM128.130511%20832.193059H42.797504A42.796982%2042.796982%200%200%201%200.000522%20789.396077v-362.730519a41.753153%2041.753153%200%200%201%2012.525946-30.010079%2042.536025%2042.536025%200%200%201%2030.271036-12.525946h85.333007V85.333529A85.07205%2085.07205%200%200%201%20213.463518%200.000522h530.004091l280.528999%20282.355699V939.446472A84.550136%2084.550136%200%200%201%20939.446472%201023.996608H213.463518A84.550136%2084.550136%200%200%201%20128.130511%20939.446472z%20m32.619651-359.599033v38.36071h146.918909l-158.401026%20200.415136v35.229223h225.988943v-38.36071H208.766289l156.574325-199.893221v-35.751138z%20m251.040835%200v274.005069h44.88464v-274.005069z%20m98.641824%200v274.005069h45.145598v-104.382883h67.848874c66.805045%200%20100.207568-28.444336%20100.207568-84.811093s-33.402523-84.028221-99.424697-84.028221z%20m45.145598%2038.36071h65.239302a69.675575%2069.675575%200%200%201%2043.318896%2010.699245%2041.492196%2041.492196%200%200%201%2014.352647%2034.968266%2042.536025%2042.536025%200%200%201-13.830732%2035.751138%2073.589933%2073.589933%200%200%201-43.579854%2010.699245h-65.239302z'%20fill='%23007BEA'%20p-id='23653'%3e%3c/path%3e%3c/svg%3e",audio:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1713254049146'%20class='icon'%20viewBox='0%200%201718%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='3440'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='429.5'%20height='256'%3e%3cpath%20d='M1137.358398%20222.43912v-44.412335h-44.412336V0H536.219192c-37.995823%200-66.807224%2028.937216-66.807225%2066.807224v314.534956h22.143261V66.807224c0-24.65954%2020.004423-44.663964%2044.663964-44.663963h534.206167v177.775156h44.663964v44.663964h178.026785v712.610395c0%2024.65954-20.004423%2044.663964-44.663964%2044.663963H536.219192c-24.65954%200-44.663964-20.004423-44.663964-44.663963V470.670107h-22.143261v486.522669c0%2037.995823%2028.937216%2066.807224%2066.807225%2066.807224h712.232952c37.995823%200%2066.807224-28.937216%2066.807224-66.807224v-734.753656H1137.358398z'%20fill='%239FA0A6'%20p-id='3441'%3e%3c/path%3e%3cpath%20d='M558.362452%20890.385551h667.946431v44.663964H558.362452v-44.663964z%20m0-111.21956h667.946431v44.663964H558.362452v-44.663964z%20m0-111.471188h667.946431v44.663963H558.362452v-44.663963z%20m0%200'%20fill='%239FA0A6'%20p-id='3442'%3e%3c/path%3e%3cpath%20d='M803.196461%20111.21956h-356.053569c-24.282099%200-44.412336%2020.004423-44.663963%2044.412336v356.431011c0%2024.65954%2020.004423%2044.663964%2044.663963%2044.663964h356.053569c24.65954%200%2044.663964-20.004423%2044.663964-44.663964v-356.053569c0.125814-24.785354-20.004423-44.789778-44.663964-44.789778zM656.497358%20429.403121c-24.911168%203.019536-44.663964-9.813491-44.663963-30.95024%200-20.381865%2020.381865-40.13466%2044.663963-43.154196%2016.73326-2.138838%2026.420936%203.648605%2026.420937%203.648606V280.690994c0-9.813491-10.694188-6.039071-10.694189-6.039071L580.254085%20304.595651s-10.694188%203.648605-10.694188%2012.833026v97.505836c0%2020.381865-18.243027%2040.13466-43.154196%2043.154196-24.911168%203.648605-44.663964-9.184421-44.663964-29.440472%200-20.381865%2019.752795-40.13466%2044.663964-43.783266%2016.73326-2.138838%2024.407913%203.019536%2024.407912%203.019536v-113.987468c0-12.833026%209.813491-26.420936%2022.772331-30.069542l104.299791-33.089077c12.833026-3.648605%2022.772331%203.648605%2022.772331%2017.362329v158.651432h0.62907l0.125814-0.251628c-0.251628%2020.004423-20.507679%2039.883032-44.915592%2042.902568z'%20fill='%23A40FA8'%20p-id='3443'%3e%3c/path%3e%3c/svg%3e",video:"data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1713253996768'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2358'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='256'%20height='256'%3e%3cpath%20d='M1000.207102%20340.239099c0-59.250945-14.250227-116.376855-57.125911-161.252571-40.875652-42.875684-79.626269-87.751399-124.501985-122.501953C785.828684%2029.984153%20740.952969%205.483762%20702.202351%203.358729%20555.200007-2.766369%20408.197664%201.358697%20261.320322%201.358697c-40.875652%202.000032-71.50114%2026.500422-73.501171%2065.376042-2.000032%2051.000813%200%20104.12666%200%20155.127473h59.250944c0-42.875684%202.000032-83.751335%200-124.501985%200-24.500391%208.12513-34.750554%2034.750554-34.750554h410.256541c6.125098%200%2012.250195%202.000032%2022.500358%206.125098v224.503579h230.628677c0%20218.378481%200%20432.756899-4.125066%20645.010283%200%2028.625456-20.375325%2026.500422-38.750617%2026.500422H281.695647c-26.500422%200-40.875652-6.125098-38.750618-34.750554%202.000032-10.250163-2.000032-18.375293-2.000032-26.500422h-55.125878c-4.125066%2089.876433%2018.375293%20120.376919%2089.751431%20120.376919H912.455703c61.250976%200%2087.751399-26.500422%2087.751399-87.751399%200-197.878155%202.000032-397.881343%200-595.8845z%20m-226.628613-108.251726V101.360291l130.627082%20130.627082H773.578489z'%20fill='%23B85884'%20p-id='2359'%3e%3c/path%3e%3cpath%20d='M628.701179%20687.244631h234.753743v61.250977H628.701179zM634.826277%20411.615237h228.628645v65.376042H634.826277zM630.701211%20550.492451h234.753743v61.250977H630.701211zM22.441514%20311.613643v536.883559h538.883591V311.613643H22.441514z%20m94.251503%20499.382961H59.942112V754.245699h56.750905v56.750905z%20m0-135.127154H59.942112V619.243547h56.750905v56.625903z%20m0-135.002152H59.942112v-56.750905h56.750905v56.750905z%20m0-135.002153H59.942112v-56.750904h56.750905v56.750904z%20m299.629776%20201.128207l-184.877947%20106.751702c-20.750331%2012.000191-46.750745-3.000048-46.750745-27.000431V473.366222c0-24.000383%2026.000415-39.000622%2046.750745-27.000431l184.877947%20106.751702c20.750331%2012.000191%2020.750331%2041.875668%200%2053.875859z%20m107.501714%20204.003252h-56.750904V754.245699h56.750904v56.750905z%20m0-135.127154h-56.750904V619.243547h56.750904v56.625903z%20m0-135.002152h-56.750904v-56.750905h56.750904v56.750905z%20m0-135.002153h-56.750904v-56.750904h56.750904v56.750904z'%20fill='%23B85884'%20p-id='2360'%3e%3c/path%3e%3c/svg%3e"},x0={class:"x-attachment__upload"},S0=["onClick"],N0={class:"x-attachment__wrapper"},P0=["src"],z0=["title"],T0={key:0,class:"x-attachment__item-name"},I0={class:"el-upload-list__item-url"},D0={key:0,class:"el-upload-list__item-actions"},M0=["onClick"],$0=["onClick"],A0=["onClick"],an=Vue.defineComponent({name:"XAttachment",__name:"Attachment",props:B0,emits:["click","preview","remove","download","select","change","update:modelValue","update:selectValue"],setup(o,{expose:e,emit:t}){const n=ut(),u=o,r=t,s=Vue.ref(!1),a=Vue.ref(),l=Vue.ref(Symbol()),c=Vue.ref(!1),i=Vue.ref(0),d=Vue.ref([]),V=Vue.computed(()=>({[`x-attachment--${u.listType}`]:!!u.listType,"is-disabled":!!u.disabled,"is-pointer":!!u.clickable||!!u.selectable,"is-not-add":!u.addable||u.limit===m.value.length,[`is-${u.size}`]:!!u.size})),m=Vue.ref([]),f=Vue.computed(()=>m.value.filter(B=>Ze(B)).map(B=>B.url)),g=Vue.computed(()=>u.removable||u.previewable||u.downloadable),b=B=>{const E=Qe(B.response||B);return E==="img"?u.thumbnail?u.thumbnail(B):B.url:E0[E]},w=Vue.computed(()=>({autoUpload:!0,limit:u.limit,disabled:s.value||u.disabled,multiple:u.multiple,accept:u.accept,listType:{card:"picture-card",list:"picture"}[u.listType]}));Vue.watch(()=>u.modelValue,B=>{m.value=VtjUtils.cloneDeep(B||[])},{immediate:!0}),Vue.watch(()=>u.selectValue,B=>{d.value=[].concat(VtjUtils.cloneDeep(B||[]))},{immediate:!0});const C=(B,E)=>{ElementPlus.ElMessage.warning({message:`您选择的文件数量超过了限制，只允许上传${u.limit}个文件。`})},p=async B=>{const E=u.uploader||n.uploader;if(E){s.value=!0;const _=B.file,S=await E(_).catch(()=>null);if(!S){const L=m.value.findIndex(Z=>Z.uid===_.uid);L>-1&&(m.value.splice(L,1),ElementPlus.ElMessage.error({message:`文件${_.name}上传失败。`}))}return s.value=!1,typeof S=="string"?{url:S}:S}},h=B=>{const E=d.value.findIndex(_=>_.url===B.url);E>-1?u.multiple?d.value.splice(E,1):d.value=[]:u.multiple?d.value.push(ae(B.response||B)):d.value=[ae(B.response||B)],r("select",d.value),r("update:selectValue",u.multiple?d.value:d.value[0])},y=B=>{const E=d.value.findIndex(_=>_.url===B.url);E>-1&&d.value.splice(E,1)},x=B=>!!d.value.find(E=>E.url===B.url),v=B=>{u.clickable&&r("click",ae(B.response||B)),u.selectable&&h(B)},P=async(B,E)=>{if(E.every(S=>S.status==="success")&&E.length===m.value.length){const S=m.value.map(L=>ae(L.response||L));r("change",S),r("update:modelValue",S),l.value=Symbol()}},z=async B=>{if(!await ElementPlus.ElMessageBox.confirm("确定删除文件?","提示",{type:"warning"}).catch(()=>!1))return;const _=m.value.filter(S=>S.uid!==B.uid||S.url!==B.url).map(S=>ae(S.response||S));m.value=_,r("remove",B),r("change",_),r("update:modelValue",_),y(B),l.value=Symbol()},I=B=>{VtjUtils.downloadRemoteFile(B.url,B.name).catch(()=>{VtjUtils.downloadUrl(B.url,B.name)}),r("download",B)},T=B=>{Ze(B)?(i.value=f.value.findIndex(E=>E===B.url),c.value=!0):VtjUtils.downloadUrl(B.url,B.name),r("preview",B)},M=()=>{c.value=!1};return e({elUploadRef:a,remove:z,download:I,selections:d,fileList:m}),(B,E)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:Vue.normalizeClass(["x-attachment",V.value])},[(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElUpload),Vue.mergeProps({ref_key:"elUploadRef",ref:a,key:l.value,"file-list":m.value,"onUpdate:fileList":E[0]||(E[0]=_=>m.value=_)},w.value,{"on-exceed":C,"on-change":P,"http-request":p}),{file:Vue.withCtx(({file:_})=>[Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",{class:Vue.normalizeClass(["x-attachment__item",{"is-selected":x(_.response||_)}]),onClick:S=>v(_.response||_)},[Vue.createElementVNode("div",N0,[Vue.createElementVNode("img",{class:Vue.normalizeClass(["el-upload-list__item-thumbnail",{"is-icon":!Vue.unref(Ze)(_.response||_)}]),src:b(_.response||_)},null,10,P0),Vue.createElementVNode("div",{class:"el-upload-list__item-name",title:(_.response||_).url},[_.name?(Vue.openBlock(),Vue.createElementBlock("span",T0,Vue.toDisplayString((_.response||_).name),1)):Vue.createCommentVNode("",!0),Vue.createElementVNode("span",I0,Vue.toDisplayString((_.response||_).url),1)],8,z0)]),g.value?(Vue.openBlock(),Vue.createElementBlock("div",D0,[u.previewable?(Vue.openBlock(),Vue.createElementBlock("span",{key:0,onClick:S=>T(_.response||_),class:"el-upload-list__item-preview"},[Vue.createVNode(Vue.unref(ElementPlus.ElIcon),null,{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(VtjIcons.ZoomIn))]),_:1})],8,M0)):Vue.createCommentVNode("",!0),u.downloadable?(Vue.openBlock(),Vue.createElementBlock("span",{key:1,onClick:S=>I(_.response||_),class:"el-upload-list__item-delete"},[Vue.createVNode(Vue.unref(ElementPlus.ElIcon),null,{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(VtjIcons.Download))]),_:1})],8,$0)):Vue.createCommentVNode("",!0),u.removable&&!u.disabled?(Vue.openBlock(),Vue.createElementBlock("span",{key:2,onClick:S=>z(_),class:"el-upload-list__item-delete"},[Vue.createVNode(Vue.unref(ElementPlus.ElIcon),null,{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(VtjIcons.Delete))]),_:1})],8,A0)):Vue.createCommentVNode("",!0)])):Vue.createCommentVNode("",!0)],10,S0)),[[Vue.unref(ElementPlus.vLoading),_.status==="ready"||_.status==="uploading"]])]),tip:Vue.withCtx(()=>[Vue.renderSlot(B.$slots,"tip")]),default:Vue.withCtx(()=>[Vue.createElementVNode("div",x0,[Vue.createVNode(Vue.unref(ElementPlus.ElIcon),null,{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(VtjIcons.Plus))]),_:1})])]),_:3},16,["file-list"])),u.previewable&&c.value?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElImageViewer),{key:0,"hide-on-click-modal":"",teleported:"","url-list":f.value,"initial-index":i.value,onClose:M},null,8,["url-list","initial-index"])):Vue.createCommentVNode("",!0)],2))}}),R0=[A,H,R,ne,N,Ee,Y,de,wt,De,Ae,_t,Et,St,Pt,Tt,Dt,$t,Rt,rn,ln,an],{install:j0}=rt(R0);k.ADAPTER_KEY=ie,k.AdapterPlugin=sn,k.Draggable=xe,k.INSTALLED_KEY=_e,k.MASK_KEY=Te,k.Resizable=Ne,k.TAB_CREATORS_KEY=ze,k.TAB_ITEM_WIDTH=gt,k.TYPES=So,k.VTJ_UI_VERSION=ee,k.XAction=R,k.XActionBar=ne,k.XAttachment=an,k.XContainer=N,k.XDataItem=St,k.XDialog=de,k.XDialogForm=_t,k.XField=De,k.XForm=Ae,k.XHeader=Ee,k.XIcon=A,k.XImageCodeInput=Rt,k.XInputUnit=$t,k.XList=Pt,k.XMask=wt,k.XMenu=H,k.XPanel=Y,k.XQrcode=rn,k.XSmsCodeInput=ln,k.XStartup=Tt,k.XTabs=Et,k.XTest=Dt,k.actionBarProps=it,k.actionProps=Be,k.builtinFieldEditors=Ie,k.containerProps=ct,k.createDialog=me,k.dataItemProps=xt,k.defineTab=Zn,k.dialogFormProps=bt,k.dialogProps=pt,k.fieldProps=kt,k.formInstanceKey=Me,k.formModelKey=$e,k.formProps=Ct,k.getSizeValue=j,k.headerProps=dt,k.iconProps=ot,k.iconSizeMap=nt,k.imageCodeInputProps=At,k.inputUnitProps=Mt,k.install=j0,k.listProps=Nt,k.makeInstaller=rt,k.maskProps=ht,k.panelProps=mt,k.parseSize=te,k.qrcodeProps=jt,k.startupProps=zt,k.tabsProps=Bt,k.testProps=It,k.toObjectProps=be,k.useAdapter=ut,k.useDisabled=ce,k.useIcon=X,k.useIconProps=at,k.useLoader=st,k.vDraggable=Vt,k.vResizable=Pe,Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});
