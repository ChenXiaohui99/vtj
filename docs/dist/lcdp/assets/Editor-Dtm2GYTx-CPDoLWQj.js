var v=Object.defineProperty;var y=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var f=(o,a,t)=>a in o?v(o,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[a]=t,g=(o,a)=>{for(var t in a||(a={}))h.call(a,t)&&f(o,t,a[t]);if(y)for(var t of y(a))E.call(a,t)&&f(o,t,a[t]);return o};var _=(o,a,t)=>new Promise((r,d)=>{var c=l=>{try{u(t.next(l))}catch(m){d(m)}},e=l=>{try{u(t.throw(l))}catch(m){d(m)}},u=l=>l.done?r(l.value):Promise.resolve(l.value).then(c,e);u((t=t.apply(o,a)).next())});import{_ as p,e as V}from"./monaco-editor-DXF939Xd.js";import{d as w,r as T,j as k,n as D,H as b,f as B,o as O,c as P,M as A,a9 as L,a4 as x,O as I}from"./@vue-BvMObo90.js";const j=w({__name:"Editor",props:{lang:{default:"typescript"},modelValue:{default:""},options:{default:()=>({})},height:{default:"300px"},readonly:{type:Boolean,default:!1},dark:{type:Boolean,default:!1},border:{type:Boolean},minimap:{type:Boolean,default:!1}},emits:["change","blur","update:modelValue"],setup(o,{expose:a,emit:t}){const r=o;self.MonacoEnvironment={createTrustedTypesPolicy:void 0,getWorker(i,n){return _(this,null,function*(){let s;return n==="json"&&(s=yield p(()=>import("./json.worker-CIGjlMXB-odpG_8-U.js"),[],import.meta.url)),["css","scss","less"].includes(n)&&(s=yield p(()=>import("./css.worker-CR2iVKPT-BaTqWy85.js"),[],import.meta.url)),["html","handlebars","razor","vue"].includes(n)&&(s=yield p(()=>import("./html.worker-LqL7r0rA-3U9Bjz6a.js"),[],import.meta.url)),["typescript","javascript"].includes(n)&&(s=yield p(()=>import("./ts.worker-CJ90jexB-BCB1mae0.js"),[],import.meta.url)),s=s||(yield p(()=>import("./editor.worker-B3qW_3p_-B11RYRPo.js"),[],import.meta.url)),new s.default})}};const d=t,c=T();let e=null;const u=()=>_(this,null,function*(){var i;e&&(yield(i=e.getAction("editor.action.formatDocument"))==null?void 0:i.run(),e.setValue(e.getValue()))}),l=()=>_(this,null,function*(){yield u();const i=e==null?void 0:e.getValue();d("update:modelValue",i),d("blur",i)}),m=()=>{e=V.create(c.value,g({value:r.modelValue,language:r.lang,readOnly:r.readonly,theme:r.dark?"vs-dark":"vs",automaticLayout:!0,minimap:{enabled:r.minimap}},r.options)),e.onDidChangeModelContent(i=>{d("change",e==null?void 0:e.getValue(),i)}),e.onDidBlurEditorText(l)};return k(()=>{D(m)}),b(()=>{e&&e.dispose()}),B(()=>r.modelValue,i=>{e&&e.setValue(i)}),a({getEditor:()=>e}),(i,n)=>(O(),P("div",{class:A(["v-code-editor",{"is-border":r.border}]),ref_key:"container",ref:c,onKeyup:n[0]||(n[0]=L(x(()=>{},["stop"]),["enter"])),style:I({height:r.height})},null,38))}});export{j as default};
