# 项目结构

本文档全面概述了 VTJ Low-Code Development Platform 存储库结构，涵盖前端 Vue.js 组件、后端 NestJS 模块、构建系统配置和多平台部署架构的组织。

有关多平台构建系统配置的详细信息，请参阅多平台构建系统 。组件之间的架构关系，请参见架构概述 。

## 仓库组织

VTJ LCDP 存储库遵循整体式结构，将前端、后端和构建配置集成到一个支持多个部署目标的统一代码库中。

### 顶级目录结构

![](./image/1/1.png)

## 前端结构

前端遵循 Vue.js 3 种支持 TypeScript 的组合式 API 模式，组织成基于逻辑功能的模块。

### Vue.js 组件架构

![](./image/1/2.png)

## 后端模块结构

后端实现了模块化的 NestJS 架构，明确地分离了跨功能域的关注点。

### NestJS 模块组织

![](./image/1/3.png)

### 后端模块映射

| 模块       | 中文描述         | 主要功能                 |
| ---------- | ---------------- | ------------------------ |
| apps/      | 应用管理模块     | 核心应用程序生命周期管理 |
| access/    | 权限控制模块     | 分层权限控制             |
| cache/     | 缓存模块         | 双层缓存系统             |
| oauth/     | 第三方登录模块   | OAuth 2.0 身份验证流程   |
| users/     | 用户模块         | 用户帐户管理             |
| roles/     | 角色模块         | 基于角色的访问控制       |
| schemas/   | Service 接口     | Schema 服务实现          |
| templates/ | 模版模块业务逻辑 | 模板业务逻辑             |
| shared/    | 公共模块         | 共享实用程序和类型       |

## 构建系统配置

该项目通过复杂的构建配置系统支持多个构建目标和环境。

### 多环境构建矩阵

![](./image/1/4.png)

### 构建脚本配置

| 脚本命令             | 环境  | 目标       | TypeScript 检查 |
| -------------------- | ----- | ---------- | --------------- |
| npm run dev          | local | 开发服务器 | 不              |
| npm run sit:main     | sit   | main       | 是的            |
| npm run sit:web      | sit   | web        | 是的            |
| npm run sit:h5       | sit   | h5         | 是的            |
| npm run sit:uniapp   | sit   | uniapp     | 是的            |
| npm run build:main   | live  | main       | 是的            |
| npm run build:web    | live  | web        | 是的            |
| npm run build:h5     | live  | h5         | 是的            |
| npm run build:uniapp | live  | uniapp     | 是的            |

## 依赖项和生态系统集成

该项目通过专门的平台包和开发工具与 VTJ 生态系统集成。

### VTJ 生态系统依赖项

![](./image/1/5.png)

## 配置文件结构

### 主配置文件

| 文件              | 目的             | 主要特点                 |
| ----------------- | ---------------- | ------------------------ |
| package.json      | 项目元数据和脚本 | 多目标构建、VTJ 生态系统 |
| vite.config.ts    | 构建配置         | 基于环境的构建           |
| tsconfig.json     | TypeScript 配置  | 构建的类型检查           |
| scripts/clean.mjs | 清理实用程序     | 构建工件管理             |
| scripts/ssh.mjs   | 部署脚本         | 基于 SSH 的部署          |

项目结构反映了专为多平台部署而设计的复杂低代码平台架构，同时保持前端演示、后端业务逻辑和构建系统配置之间的明确分离。模块化后端设计支持可扩展的功能开发，而前端结构支持通过 TypeScript 支持进行可维护的 Vue.js 组件开发。
