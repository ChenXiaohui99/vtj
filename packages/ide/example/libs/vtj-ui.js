(function(c,E){typeof exports=="object"&&typeof module!="undefined"?E(exports):typeof define=="function"&&define.amd?define(["exports"],E):(c=typeof globalThis!="undefined"?globalThis:c||self,E(c.VtjUI={}))})(this,function(c){"use strict";var Lt=Object.defineProperty,Xt=Object.defineProperties;var Ht=Object.getOwnPropertyDescriptors;var Le=Object.getOwnPropertySymbols;var Wt=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable;var be=(c,E,S)=>E in c?Lt(c,E,{enumerable:!0,configurable:!0,writable:!0,value:S}):c[E]=S,N=(c,E)=>{for(var S in E||(E={}))Wt.call(E,S)&&be(c,S,E[S]);if(Le)for(var S of Le(E))Qt.call(E,S)&&be(c,S,E[S]);return c},D=(c,E)=>Xt(c,Ht(E));var $=(c,E,S)=>(be(c,typeof E!="symbol"?E+"":E,S),S);var P=(c,E,S)=>new Promise((L,G)=>{var le=R=>{try{X(S.next(R))}catch(Q){G(Q)}},ae=R=>{try{X(S.throw(R))}catch(Q){G(Q)}},X=R=>R.done?L(R.value):Promise.resolve(R.value).then(le,ae);X((S=S.apply(c,E)).next())});const E="";function S(o){return typeof o=="string"?o:`${o}px`}function L(o=0,e){if(typeof o=="number")return o;if(/(%|vh|vw)$/i.test(o)){const n=Number.parseInt(o);return Math.floor(e*n/100)}return Number.parseInt(o)}function G(o,e){const t={};return Object.keys(o).forEach(n=>{e.includes(n)||(t[n]=o[n])}),t}function le(o,e){const t={};return Object.keys(o).forEach(n=>{e.includes(n)&&(t[n]=o[n])}),t}const ae=()=>{},X=Symbol("INSTALLED_KEY"),R=(o=[])=>({install:t=>{t[X]||(t[X]=!0,o.forEach(n=>{n.name&&t.component(n.name,n)}))}}),Q="data:image/png;base64,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",Xe={class:"x-startup"},He={class:"brand"},We=["src"],Qe=Vue.createElementVNode("h3",null,[Vue.createTextVNode("基于 "),Vue.createElementVNode("span",null,"Vue3 + TypeScript"),Vue.createTextVNode(" 的低代码设计器引擎")],-1),Ke={class:"btn"},Ze=Vue.createElementVNode("div",{class:"ba"},[Vue.createElementVNode("a",{href:"http://beian.miit.gov.cn/"},"粤ICP备2023104074号")],-1),we=Vue.defineComponent({name:"XStartup",__name:"Startup",props:{text:{default:"VTJ.PRO"},link:{default:"/"},example:{}},setup(o){const e=o,t=()=>{location.href=e.link+"#/?startup"},n=()=>{e.example&&e.example(e.link)};return(l,r)=>(Vue.openBlock(),Vue.createElementBlock("div",Xe,[Vue.renderSlot(l.$slots,"default",{},()=>[Vue.createElementVNode("div",null,[Vue.createElementVNode("div",He,[Vue.createElementVNode("img",{src:Vue.unref(Q)},null,8,We),Vue.createElementVNode("h1",null,Vue.toDisplayString(e.text),1)]),Vue.createVNode(Vue.unref(ElementPlus.ElDivider)),Qe,Vue.createElementVNode("div",Ke,[Vue.createVNode(Vue.unref(ElementPlus.ElButton),{onClick:t,type:"primary",round:"",size:"large",icon:Vue.unref(ElementPlusIconsVue.VideoPlay)},{default:Vue.withCtx(()=>[Vue.createTextVNode(" 立即开始体验 ")]),_:1},8,["icon"]),e.example?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElButton),{key:0,onClick:n,type:"default",round:"",size:"large",icon:Vue.unref(ElementPlusIconsVue.Document)},{default:Vue.withCtx(()=>[Vue.createTextVNode(" 加载示例项目 ")]),_:1},8,["icon"])):Vue.createCommentVNode("",!0)])])]),Ze]))}}),Kt="",Ce={default:14,small:12,large:18},_e={icon:{type:[String,Object]},color:{type:String},size:{type:[Number,String],default:"inherit"},src:{type:String}},Je=["src"],O=Vue.defineComponent({name:"XIcon",__name:"Icon",props:_e,setup(o){const e=o,t=Vue.useAttrs(),n=Vue.getCurrentInstance(),l=Vue.computed(()=>{if(!e.icon)return null;const s=n==null?void 0:n.appContext.app;return typeof e.icon=="object"?Vue.markRaw(e.icon):(s==null?void 0:s.component(e.icon))||e.icon}),r=Vue.computed(()=>{const s={"is-pointer":!!t.onClick};return!l.value&&e.icon&&(s[e.icon]=!0),s}),u=Vue.computed(()=>{var s;return typeof e.size=="number"?e.size:(s=Ce[e.size])!=null?s:void 0});return(s,a)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElIcon),{class:Vue.normalizeClass(["x-icon",r.value]),color:e.color,size:u.value},{default:Vue.withCtx(()=>[Vue.renderSlot(s.$slots,"default",{},()=>[l.value?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(l.value),{key:0})):Vue.createCommentVNode("",!0),e.src?(Vue.openBlock(),Vue.createElementBlock("img",{key:1,src:e.src},null,8,Je)):Vue.createCommentVNode("",!0)])]),_:3},8,["class","color","size"]))}}),Ye={class:"x-menu__wrapper"},Ge={key:1,class:"x-menu__title"},qe=Vue.createElementVNode("i",null,null,-1),et={key:0,class:"x-menu__title"},tt=Vue.createElementVNode("i",null,null,-1),Be=Vue.defineComponent({inheritAttrs:!1,name:"XMenuItem",__name:"MenuItem",props:{item:{},subMenu:{},defaultIcon:{type:[Object,Function]}},setup(o){const e=o,t=Vue.getCurrentInstance(),n=u=>{if(u){if(typeof u=="string"){const s=t==null?void 0:t.appContext.app;return(s==null?void 0:s.component(u))||e.defaultIcon||u}return u}},l=u=>typeof u=="object"?u:{value:u},r=(u=[])=>u.filter(s=>!s.hidden);return(u,s)=>e.item.children?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElSubMenu),Vue.mergeProps({key:0,disabled:e.item.disabled},e.subMenu,{index:String(e.item.id)}),{title:Vue.withCtx(()=>[Vue.createElementVNode("div",Ye,[e.item.icon?(Vue.openBlock(),Vue.createBlock(Vue.unref(O),{key:0,icon:n(e.item.icon)},null,8,["icon"])):Vue.createCommentVNode("",!0),e.item.title?(Vue.openBlock(),Vue.createElementBlock("span",Ge,Vue.toDisplayString(e.item.title),1)):Vue.createCommentVNode("",!0),e.item.badge?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElBadge),Vue.mergeProps({key:2,class:"x-menu__badge"},l(e.item.badge)),{default:Vue.withCtx(()=>[qe]),_:1},16)):Vue.createCommentVNode("",!0)])]),default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(r(e.item.children),a=>(Vue.openBlock(),Vue.createBlock(Vue.unref(Be),{key:a.id,item:a,subMenu:e.subMenu,defaultIcon:e.defaultIcon},null,8,["item","subMenu","defaultIcon"]))),128))]),_:1},16,["disabled","index"])):(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElMenuItem),{key:1,index:String(e.item.id),disabled:e.item.disabled},{title:Vue.withCtx(()=>[e.item.title?(Vue.openBlock(),Vue.createElementBlock("span",et,Vue.toDisplayString(e.item.title),1)):Vue.createCommentVNode("",!0),e.item.badge?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElBadge),Vue.mergeProps({key:1,class:"x-menu__badge"},l(e.item.badge)),{default:Vue.withCtx(()=>[tt]),_:1},16)):Vue.createCommentVNode("",!0)]),default:Vue.withCtx(()=>[e.item.icon?(Vue.openBlock(),Vue.createBlock(Vue.unref(O),{key:0,icon:n(e.item.icon)},null,8,["icon"])):Vue.createCommentVNode("",!0)]),_:1},8,["index","disabled"]))}}),F=Vue.defineComponent({inheritAttrs:!1,name:"XMenu",__name:"Menu",props:{data:{default:()=>[]},subMenu:{},defaultIcon:{}},emits:["select"],setup(o,{emit:e}){const t=o,n=Vue.computed(()=>t.data.filter(u=>!u.hidden)),l=(u,s)=>{const a=(i,d=[])=>{var m;for(const g of d){if(g.id.toString()===i.toString())return g;if((m=g.children)!=null&&m.length){const B=a(i,g.children);if(B)return B}}};return a(s,u)},r=u=>{const s=l(n.value,u);s&&e("select",s)};return(u,s)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElMenu),Vue.mergeProps({class:"x-menu"},u.$attrs,{onSelect:r}),{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(n.value,a=>(Vue.openBlock(),Vue.createBlock(Vue.unref(Be),{item:D(N({},a),{icon:a.icon||Vue.unref(ElementPlusIconsVue.Menu)}),defaultIcon:t.defaultIcon,subMenu:t.subMenu},null,8,["item","defaultIcon","subMenu"]))),256))]),_:1},16))}}),nt={class:"x-simple-mask__brand"},ot={class:"x-simple-mask__aciton"},Ee=Vue.defineComponent({name:"XSimpleMask",__name:"SimpleMask",props:{preview:{type:Boolean},project:{default:()=>({name:"Logo",home:"/"})},menu:{}},setup(o,{expose:e}){const t=o,n=VueRouter.useRouter(),l=VueRouter.useRoute(),r=Vue.computed(()=>l.params.id),u=()=>{const a=t.project.home;a&&n.push(a)},s=a=>{const i=a==null?void 0:a.id;if(i){const m=`${t.preview?"/preview":t.project.page}/${i}`;n.push(m)}};return e({goHome:u}),(a,i)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElContainer),{class:"x-simple-mask"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElHeader),{class:"x-simple-mask__header"},{default:Vue.withCtx(()=>[Vue.createElementVNode("div",nt,[Vue.createElementVNode("span",{class:"x-simple-mask__logo",onClick:u},[Vue.renderSlot(a.$slots,"logo",{},()=>[Vue.createTextVNode(Vue.toDisplayString(t.project.name),1)])])]),Vue.createElementVNode("div",ot,[Vue.renderSlot(a.$slots,"action")])]),_:3}),Vue.createVNode(Vue.unref(ElementPlus.ElContainer),null,{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElAside),{class:"x-simple-mask__aside"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(F),Vue.mergeProps(t.menu,{"default-active":r.value,onSelect:s}),null,16,["default-active"])]),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElMain),{class:"x-simple-mask__main"},{default:Vue.withCtx(()=>[Vue.renderSlot(a.$slots,"default",{},()=>[Vue.createVNode(Vue.unref(VueRouter.RouterView))])]),_:3})]),_:3}),a.$slots.footer?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElFooter),{key:0,class:"x-simple-mask__footer",height:"40px"},{default:Vue.withCtx(()=>[Vue.renderSlot(a.$slots,"footer")]),_:3})):Vue.createCommentVNode("",!0)]),_:3}))}}),re={name:{type:String},label:{type:String},value:{type:[String,Number,Object,Array,Boolean]},icon:{type:[String,Object]},mode:{type:String,default:"button"},menus:{type:Array},tooltip:{type:[String,Object]},badge:{type:[String,Number,Object]},dropdown:{type:Object},button:{type:Object},disabled:{type:[Boolean,Function]},size:{type:String,default:"default"},type:{type:String,default:"primary"},background:{type:String,default:"always"},circle:{type:Boolean}};function ut(o){return Vue.computed(()=>{const e=o.tooltip;if(e)return typeof e=="string"?{content:e}:e})}function lt(o){return Vue.computed(()=>{const e=o.badge;if(e)return typeof e=="object"?e:{value:e}})}function at(o){return Vue.computed(()=>{const{dropdown:e,menus:t}=o;if(t&&t.length>0)return Object.assign({popperClass:"x-action__menus",size:o.size},e||{})})}function Se(o){const e=Vue.getCurrentInstance();return Vue.computed(()=>{const t=Vue.unref(o);if(t)if(typeof t=="string"||t.setup||t.render||Vue.isVNode(t)){const n=e==null?void 0:e.appContext.app;return{icon:typeof t=="string"&&(n==null?void 0:n.component(t))||t}}else return t;return null})}function J(o){const e=Se(o);return e.value?Vue.markRaw(Vue.defineComponent({render:()=>Vue.h(O,e.value)})):null}function q(o,e){return Vue.computed(()=>{const t=Vue.unref(o);return typeof t=="function"?t(e):!!t})}const rt={key:0},st=Vue.defineComponent({__name:"Trigger",props:re,emits:["click"],setup(o,{emit:e}){const t=o,n=J(Vue.toRef(t,"icon")),l=q(Vue.toRef(t,"disabled")),r=Vue.computed(()=>({[`is-${t.mode}`]:!!t.mode,[`is-${t.type}`]:!!t.type,[`is-${t.size}`]:!!t.size&&t.size!=="default",[`is-background-${t.background}`]:t.mode==="icon"&&!!t.background,"is-disabled":!!t.disabled,"is-circle":!!t.circle})),u=()=>{e("click")};return(s,a)=>t.mode==="button"?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElButton),Vue.mergeProps({key:0,icon:Vue.unref(n),type:t.type,size:t.size,disabled:Vue.unref(l)},t.button,{onClick:u}),{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(s.label),1)]),_:1},16,["icon","type","size","disabled"])):(Vue.openBlock(),Vue.createElementBlock("div",{key:1,class:Vue.normalizeClass(["x-action__inner",r.value]),onClick:u},[(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(n)))),s.label?(Vue.openBlock(),Vue.createElementBlock("span",rt,Vue.toDisplayString(s.label),1)):Vue.createCommentVNode("",!0)],2))}}),M=Vue.defineComponent({name:"XAction",__name:"Action",props:re,emits:["click","command"],setup(o,{emit:e}){const t=o,n=Vue.useSlots(),l=ut(t),r=lt(t),u=at(t),s=q(Vue.toRef(t,"disabled")),a=Vue.computed(()=>({[`x-action--${t.mode}`]:!!t.mode})),i=()=>{e("click",t)},d=f=>{var _;const w=(_=t.menus)==null?void 0:_.find(V=>V.command===f);w&&e("command",w)},m=f=>Vue.h(ElementPlus.ElBadge,r.value,()=>[].concat(f)),g=f=>Vue.h(ElementPlus.ElDropdown,D(N({},u.value),{disabled:s.value,onCommand:d}),{default:()=>[f],dropdown:()=>[Vue.h(ElementPlus.ElDropdownMenu,()=>(t.menus||[]).map(w=>Vue.h(ElementPlus.ElDropdownItem,w,()=>n.item?n.item({item:w}):w.label)))]}),B=f=>Vue.h(ElementPlus.ElTooltip,D(N({},l.value),{disabled:s.value}),()=>[f]),h=Vue.computed(()=>{let f=n.default?n.default()[0]:Vue.h(Vue.markRaw(st),D(N({},t),{onClick:i}));return r.value&&(f=m(f)),u.value&&(f=g(f)),l.value&&(f=B(f)),f});return(f,w)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:Vue.normalizeClass(["x-action",a.value])},[(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(h.value)))],2))}}),xe={items:{type:Array},mode:{type:String,default:"button"},size:{type:String,default:"default"},type:{type:String,default:"primary"},background:{type:String,default:"always"},circle:{type:Boolean},disabled:{type:[Boolean,Function]},tooltip:{type:Object},badge:{type:Object},dropdown:{type:Object},button:{type:Object}},ee=Vue.defineComponent({name:"XActionBar",__name:"ActionBar",props:xe,emits:["click","command"],setup(o,{emit:e}){const t=o,n=Vue.computed(()=>(t.items||[]).map(u=>u==="|"?u:D(N({},u),{badge:u.badge?N(N({},t.badge),typeof u.badge=="object"?u.badge||{}:{value:u.badge}):void 0,tooltip:u.tooltip?N(N({},t.tooltip),typeof u.tooltip=="object"?u.tooltip||{}:{content:u.tooltip}):void 0}))),l=u=>{e("click",u)},r=(u,s)=>{e("command",u,s)};return(u,s)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(y),{class:"x-action-bar",align:"center"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(n.value,a=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[a==="|"?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElDivider),{key:0,direction:"vertical",class:"x-action-bar__divider"})):(Vue.openBlock(),Vue.createBlock(Vue.unref(M),Vue.mergeProps({key:1,mode:t.mode,size:t.size,type:t.type,circle:t.circle,background:t.background,button:t.button,dropdown:t.dropdown,disabled:Vue.unref(q)(t.disabled,a).value},a,{onClick:l,onCommand:i=>r(a,i)}),null,16,["mode","size","type","circle","background","button","dropdown","disabled","onCommand"]))],64))),256))]),_:1}))}}),ze={tag:{type:String,default:"div"},fit:{type:Boolean,default:!1},width:{type:[String,Number]},height:{type:[String,Number]},flex:{type:Boolean,default:!0},inline:{type:Boolean},direction:{type:String,default:"row"},wrap:{type:String,default:"nowrap"},justify:{type:String,default:"flex-start"},align:{type:String,default:"flex-start"},alignContent:{type:String,default:"stretch"},grow:{type:Boolean,default:!1},shrink:{type:Boolean,default:!1},alignSelf:{type:String,default:"auto"},overflow:{type:String},padding:{type:Boolean,default:!1}},y=Vue.defineComponent({name:"XContainer",__name:"Container",props:ze,setup(o){const e=o,t=Vue.getCurrentInstance(),n=Vue.computed(()=>{const u=t==null?void 0:t.parent;if(!u)return!1;const s=u.proxy;return s.$options.name==="XContainer"||!!s.flex}),l=Vue.computed(()=>{var u;return{"is-fit":e.fit,"is-flex":e.flex&&!e.inline,"is-inline-flex":e.flex&&e.inline,[`is-direction-${e.direction}`]:e.flex&&e.direction!=="row",[`is-wrap-${e.wrap}`]:e.flex&&e.wrap!=="nowrap",[`is-justify-${e.justify}`]:e.flex&&e.justify!=="flex-start",[`is-align-${e.align}`]:e.flex&&e.align!=="flex-start",[`is-align-content-${e.alignContent}`]:e.flex&&e.alignContent!=="stretch","is-grow":(u=e.grow)!=null?u:n.value,"is-shrink":n.value&&e.shrink,[`is-align-self-${e.alignSelf}`]:n.value&&e.alignSelf!=="auto",[`is-overflow-${e.overflow}`]:!!e.overflow,"is-padding":!!e.padding}}),r=Vue.computed(()=>{const{width:u,height:s,fit:a}=e;return a?null:{width:u?S(u):void 0,height:s?S(s):void 0}});return(u,s)=>(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(e.tag),{class:Vue.normalizeClass(["x-container",l.value]),style:Vue.normalizeStyle(r.value)},{default:Vue.withCtx(()=>[Vue.renderSlot(u.$slots,"default")]),_:3},8,["class","style"]))}}),Ne={size:{type:String,default:"default"},content:{type:String,default:""},subtitle:{type:String},icon:{type:[String,Object]},border:{type:Boolean},more:{type:Boolean}},it={key:2,class:"x-header__subtitle"},ct={key:0,class:"x-header__actions"},se=Vue.defineComponent({name:"XHeader",inheritAttrs:!1,__name:"Header",props:Ne,setup(o){const e=o,t=Vue.useAttrs(),n=J(Vue.toRef(e,"icon")),l=Vue.computed(()=>({[`is-size-${e.size}`]:!!e.size&&e.size!=="default","is-border":e.border,"is-pointer":!!t.onClick}));return(r,u)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(y),{class:Vue.normalizeClass(["x-header",l.value]),justify:"space-between",align:"center"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(y),{align:"center",class:Vue.normalizeClass(["x-header__wrapper",l.value]),grow:""},{default:Vue.withCtx(()=>[Vue.unref(n)?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(n)),{key:0,class:"x-header__icon"})):Vue.createCommentVNode("",!0),Vue.createElementVNode("span",Vue.mergeProps({class:"x-header__content"},r.$attrs),[Vue.renderSlot(r.$slots,"default",{},()=>[Vue.createTextVNode(Vue.toDisplayString(e.content),1)])],16),e.more?(Vue.openBlock(),Vue.createBlock(Vue.unref(O),{key:1,class:"x-header__more",icon:Vue.unref(ElementPlusIconsVue.ArrowRight)},null,8,["icon"])):Vue.createCommentVNode("",!0),e.subtitle||r.$slots.subtitle?(Vue.openBlock(),Vue.createElementBlock("span",it,[Vue.renderSlot(r.$slots,"subtitle",{},()=>[Vue.createTextVNode(Vue.toDisplayString(e.subtitle),1)])])):Vue.createCommentVNode("",!0)]),_:3},8,["class"]),r.$slots.actions?(Vue.openBlock(),Vue.createElementBlock("div",ct,[Vue.renderSlot(r.$slots,"actions")])):Vue.createCommentVNode("",!0)]),_:3},8,["class"]))}}),Pe={fit:{type:Boolean,default:!1},width:{type:[String,Number]},height:{type:[String,Number]},border:{type:Boolean,default:!0},radius:{type:Boolean,default:!0},card:{type:Boolean},size:{type:String},shadow:{type:String},header:{type:[String,Object]},bodyPadding:{type:Boolean,default:!0},footerPadding:{type:Boolean,default:!0},body:{type:Object},footer:{type:Object}},ie=Vue.defineComponent({name:"XPanel",__name:"Panel",props:Pe,setup(o,{expose:e}){const t=o,n=Vue.ref(),l=Vue.computed(()=>({"x-panel--card":!!t.card,"x-panel--default":!t.card,[`is-${t.size}`]:!!t.size&&t.size!=="default","is-border":!!t.border,"is-radius":!!t.radius,[`is-shadow-${t.shadow}`]:!!t.shadow&&t.shadow!=="none"})),r=Vue.computed(()=>t.header===null?null:typeof t.header=="string"?{content:t.header,size:t.size}:D(N({},t.header),{size:t.size})),u=Vue.computed(()=>t.fit||t.height?"auto":void 0);return e({bodyRef:n}),(s,a)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(y),{class:Vue.normalizeClass(["x-panel",l.value]),direction:"column",fit:t.fit,width:t.width,height:t.height},{default:Vue.withCtx(()=>[r.value?(Vue.openBlock(),Vue.createBlock(Vue.unref(y),{key:0,flex:!1,class:"x-panel__header"},{default:Vue.withCtx(()=>[Vue.renderSlot(s.$slots,"header",{},()=>[Vue.createVNode(Vue.unref(se),Vue.normalizeProps(Vue.guardReactiveProps(r.value)),{default:Vue.withCtx(()=>[Vue.renderSlot(s.$slots,"title")]),actions:Vue.withCtx(()=>[Vue.renderSlot(s.$slots,"actions")]),_:3},16)])]),_:3})):Vue.createCommentVNode("",!0),Vue.createVNode(Vue.unref(y),Vue.mergeProps({ref_key:"bodyRef",ref:n,flex:!1,overflow:u.value,grow:"",padding:"",class:"x-panel__body"},t.body),{default:Vue.withCtx(()=>[Vue.renderSlot(s.$slots,"default")]),_:3},16,["overflow"]),s.$slots.footer?(Vue.openBlock(),Vue.createBlock(Vue.unref(y),Vue.mergeProps({key:1,flex:!1,padding:"",class:"x-panel__footer"},t.footer),{default:Vue.withCtx(()=>[Vue.renderSlot(s.$slots,"footer")]),_:3},16)):Vue.createCommentVNode("",!0)]),_:3},8,["class","fit","width","height"]))}}),Te="user-select-none";class ce{constructor(e,t={}){$(this,"scope");$(this,"dragging",!1);this.el=e,this.options=t,this.scope=Vue.effectScope(),this.scope.run(()=>{this.init()})}getHandle(){const{selector:e,handle:t}=this.options;return e?this.el.querySelector(e):t}getTarget(){const{target:e="body"}=this.options;return typeof e=="string"?document.querySelector(e):Vue.unref(e)||document.body}init(){const{el:e,options:t}=this,{disabled:n,delay:l=150,onStart:r,onEnd:u}=t;if(n)return;let s=null;const a=this.getHandle(),i=this.getTarget();let d=e.getBoundingClientRect(),m=null;const{x:g,y:B}=VueUse.useDraggable(e,D(N({initialValue:{x:d.x,y:d.y}},t),{handle:a,onStart:(h,f)=>{document.body.classList.add(Te),clearTimeout(s),s=setTimeout(()=>{this.dragging=!0,d=e.getBoundingClientRect(),m=i==null?void 0:i.getBoundingClientRect(),r&&r(h,f)},l)},onEnd:(h,f)=>{if(clearTimeout(s),document.body.classList.remove(Te),this.dragging&&m){this.dragging=!1;const{x:w,y:_}=h,V=this.getPosition(m,d,w,_);u&&u(V,f),m=null}}}));Vue.watch([g,B],()=>{if(this.dragging&&m){const h=this.getPosition(m,d,g.value,B.value);e.style.left=`${h.x}px`,e.style.top=`${h.y}px`}})}getPosition(e,t,n,l){const{edge:r=50}=this.options,u=-t.width+r,s=e.width-r,a=0,i=e.height-r,d=Math.min(s,Math.max(n,u)),m=Math.min(i,Math.max(l,a));return{x:d,y:m}}destory(){this.scope.stop()}}const Ie={mounted(o,e){const t=e.value||{},n=new ce(o,t);o.__draggable__=n},updated(o,e){const t=e.value||{};let n=o.__draggable__;n&&!VtjUtils.isEqual(n.options,t)&&(n.destory(),o.__draggable__=new ce(o,t))},unmounted(o){const e=o.__draggable__;e&&(e.destory(),o.__draggable__=null)}},de="user-select-none";class Ve{constructor(e,t={}){$(this,"scope");$(this,"resizing",Vue.ref(!1));$(this,"direction",Vue.ref(""));$(this,"MIE",null);$(this,"cleanMousedown");$(this,"cleanMouseup");this.el=e,this.options=t,this.scope=Vue.effectScope(),this.scope.run(()=>{this.init()})}init(){const{el:e,options:t}=this,{disabled:n,onStart:l,onEnd:r}=t;if(n)return;this.MIE=VueUse.useMouseInElement(e),this.cleanMousedown=VueUse.useEventListener(document,"mousedown",()=>{var a;(a=this.direction)!=null&&a.value&&this.MIE&&(this.resizing.value=!0,e.classList.add("is-resizing",`is-${this.direction.value}-resizing`),l&&l(this.direction.value,this.MIE))}),this.cleanMouseup=VueUse.useEventListener(document,"mouseup",()=>{var a;this.resizing.value&&((a=this.direction)!=null&&a.value)&&this.MIE&&(e.classList.remove("is-resizing",`is-${this.direction.value}-resizing`),r&&r(this.direction.value,this.MIE)),this.resizing.value=!1}),Vue.watch(this.direction,a=>{const i=document.body;i.style.cursor=a?`${a}-resize`:"",a?i.classList.add(de):i.classList.remove(de)});const{x:u,y:s}=this.MIE;Vue.watch([u,s],()=>{this.resizing.value?this.resize():this.direction.value=this.getDirection()})}resize(){const{MIE:e,direction:t,resizing:n,options:l,el:r}=this,u=(t==null?void 0:t.value)||"";if(!e||!n.value||!u)return;const{x:s,y:a,elementX:i,elementY:d,elementHeight:m,elementWidth:g}=e,{onResizing:B}=l,{minWidth:h=0,minHeight:f=0,maxWidth:w=99999,maxHeight:_=99999}=l;if(u.includes("e")){const V=Math.min(Math.max(i.value,h),w);r.style.width=`${V}px`}if(u.includes("s")){const V=Math.min(Math.max(d.value,f),_);r.style.height=`${V}px`}if(u.includes("w")){const V=Math.min(Math.max(g.value-i.value,h),w);r.style.width=`${V}px`,r.style.left=`${s.value}px`}if(u.includes("n")){const V=Math.min(Math.max(m.value-d.value,f),_);this.el.style.height=`${V}px`,this.el.style.top=`${a.value}px`}B&&B(u,e)}getDirection(){if(!this.MIE)return"";const{elementX:e,elementY:t,elementHeight:n,elementWidth:l,isOutside:r}=this.MIE;if(r.value)return"";const{dirs:u=["n","s","w","e"],edge:s=5}=this.options;let a="";return u.includes("n")&&t.value<=s?a+="n":u.includes("s")&&t.value>n.value-s&&(a+="s"),u.includes("w")&&e.value<=s?a+="w":u.includes("e")&&e.value>l.value-s&&(a+="e"),a}destory(){var t;const e=document.body;e.style.cursor="",e.classList.remove(de),this.cleanMousedown&&this.cleanMousedown(),this.cleanMouseup&&this.cleanMouseup(),(t=this.MIE)==null||t.stop(),this.scope.stop()}}const me={mounted(o,e){const t=e.value||{},n=new Ve(o,t);o.__resizable__=n},updated(o,e){const t=e.value||{};let n=o.__resizable__;n&&!VtjUtils.isEqual(n.options,t)&&(n.destory(),o.__resizable__=new Ve(o,t))},unmounted(o){const e=o.__resizable__;e&&(e.destory(),o.__resizable__=null)}},De={modelValue:{type:Boolean,default:!0},title:{type:String},subtitle:{type:String},icon:{type:[String,Object]},size:{type:String,default:"default"},width:{type:[Number,String],default:"70%"},height:{type:[Number,String],default:"70%"},left:{type:[Number,String]},top:{type:[Number,String]},modal:{type:Boolean,default:!0},draggable:{type:[Boolean,Object],default:!0},resizable:{type:[Boolean,Object]},closable:{type:Boolean,default:!0},maximizable:{type:Boolean,default:!0},minimizable:{type:Boolean,default:!0},mode:{type:String,default:"normal"},content:{type:Object},src:{type:String},componentInstance:{type:Object},beforeClose:{type:Function},submit:{type:[Boolean,String]},cancel:{type:[Boolean,String]},bodyPadding:{type:Boolean,default:!0},primary:{type:Boolean}};let K=1e3;function dt(o,e){const{width:t,height:n}=VueUse.useElementSize(e),l=Vue.reactive({mode:o.mode||"normal",wrapperWidth:0,wrapperHeight:0,width:0,height:0,top:0,left:0,zIndex:++K,dragging:!1,resizing:!1});return Vue.watch([t,n],([r,u])=>{l.wrapperWidth=r,l.wrapperHeight=u,l.width=L(o.width,r),l.height=L(o.height,u),l.left=o.left?L(o.left,r)-l.width/2:Math.max(Math.floor((r-l.width)/2),0),l.top=o.top?L(o.top,u):Math.max(Math.floor((u-l.height)/2),0)}),Vue.watch(l,r=>{K=Math.max(r.zIndex,K)}),{state:l,normal:Vue.computed(()=>l.mode==="normal"),maximized:Vue.computed(()=>l.mode==="maximized"),minimized:Vue.computed(()=>l.mode==="minimized")}}function Vt(o,e){const t=Vue.computed(()=>{const{width:u,height:s,top:a,left:i,zIndex:d}=e;return{width:`${u}px`,height:`${s}px`,top:`${a}px`,left:`${i}px`,zIndex:d}}),n=Vue.computed(()=>({[`is-${e.mode}`]:!!e.mode,"is-draggable":!!o.draggable,"is-resizable":!!o.resizable,"is-primary":!!o.primary})),l=Vue.computed(()=>({[`is-${e.mode}`]:!!e.mode,"is-dragging":e.dragging,"is-resizing":e.resizing})),r=Vue.computed(()=>({zIndex:e.zIndex}));return{styles:t,classes:n,wrapperClass:l,modalStyle:r}}function mt(o,e,t){const n=d=>{e.mode=d,["maximized","minimized","normal"].includes(d)&&t(d),t("modeChange",d)},l=()=>P(this,null,function*(){(!o.beforeClose||(yield o.beforeClose()))&&(t("update:modelValue",!1),t("close"),t("destroy"))});return{close:l,changeMode:n,show:()=>n("normal"),hide:()=>n("minimized"),active:()=>{e.zIndex=Math.max(e.zIndex,++K)},submit:()=>t("submit"),cancel:()=>{t("cancel"),l()}}}function ft(o,e,t,n){return Vue.computed(()=>{var r;const l=typeof o.draggable=="boolean"?!o.draggable:!!((r=o.draggable)!=null&&r.disabled);return D(N({},VtjUtils.isObject(o.draggable)?o.draggable:{}),{disabled:l,target:n,selector:".x-panel__header",onStart(u){e.dragging=!0,e.zIndex=Math.max(e.zIndex,++K),t("dragStart",u)},onMove(u){t("dragging",u)},onEnd(u){if(e.mode==="maximized")return;const{x:s,y:a}=u;e.left=s,e.top=a,e.dragging=!1,t("dragEnd",u)}})})}function pt(o,e,t){return Vue.computed(()=>{var l;const n=typeof o.resizable=="boolean"?!o.resizable:!!((l=o.resizable)!=null&&l.disabled);return D(N({minWidth:200,minHeight:150},VtjUtils.isObject(o.resizable)?o.resizable:{}),{disabled:n,dirs:["e","s","w"],onStart(r,u){e.resizing=!0,e.zIndex=Math.max(e.zIndex,++K),t("resizeStart",r,u)},onResizing(r,u){t("resizing",r,u)},onEnd(r,u){e.left=u.elementPositionX.value,e.top=u.elementPositionY.value,e.width=u.elementWidth.value,e.height=u.elementHeight.value,e.resizing=!1,t("resizeEnd",r,u)}})})}function ht(o,e){const t=o.componentInstance;if(!t)return;let n=null;return Vue.onMounted(()=>{const l=Vue.unref(e),r=Vue.unref(l==null?void 0:l.bodyRef);n=t.$el,r&&r.$el&&r.$el.appendChild(n)}),Vue.onUnmounted(()=>{n&&n.parentNode&&n.parentNode.removeChild(n)}),{componentInstance:t}}const gt=["src"],fe=Vue.defineComponent({name:"XDialog",__name:"Dialog",props:De,emits:["update:modelValue","open","close","destroy","maximized","minimized","normal","modeChange","dragStart","dragging","dragEnd","resizeStart","resizeEnd","resizing","submit","cancel"],setup(o,{expose:e,emit:t}){const n=o,l=Vue.getCurrentInstance(),r=Vue.ref(),u=Vue.ref(),{state:s,maximized:a,minimized:i,normal:d}=dt(n,r),{styles:m,classes:g,wrapperClass:B,modalStyle:h}=Vt(n,s),{changeMode:f,active:w,close:_,show:V,hide:C,submit:k,cancel:z}=mt(n,s,t),T=ft(n,s,t,r),H=pt(n,s,t),W=ht(n,u);return Vue.watchEffect(()=>P(this,null,function*(){n.modelValue&&(yield Vue.nextTick(),l&&t("open",l))})),e({panelRef:u,state:s,maximized:a,minimized:i,changeMode:f,show:V,hide:C,submit:k,cancel:z,componentInstance:W}),(I,A)=>n.modelValue?(Vue.openBlock(),Vue.createBlock(Vue.Teleport,{key:0,to:"body"},[Vue.createElementVNode("div",{ref_key:"wrapper",ref:r,class:Vue.normalizeClass(["x-dialog__wrapper",Vue.unref(B)])},[n.modal?(Vue.openBlock(),Vue.createElementBlock("div",{key:0,class:"x-dialog__modal",style:Vue.normalizeStyle(Vue.unref(h))},null,4)):Vue.createCommentVNode("",!0),Vue.withDirectives((Vue.openBlock(),Vue.createBlock(Vue.unref(ie),{ref_key:"panelRef",ref:u,class:Vue.normalizeClass(["x-dialog",Vue.unref(g)]),card:"",shadow:"always",header:{icon:n.icon,subtitle:n.subtitle},width:"800px",height:"600px",footer:{justify:"space-between",flex:!0,align:"center"},style:Vue.normalizeStyle(Vue.unref(m)),size:n.size,body:{padding:n.bodyPadding},onClick:Vue.unref(w)},Vue.createSlots({title:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(n.title),1)]),actions:Vue.withCtx(()=>[Vue.renderSlot(I.$slots,"actions"),n.minimizable?(Vue.openBlock(),Vue.createBlock(Vue.unref(M),{key:0,icon:Vue.unref(VtjIcons.Minimize),size:n.size,mode:"icon",type:"primary",background:"hover",onClick:A[0]||(A[0]=Z=>Vue.unref(f)("minimized"))},null,8,["icon","size"])):Vue.createCommentVNode("",!0),n.maximizable?(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:1},[Vue.unref(d)?(Vue.openBlock(),Vue.createBlock(Vue.unref(M),{key:1,icon:Vue.unref(VtjIcons.Maximize),size:n.size,mode:"icon",type:"primary",background:"hover",onClick:A[2]||(A[2]=Z=>Vue.unref(f)("maximized"))},null,8,["icon","size"])):(Vue.openBlock(),Vue.createBlock(Vue.unref(M),{key:0,icon:Vue.unref(VtjIcons.Popup),size:n.size,mode:"icon",type:"primary",background:"hover",onClick:A[1]||(A[1]=Z=>Vue.unref(f)("normal"))},null,8,["icon","size"]))],64)):Vue.createCommentVNode("",!0),n.closable?(Vue.openBlock(),Vue.createBlock(Vue.unref(M),{key:2,icon:Vue.unref(VtjIcons.RawClose),size:n.size,mode:"icon",type:"danger",background:"hover",onClick:Vue.unref(_)},null,8,["icon","size","onClick"])):Vue.createCommentVNode("",!0)]),default:Vue.withCtx(()=>[Vue.renderSlot(I.$slots,"default",{},()=>[n.content?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(n.content),{key:0})):Vue.createCommentVNode("",!0),n.src?(Vue.openBlock(),Vue.createElementBlock("iframe",{key:1,src:n.src,class:"x-dialog__frame"},null,8,gt)):Vue.createCommentVNode("",!0)])]),_:2},[n.cancel||n.submit||I.$slots.footer||I.$slots.extra||I.$slots.handle?{name:"footer",fn:Vue.withCtx(()=>[Vue.renderSlot(I.$slots,"footer",{},()=>[Vue.createVNode(Vue.unref(y),null,{default:Vue.withCtx(()=>[Vue.renderSlot(I.$slots,"extra")]),_:3}),Vue.createVNode(Vue.unref(y),null,{default:Vue.withCtx(()=>[Vue.renderSlot(I.$slots,"handle"),n.cancel?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElButton),{key:0,type:"default",size:n.size,onClick:Vue.unref(z)},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(typeof n.cancel=="string"?n.cancel:"取消"),1)]),_:1},8,["size","onClick"])):Vue.createCommentVNode("",!0),n.submit?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElButton),{key:1,type:"primary",size:n.size,onClick:Vue.unref(k)},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(typeof n.submit=="string"?n.cancel:"确定"),1)]),_:1},8,["size","onClick"])):Vue.createCommentVNode("",!0)]),_:3})])]),key:"0"}:void 0]),1032,["header","class","style","size","body","onClick"])),[[Vue.unref(Ie),Vue.unref(T)],[Vue.unref(me),Vue.unref(H)]])],2)])):Vue.createCommentVNode("",!0)}});function te(o,e){const t=document.createElement("div"),n=Vue.createVNode(fe,o);n.appContext=e!=null?e:te._context,Vue.render(n,t);const l=()=>{var r;Vue.render(null,t),(r=t.parentNode)==null||r.removeChild(t)};return n.props.onDestroy=()=>{l()},document.body.appendChild(t),{vnode:n,destroy:l}}const vt=Vue.createElementVNode("div",{class:"x-mask-sidebar__helper"},null,-1),yt=Vue.defineComponent({__name:"Sidebar",props:{collapsed:{type:Boolean}},setup(o){const e=o;return(t,n)=>Vue.withDirectives((Vue.openBlock(),Vue.createBlock(Vue.unref(y),{class:Vue.normalizeClass(["x-mask-sidebar",{"is-collapsed":e.collapsed}]),grow:!1,flex:"",direction:"column"},{default:Vue.withCtx(()=>[Vue.renderSlot(t.$slots,"brand"),Vue.createVNode(Vue.unref(y),{class:"x-mask-sidebar__wrapper",flex:"",grow:"",direction:"column",justify:"space-between",align:"center"},{default:Vue.withCtx(()=>[Vue.renderSlot(t.$slots,"default"),vt]),_:3})]),_:3},8,["class"])),[[Vue.unref(me),{dirs:["e"],disabled:e.collapsed,maxWidth:500,minWidth:200}]])}}),kt=Vue.defineComponent({__name:"SwitchBar",props:{collasped:{type:Boolean,default:!1},favorite:{type:Boolean,default:!1},keyword:{}},emits:["update:collasped","update:keyword","update:favorite"],setup(o,{emit:e}){const t=o,n=Vue.ref(!1),l=Vue.ref(""),r=Vue.ref(!1),u=()=>{n.value=!0},s=()=>{l.value="",n.value=!1,e("update:keyword",l.value)},a=()=>{e("update:collasped",!t.collasped)},i=()=>{e("update:keyword",l.value)},d=()=>{e("update:favorite",r.value)};return(m,g)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(y),{class:"x-mask-switch-bar",justify:"space-between",align:"center"},{default:Vue.withCtx(()=>[t.collasped?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(Vue.unref(y),{key:0,class:"x-mask-switch-bar__left",grow:""},{default:Vue.withCtx(()=>[n.value?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElSwitch),{key:0,modelValue:r.value,"onUpdate:modelValue":g[0]||(g[0]=B=>r.value=B),class:"x-mask-switch-bar__switch","active-icon":Vue.unref(ElementPlusIconsVue.StarFilled),"inactive-icon":Vue.unref(ElementPlusIconsVue.Menu),onChange:d},null,8,["modelValue","active-icon","inactive-icon"])),n.value?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElInput),{key:1,modelValue:l.value,"onUpdate:modelValue":g[1]||(g[1]=B=>l.value=B),class:"x-mask-switch-bar__input",size:"small",placeholder:"请输入查询关键字",onInput:i,"prefix-icon":Vue.unref(ElementPlusIconsVue.Search)},{suffix:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(O),{icon:Vue.unref(ElementPlusIconsVue.Close),onClick:s},null,8,["icon"])]),_:1},8,["modelValue","prefix-icon"])):Vue.createCommentVNode("",!0)]),_:1})),Vue.createVNode(Vue.unref(y),{class:Vue.normalizeClass(["x-mask-switch-bar__right",{"is-collasped":t.collasped}]),flex:"",align:"center",justify:"center"},{default:Vue.withCtx(()=>[!n.value&&!t.collasped?(Vue.openBlock(),Vue.createBlock(Vue.unref(M),{key:0,icon:Vue.unref(ElementPlusIconsVue.Search),mode:"icon",background:"hover",size:"default",circle:"",onClick:u},null,8,["icon"])):Vue.createCommentVNode("",!0),t.collasped?(Vue.openBlock(),Vue.createBlock(Vue.unref(M),{key:1,icon:Vue.unref(ElementPlusIconsVue.Expand),mode:"icon",size:"default",background:"hover",onClick:a,circle:""},null,8,["icon"])):Vue.createCommentVNode("",!0),t.collasped?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(Vue.unref(M),{key:2,icon:Vue.unref(ElementPlusIconsVue.Fold),mode:"icon",size:"default",background:"hover",circle:"",onClick:a},null,8,["icon"]))]),_:1},8,["class"])]),_:1}))}}),bt=["src"],wt={key:0},Ct=Vue.defineComponent({__name:"Brand",props:{collapsed:{type:Boolean,default:!1},logo:{},title:{},url:{}},setup(o){const e=o,t=VueRouter.useRouter(),n=()=>{e.url&&t.push(e.url)};return(l,r)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(y),{class:Vue.normalizeClass(["x-mask-brand",{"is-collapsed":e.collapsed}]),align:"center"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(y),{class:"x-mask-brand__logo",flex:"",justify:"center",align:"center",onClick:n},{default:Vue.withCtx(()=>[Vue.renderSlot(l.$slots,"logo",{},()=>[e.logo?(Vue.openBlock(),Vue.createElementBlock("img",{key:0,src:e.logo},null,8,bt)):Vue.createCommentVNode("",!0)])]),_:3}),Vue.createVNode(Vue.unref(y),{class:"x-mask-brand__title",flex:"",align:"center"},{default:Vue.withCtx(()=>[e.title?(Vue.openBlock(),Vue.createElementBlock("span",wt,[Vue.renderSlot(l.$slots,"title",{},()=>[Vue.createTextVNode(Vue.toDisplayString(e.title),1)])])):Vue.createCommentVNode("",!0)]),_:3})]),_:3},8,["class"]))}}),ne="__favorites__",oe="__search__",_t=Vue.defineComponent({__name:"Menu",props:{collapse:{type:Boolean,default:!1},keyword:{},favorite:{type:Boolean},favorites:{},flatMenus:{},menus:{},active:{}},emits:["select"],setup(o,{emit:e}){const t=o,n=Vue.computed(()=>t.menus||[]),l=Vue.computed(()=>{var a;return String((a=t.active)==null?void 0:a.id)}),r=Vue.computed(()=>{var a;return[{id:ne,title:"收藏",icon:ElementPlusIconsVue.Star,children:(a=t.favorites)!=null&&a.length?t.favorites:[{id:ne+"empty",disabled:!0,title:"暂无收藏菜单"}]}]}),u=Vue.computed(()=>{const a=(t.keyword||"").trim(),i=a?(t.flatMenus||[]).filter(d=>{var m;return(m=d.title)==null?void 0:m.includes(a)}):[];return[{id:oe,title:"搜索",icon:ElementPlusIconsVue.Search,children:i!=null&&i.length?i:[{id:oe+"empty",disabled:!0,title:"查询匹配不到菜单项"}]}]}),s=a=>{e("select",a)};return(a,i)=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.withDirectives(Vue.createVNode(Vue.unref(y),{class:"x-mask-menu",grow:"",flex:!1,overflow:"auto"},{default:Vue.withCtx(()=>[Vue.withDirectives(Vue.createVNode(Vue.unref(F),{subMenu:{popperClass:"x-mask-menu-popper",teleported:!0,showTimeout:200,hideTimeout:200},data:n.value,"default-icon":Vue.unref(ElementPlusIconsVue.Document),collapse:!0,"collapse-transition":!1,"default-active":l.value,onSelect:s},null,8,["data","default-icon","default-active"]),[[Vue.vShow,t.collapse]]),Vue.withDirectives(Vue.createVNode(Vue.unref(F),{subMenu:{popperClass:"x-mask-menu-popper",teleported:!0},data:n.value,"default-icon":Vue.unref(ElementPlusIconsVue.Document),collapse:!1,"collapse-transition":!1,"default-active":l.value,onSelect:s},null,8,["data","default-icon","default-active"]),[[Vue.vShow,!t.collapse]]),n.value.length?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElEmpty),{key:0,description:"暂无菜单数据"}))]),_:1},512),[[Vue.vShow,!t.favorite&&!t.keyword]]),Vue.withDirectives(Vue.createVNode(Vue.unref(y),{class:"x-mask-menu",grow:"",flex:!1,overflow:"auto"},{default:Vue.withCtx(()=>[Vue.withDirectives(Vue.createVNode(Vue.unref(F),{class:"x-mask-menu__favorites",subMenu:{popperClass:"x-mask-menu-popper",teleported:!0,showTimeout:200,hideTimeout:200},data:r.value,"default-icon":Vue.unref(ElementPlusIconsVue.Document),collapse:!0,"collapse-transition":!1,"default-active":l.value,"default-openeds":[ne],onSelect:s},null,8,["data","default-icon","default-active","default-openeds"]),[[Vue.vShow,t.collapse]]),Vue.withDirectives(Vue.createVNode(Vue.unref(F),{class:"x-mask-menu__favorites",subMenu:{popperClass:"x-mask-menu-popper",teleported:!0,showTimeout:200,hideTimeout:200},data:r.value,"default-icon":Vue.unref(ElementPlusIconsVue.Document),collapse:!1,"collapse-transition":!1,"default-active":l.value,"default-openeds":[ne],onSelect:s},null,8,["data","default-icon","default-active","default-openeds"]),[[Vue.vShow,!t.collapse]])]),_:1},512),[[Vue.vShow,t.favorite&&!t.keyword]]),t.keyword?Vue.withDirectives((Vue.openBlock(),Vue.createBlock(Vue.unref(y),{key:0,class:"x-mask-menu",grow:"",flex:!1,overflow:"auto"},{default:Vue.withCtx(()=>[Vue.withDirectives(Vue.createVNode(Vue.unref(F),{class:"x-mask-menu__search",subMenu:{popperClass:"x-mask-menu-popper",teleported:!0,showTimeout:200,hideTimeout:200},data:u.value,"default-icon":Vue.unref(ElementPlusIconsVue.Document),collapse:!0,"collapse-transition":!1,"default-active":l.value,"default-openeds":[oe],onSelect:s},null,8,["data","default-icon","default-active","default-openeds"]),[[Vue.vShow,t.collapse]]),Vue.withDirectives(Vue.createVNode(Vue.unref(F),{class:"x-mask-menu__search",subMenu:{popperClass:"x-mask-menu-popper",teleported:!0,showTimeout:200,hideTimeout:200},data:u.value,"default-icon":Vue.unref(ElementPlusIconsVue.Document),collapse:!1,"collapse-transition":!1,"default-active":l.value,"default-openeds":[oe],onSelect:s},null,8,["data","default-icon","default-active","default-openeds"]),[[Vue.vShow,!t.collapse]])]),_:1},512)),[[Vue.vShow,!!t.keyword]]):Vue.createCommentVNode("",!0)],64))}}),Bt={class:"x-mask-tabs__trigger"},Et={key:1},St=["onDragstart","onDragend"],xt={key:1},zt=Vue.defineComponent({__name:"Tabs",props:{tabs:{},home:{},isActiveTab:{type:Function},value:{},favorites:{}},emits:["click","remove","refresh","toggleFavorite","dialog"],setup(o,{emit:e}){const t=o,n=i=>{const d=!!t.favorites.find(m=>{var g;return m===i.menu||m.id===((g=i.menu)==null?void 0:g.id)});return[{icon:ElementPlusIconsVue.Refresh,label:"刷新",name:"refresh",value:i},"|",{icon:d?ElementPlusIconsVue.StarFilled:ElementPlusIconsVue.Star,label:"收藏",name:"favorite",value:i.menu,disabled:!i.menu},"|",{icon:ElementPlusIconsVue.CopyDocument,label:"弹窗",name:"dialog",value:i}]},l=i=>{const d=i.paneName;if(d===t.home.id){e("click",t.home);return}const m=t.tabs.find(g=>g.id===d);m&&e("click",m)},r=i=>{const d=t.tabs.find(m=>m.id===i);d&&e("remove",d)},u=i=>{switch(i.name){case"refresh":e("refresh",i.value);break;case"favorite":e("toggleFavorite",i.value);break;case"dialog":e("dialog",i.value);break}},s=(i,d)=>{d.dataTransfer&&(d.dataTransfer.setData("tab",i.id),d.target&&d.target.classList.add("is-dagging"))},a=(i,d)=>{d.target&&d.target.classList.remove("is-dagging")};return(i,d)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(y),{ref:"tabsRef",class:"x-mask-tabs",height:"100%",grow:"",flex:"",justify:"flex-end",direction:"column"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElTabs),{type:"card","model-value":t.value,onTabRemove:r,onTabClick:l},{default:Vue.withCtx(()=>[t.home?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElTabPane),{key:0,name:t.home.id},{label:Vue.withCtx(()=>[Vue.createElementVNode("div",Bt,[t.home.icon?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(J)(t.home.icon)),{key:0})):Vue.createCommentVNode("",!0),t.home.title?(Vue.openBlock(),Vue.createElementBlock("span",Et,Vue.toDisplayString(t.home.title),1)):Vue.createCommentVNode("",!0)])]),_:1},8,["name"])):Vue.createCommentVNode("",!0),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(t.tabs,m=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElTabPane),{key:m.id,name:m.id,lazy:"",closable:""},{label:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElPopover),{"open-delay":500,placement:"bottom",trigger:"hover",width:"200px",disabled:m.id!==t.value},{reference:Vue.withCtx(()=>[Vue.createElementVNode("div",{class:"x-mask-tabs__trigger",draggable:"true",onDragstart:g=>s(m,g),onDragend:g=>a(m,g)},[m.icon?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(J)(m.icon)),{key:0})):Vue.createCommentVNode("",!0),m.title?(Vue.openBlock(),Vue.createElementBlock("span",xt,Vue.toDisplayString(m.title),1)):Vue.createCommentVNode("",!0)],40,St)]),default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ee),{items:n(m),mode:"text",size:"small",type:"info",onClick:u},null,8,["items"])]),_:2},1032,["disabled"])]),_:2},1032,["name"]))),128))]),_:1},8,["model-value"])]),_:1},512))}}),Nt=Vue.defineComponent({__name:"ThemeSwitch",setup(o){const e=VueUse.useDark();return(t,n)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElSwitch),{class:"x-mask-theme-switch",modelValue:Vue.unref(e),"onUpdate:modelValue":n[0]||(n[0]=l=>Vue.isRef(e)?e.value=l:null),size:"default","active-action-icon":Vue.unref(ElementPlusIconsVue.Moon),"inactive-action-icon":Vue.unref(ElementPlusIconsVue.Sunny)},null,8,["modelValue","active-action-icon","inactive-action-icon"]))}}),Pt={class:"x-mask-toolbar__menu-item"},Tt=Vue.defineComponent({__name:"Toolbar",props:{tabs:{default:()=>[]},actions:{},theme:{type:Boolean}},emits:["closeOtherTabs","closeAllTabs","closeTab","clickTab","actionClick","actionCommand"],setup(o,{emit:e}){const t=o,n=Vue.computed(()=>{const a=t.tabs.map((i,d)=>({divided:d===0,label:i.title,command:i}));return[{label:"关闭其他",command:"other"},{label:"关闭全部",command:"all"},...a]}),l=a=>{e("closeTab",a.command)},r=a=>{switch(a.command){case"all":e("closeAllTabs");break;case"other":e("closeOtherTabs");break;default:e("clickTab",a.command);break}},u=a=>{e("actionClick",a)},s=(a,i)=>{e("actionCommand",a,i)};return(a,i)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(y),{class:"x-mask-toolbar",align:"center"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(M),{icon:Vue.unref(ElementPlusIconsVue.MoreFilled),menus:n.value,dropdown:{size:"small"},mode:"icon",circle:"",background:"hover",onCommand:r},{item:Vue.withCtx(({item:d})=>[Vue.createElementVNode("span",Pt,[Vue.createTextVNode(Vue.toDisplayString(d.label)+" ",1),["other","all"].includes(d.command)?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(Vue.unref(O),{key:0,onClick:Vue.withModifiers(m=>l(d),["stop"]),icon:Vue.unref(ElementPlusIconsVue.Close)},null,8,["onClick","icon"]))])]),_:1},8,["icon","menus"]),Vue.createVNode(Vue.unref(ElementPlus.ElDivider),{direction:"vertical"}),t.actions?(Vue.openBlock(),Vue.createBlock(Vue.unref(ee),{key:0,circle:"",mode:"icon",size:"default",background:"hover",items:a.actions,onClick:u,onCommand:s},null,8,["items"])):Vue.createCommentVNode("",!0),t.actions?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElDivider),{key:1,direction:"vertical"})):Vue.createCommentVNode("",!0),t.theme?(Vue.openBlock(),Vue.createBlock(Nt,{key:2})):Vue.createCommentVNode("",!0),t.theme?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElDivider),{key:3,direction:"vertical"})):Vue.createCommentVNode("",!0),Vue.renderSlot(a.$slots,"default")]),_:3}))}}),It=Vue.defineComponent({__name:"Avatar",props:{avatar:{}},setup(o){const e=o;return(t,n)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElPopover),{width:200,"popper-class":"x-mask-avatar__popper",disabled:!t.$slots.default},{reference:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElAvatar),{class:"x-mask-avatar",shape:"circle",icon:Vue.unref(ElementPlusIconsVue.UserFilled),src:e.avatar,size:26},null,8,["icon","src"])]),default:Vue.withCtx(()=>[t.$slots.default?Vue.renderSlot(t.$slots,"default",{key:0}):Vue.createCommentVNode("",!0)]),_:3},8,["disabled"]))}}),Me=Vue.defineComponent({__name:"Content",props:{createView:{type:Function},exclude:{}},setup(o){const e=o;return(t,n)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(y),{class:"x-mask__content",flex:!1,grow:"",padding:!1},{default:Vue.withCtx(()=>[Vue.renderSlot(t.$slots,"default"),Vue.createVNode(Vue.unref(VueRouter.RouterView),null,{default:Vue.withCtx(({Component:l,route:r})=>[(Vue.openBlock(),Vue.createBlock(Vue.KeepAlive,{exclude:e.exclude},[l?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(e.createView(l,r)),{key:r.fullPath})):Vue.createCommentVNode("",!0)],1032,["exclude"]))]),_:1})]),_:3}))}}),Ae=140,Re={logo:{type:String,default:Q},title:{type:String,default:"VTJ.PRO"},menus:{type:[Array,Function],default(){return[]}},favorites:{type:[Array,Function],default(){return[]}},menuAdapter:{type:Function},home:{type:[String,Object],default:"/"},tabs:{type:Number,default:20},actions:{type:Array},avatar:{type:String},theme:{type:Boolean},disabled:{type:Boolean},addFavorite:{type:Function},removeFavorite:{type:Function}},pe=Symbol(),he=Symbol();function Dt(o){const e=Vue.ref(!1),t=Vue.ref(""),n=Vue.ref(!1);return{collapsed:e,keyword:t,favorite:n}}function Mt(o){const e=VtjUtils.uid();return Vue.computed(()=>{const t=o.home;return Object.assign({id:e,url:"/",name:"MaskHome",icon:ElementPlusIconsVue.HomeFilled,closable:!1},typeof t=="string"?{url:t}:t||{})})}function Fe(o,e){let t=[];return o.forEach(n=>{n=e?e(n):n,n.children?t=t.concat(Fe(n.children,e)):t.push(n)}),t}function At(o,e){const t=VueRouter.useRouter(),n=Vue.shallowRef([]),l=Vue.shallowRef([]),r=Vue.computed(()=>Fe(n.value,o.menuAdapter)),u=Vue.computed(()=>VtjUtils.arrayToMap(r.value,"id")),s=Vue.ref(null),a=h=>{const f=typeof h=="object"?h.id:h,w=u.value.get(f);if(!w){console.warn("找不到菜单",h);return}const{type:_="route",url:V,title:C,icon:k}=w;if(!V){s.value=w,e("select",w);return}if(_==="route"){VtjUtils.isUrl(V)||V.startsWith("//")?window.open(V):(s.value=w,t.push(V).catch(z=>z));return}if(_==="window"){window.open(V);return}_==="dialog"&&te({resizable:!0,bodyPadding:!1,width:"80%",height:"80%",title:C,icon:k,src:V})},i=()=>P(this,null,function*(){var h,f;n.value=typeof o.menus=="function"?(yield o.menus())||[]:(h=o.menus)!=null?h:[],l.value=typeof o.favorites=="function"?(yield o.favorites())||[]:(f=o.favorites)!=null?f:[]}),d=h=>{l.value=[h,...l.value],o.addFavorite&&o.addFavorite(h)},m=h=>{l.value=l.value.filter(f=>f.id!==h.id),o.removeFavorite&&o.removeFavorite(h)},g=h=>!!l.value.find(f=>f===h||f.id===h.id),B=h=>{g(h)?m(h):d(h)};return Vue.watchEffect(i),{menus:n,favorites:l,flatMenus:r,active:s,select:a,toggleFavorite:B}}function Rt(o,e,t,n,l){const r=VueRouter.useRoute(),u=VueRouter.useRouter(),s={},a=Vue.ref([]),i=Vue.ref(),{width:d}=VueUse.useElementSize(i),m=Vue.computed(()=>Math.floor(d.value/Ae)),g=Vue.computed(()=>a.value.slice(0,m.value).filter(p=>!p.dialog)),B=Vue.computed(()=>a.value.slice(m.value)),h=p=>t.value.find(v=>v.url===p),f=p=>r.fullPath===p.url,w=p=>l.value.id===p?l.value:a.value.find(v=>v.id===p),_=Vue.ref(""),V=Vue.computed(()=>w(_.value)),C=p=>{u.push(p.url).catch(v=>v)},k=p=>{_.value=p.id,r.fullPath!==p.url&&C(p)},z=()=>{C(l.value)},T=p=>{const v=a.value.find(b=>b.url===p.url||b.id===p.id);v?k(v):(a.value.unshift(p),k(p))},H=p=>P(this,null,function*(){const{url:v=r.fullPath,icon:b,title:ve="新建标签页"}=p||{},ue=s[v],ye=VtjUtils.uid(),ke=VtjUtils.upperFirstCamelCase(v);return N({id:ye,name:ke,url:v,icon:b,title:ve,closable:!0,menu:p},ue?yield ue():{})}),W=p=>P(this,null,function*(){if(yield ElementPlus.ElMessageBox.confirm("是否关闭页签","提示",{type:"warning"}).catch(b=>!1)){if(a.value=a.value.filter(b=>b.id!==p.id),_.value===p.id){const b=a.value[0];C(b||l.value)}return p}}),I=p=>{const v=a.value.findIndex(b=>b.id===p.id);if(v>=0){const b=a.value[v];a.value.splice(v,1,Object.assign(b,p))}},A=()=>P(this,null,function*(){if(!(yield ElementPlus.ElMessageBox.confirm("是否关闭全部页签","提示",{type:"warning"}).catch(b=>!1)))return;const v=a.value;return a.value=[],k(l.value),v}),Z=()=>P(this,null,function*(){if(!(yield ElementPlus.ElMessageBox.confirm("是否关闭其他页签","提示",{type:"warning"}).catch(b=>!1)))return;const v=a.value.filter(b=>b.id!==_.value);return a.value=a.value.filter(b=>b.id===_.value),v}),ge=p=>{const v=a.value.filter(b=>b.id!==p.id);a.value=[p,...v],k(p)},Y=()=>P(this,null,function*(){yield Vue.nextTick();const p=l.value.url===r.fullPath,v=h(r.fullPath);if(p)_.value=l.value.id;else{const b=yield H(v);T(b)}yield Vue.nextTick(),n.value=v||null});return Vue.watch(t,Y),Vue.watch(r,Y,{immediate:!0}),Vue.provide(pe,s),{tabRef:i,tabs:a,showTabs:g,currentTab:V,changeTab:C,removeTab:W,updateTab:I,addTab:T,home:l,tabValue:_,isCurrentTab:f,activeHome:z,activeTab:k,dropdownTabs:B,removeAllTabs:A,removeOtherTabs:Z,moveToShow:ge}}function Ft(o){const e=new Map,t=Vue.ref([]),n=Vue.reactive({}),l={},{updateTab:r,isCurrentTab:u,activeHome:s,tabs:a}=o,i=(V,C)=>{const k=C.fullPath;if(e.has(k))return e.get(k);{const z=VtjUtils.upperFirstCamelCase(k),T={name:z,setup(){const H=Vue.computed(()=>n[k]||document.body),W=Vue.computed(()=>!n[k]),I=Vue.computed(()=>!t.value.includes(z));return Vue.provide(VueRouter.routeLocationKey,Vue.toRaw(N({},C))),()=>I.value?Vue.h(Vue.Teleport,{to:H.value,disabled:W.value},[Vue.h(V)]):null}};return e.set(k,T),T}},d=V=>{V.dialog=void 0,delete n[V.url];const C=l[V.id];C&&(C.destroy(),delete l[V.id],r(V))},m=(V=[])=>{V.forEach(C=>{d(C)})},g=V=>P(this,null,function*(){V.dialog=D(N({},V.dialog),{onMinimized:()=>{d(V)},onClose:()=>P(this,null,function*(){d(V),a.value=a.value.filter(k=>k.id!==V.id)})}),r(V);const C=te(D(N({title:V.title,icon:V.icon,modal:!1,resizable:!0,draggable:!0},V.dialog),{onOpen(k){var z,T;n[V.url]=(T=(z=k.refs.panelRef)==null?void 0:z.bodyRef)==null?void 0:T.$el}}));return yield Vue.nextTick(),u(V)&&s(),l[V.id]=C,C}),B=V=>P(this,null,function*(){t.value=[V.name],yield Vue.nextTick(),t.value=[]}),h=V=>P(this,null,function*(){t.value=V.map(C=>C.name),yield Vue.nextTick(),t.value=[]}),f=V=>(V.preventDefault(),!1),w=V=>{if(V.dataTransfer){const C=V.dataTransfer.getData("tab"),k=a.value.find(z=>z.id===C);if(k){const{clientX:z,clientY:T}=V;k.dialog={left:z,top:T},g(k)}}},_=V=>!!n[V];return VueUse.useEventListener(document,"dragover",f),VueUse.useEventListener(document,"drop",w),{createView:i,openDialog:g,refresh:B,exclude:t,cleanCache:h,hasDialog:_,closeDialog:d,closeDialogs:m}}const je=Vue.defineComponent({name:"XMask",__name:"Mask",props:Re,emits:["select","actionClick","actionCommand"],setup(o,{emit:e}){const t=o,n=Mt(t),{collapsed:l,keyword:r,favorite:u}=Dt(),{menus:s,favorites:a,flatMenus:i,active:d,select:m,toggleFavorite:g}=At(t,e),{tabRef:B,showTabs:h,currentTab:f,changeTab:w,removeTab:_,tabs:V,updateTab:C,isCurrentTab:k,activeHome:z,removeAllTabs:T,removeOtherTabs:H,dropdownTabs:W,moveToShow:I}=Rt(t,e,i,d,n),{createView:A,openDialog:Z,refresh:ge,exclude:Y,cleanCache:p,closeDialogs:v}=Ft({tabs:V,updateTab:C,isCurrentTab:k,activeHome:z}),b=x=>P(this,null,function*(){(yield _(x))&&(yield p([x]))}),ve=()=>P(this,null,function*(){const x=yield T();x&&(v(x),yield p(x))}),ue=()=>P(this,null,function*(){const x=yield H();x&&(v(x),yield p(x))}),ye=x=>{e("actionClick",x)},ke=(x,j)=>{e("actionCommand",x,j)};return Vue.provide(he,{tabs:V,flatMenus:i,favorites:a,updateTab:C,active:d,currentTab:f}),(x,j)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(y),{class:"x-mask"},{default:Vue.withCtx(()=>[t.disabled?(Vue.openBlock(),Vue.createBlock(Me,{key:1,createView:Vue.unref(A),exclude:Vue.unref(Y)},{default:Vue.withCtx(()=>[x.$slots.default?Vue.renderSlot(x.$slots,"default",{key:0}):Vue.createCommentVNode("",!0)]),_:3},8,["createView","exclude"])):(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:0},[Vue.createVNode(yt,{collapsed:Vue.unref(l)},{brand:Vue.withCtx(()=>[Vue.createVNode(Ct,{logo:t.logo,title:t.title,url:Vue.unref(n).url,collapsed:Vue.unref(l)},null,8,["logo","title","url","collapsed"])]),default:Vue.withCtx(()=>[Vue.createVNode(kt,{collasped:Vue.unref(l),"onUpdate:collasped":j[0]||(j[0]=U=>Vue.isRef(l)?l.value=U:null),favorite:Vue.unref(u),"onUpdate:favorite":j[1]||(j[1]=U=>Vue.isRef(u)?u.value=U:null),keyword:Vue.unref(r),"onUpdate:keyword":j[2]||(j[2]=U=>Vue.isRef(r)?r.value=U:null)},null,8,["collasped","favorite","keyword"]),Vue.createVNode(_t,{collapse:Vue.unref(l),keyword:Vue.unref(r),favorite:Vue.unref(u),favorites:Vue.unref(a),flatMenus:Vue.unref(i),menus:Vue.unref(s),active:Vue.unref(d),onSelect:Vue.unref(m)},null,8,["collapse","keyword","favorite","favorites","flatMenus","menus","active","onSelect"])]),_:1},8,["collapsed"]),Vue.createVNode(Vue.unref(y),{class:"x-mask__main",grow:"",shrink:"",flex:"",direction:"column"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(y),{class:"x-mask-topbar",justify:"space-between",align:"center"},{default:Vue.withCtx(()=>{var U;return[Vue.createVNode(zt,{ref_key:"tabRef",ref:B,favorites:Vue.unref(a),tabs:Vue.unref(h),home:Vue.unref(n),value:(U=Vue.unref(f))==null?void 0:U.id,onClick:Vue.unref(w),onToggleFavorite:Vue.unref(g),onRemove:b,onDialog:Vue.unref(Z),onRefresh:Vue.unref(ge)},null,8,["favorites","tabs","home","value","onClick","onToggleFavorite","onDialog","onRefresh"]),Vue.createVNode(Tt,{tabs:Vue.unref(W),actions:t.actions,theme:t.theme,onCloseOtherTabs:ue,onCloseAllTabs:ve,onCloseTab:b,onClickTab:Vue.unref(I),onActionClick:ye,onActionCommand:ke},{default:Vue.withCtx(()=>[Vue.createVNode(It,{avatar:t.avatar},Vue.createSlots({_:2},[x.$slots.user?{name:"default",fn:Vue.withCtx(()=>[Vue.renderSlot(x.$slots,"user")]),key:"0"}:void 0]),1032,["avatar"])]),_:3},8,["tabs","actions","theme","onClickTab"])]}),_:3}),Vue.createVNode(Me,{createView:Vue.unref(A),exclude:Vue.unref(Y)},{default:Vue.withCtx(()=>[x.$slots.default?Vue.renderSlot(x.$slots,"default",{key:0}):Vue.createCommentVNode("",!0)]),_:3},8,["createView","exclude"])]),_:3})],64))]),_:3}))}});function jt(o={}){const e=VueRouter.useRoute(),t=Vue.inject(pe,null),n=Vue.inject(he,null);if(t){const r=typeof o=="function"?o:()=>P(this,null,function*(){return o});t[e.fullPath]=r}return{tab:Vue.computed(()=>n?n.tabs.value.find(r=>r.url===e.fullPath):null),mask:n}}const $e=Vue.defineComponent({__name:"Field",setup(o){return(e,t)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElFormItem),Vue.normalizeProps(Vue.guardReactiveProps(e.$attrs)),{default:Vue.withCtx(()=>[Vue.renderSlot(e.$slots,"default")]),_:3},16))}}),$t={editor:{type:[String,Object]}},Ot=Vue.defineComponent({__name:"Form",setup(o){return(e,t)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElForm),Vue.normalizeProps(Vue.guardReactiveProps(e.$attrs)),{default:Vue.withCtx(()=>[Vue.renderSlot(e.$slots,"default")]),_:3},16))}}),Oe=[we,O,F,Ee,M,ee,y,se,ie,fe,je,$e],Ut="0.6.9",Ue=R(Oe).install;c.Draggable=ce,c.INSTALLED_KEY=X,c.MASK_KEY=he,c.NOOP=ae,c.Resizable=Ve,c.TAB_CREATORS_KEY=pe,c.TAB_ITEM_WIDTH=Ae,c.XAction=M,c.XActionBar=ee,c.XContainer=y,c.XDialog=fe,c.XField=$e,c.XForm=Ot,c.XHeader=se,c.XIcon=O,c.XMask=je,c.XMenu=F,c.XPanel=ie,c.XSimpleMask=Ee,c.XStartup=we,c.actionBarProps=xe,c.actionProps=re,c.components=Oe,c.containerProps=ze,c.createDialog=te,c.default=Ue,c.defineTab=jt,c.dialogProps=De,c.fieldProps=$t,c.getSizeValue=S,c.headerProps=Ne,c.iconProps=_e,c.iconSizeMap=Ce,c.install=Ue,c.makeInstaller=R,c.maskProps=Re,c.omit=G,c.panelProps=Pe,c.parseSize=L,c.pick=le,c.useDisabled=q,c.useIcon=J,c.useIconProps=Se,c.vDraggable=Ie,c.vResizable=me,c.version=Ut,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
