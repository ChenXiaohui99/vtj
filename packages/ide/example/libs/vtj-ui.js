(function(V,N){typeof exports=="object"&&typeof module!="undefined"?N(exports):typeof define=="function"&&define.amd?define(["exports"],N):(V=typeof globalThis!="undefined"?globalThis:V||self,N(V.VtjUI={}))})(this,function(V){"use strict";var Co=Object.defineProperty,_o=Object.defineProperties;var Bo=Object.getOwnPropertyDescriptors;var rt=Object.getOwnPropertySymbols;var Eo=Object.prototype.hasOwnProperty,So=Object.prototype.propertyIsEnumerable;var Ee=(V,N,E)=>N in V?Co(V,N,{enumerable:!0,configurable:!0,writable:!0,value:E}):V[N]=E,z=(V,N)=>{for(var E in N||(N={}))Eo.call(N,E)&&Ee(V,E,N[E]);if(rt)for(var E of rt(N))So.call(N,E)&&Ee(V,E,N[E]);return V},M=(V,N)=>_o(V,Bo(N));var L=(V,N,E)=>(Ee(V,typeof N!="symbol"?N+"":N,E),E);var T=(V,N,E)=>new Promise((H,ee)=>{var se=R=>{try{K(E.next(R))}catch(J){ee(J)}},ie=R=>{try{K(E.throw(R))}catch(J){ee(J)}},K=R=>R.done?H(R.value):Promise.resolve(R.value).then(se,ie);K((E=E.apply(V,N)).next())});const N="";function E(n){return typeof n=="string"?n:`${n}px`}function H(n=0,t){if(typeof n=="number")return n;if(/(%|vh|vw)$/i.test(n)){const o=Number.parseInt(n);return Math.floor(t*o/100)}return Number.parseInt(n)}function ee(n,t){const e={};return Object.keys(n).forEach(o=>{t.includes(o)||(e[o]=n[o])}),e}function se(n,t){const e={};return Object.keys(n).forEach(o=>{t.includes(o)&&(e[o]=n[o])}),e}const ie=()=>{};function K(n,t={}){const e=z({},t);return typeof n=="boolean"?e:Object.assign(e,n||{})}const R=Symbol("INSTALLED_KEY"),J=(n=[])=>({install:e=>{e[R]||(e[R]=!0,n.forEach(o=>{o.name&&e.component(o.name,o)}))}}),Se="data:image/png;base64,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",st={class:"x-startup"},it={class:"brand"},ct=["src"],dt=Vue.createElementVNode("h3",null,[Vue.createTextVNode("基于 "),Vue.createElementVNode("span",null,"Vue3 + TypeScript"),Vue.createTextVNode(" 的低代码设计器引擎")],-1),Vt={class:"btn"},mt=Vue.createElementVNode("div",{class:"ba"},[Vue.createElementVNode("a",{href:"http://beian.miit.gov.cn/"},"粤ICP备2023104074号")],-1),xe=Vue.defineComponent({name:"XStartup",__name:"Startup",props:{text:{default:"VTJ.PRO"},link:{default:"/"},example:{}},setup(n){const t=n,e=()=>{location.href=t.link+"#/?startup"},o=()=>{t.example&&t.example(t.link)};return(l,u)=>(Vue.openBlock(),Vue.createElementBlock("div",st,[Vue.renderSlot(l.$slots,"default",{},()=>[Vue.createElementVNode("div",null,[Vue.createElementVNode("div",it,[Vue.createElementVNode("img",{src:Vue.unref(Se)},null,8,ct),Vue.createElementVNode("h1",null,Vue.toDisplayString(t.text),1)]),Vue.createVNode(Vue.unref(ElementPlus.ElDivider)),dt,Vue.createElementVNode("div",Vt,[Vue.createVNode(Vue.unref(ElementPlus.ElButton),{onClick:e,type:"primary",round:"",size:"large",icon:Vue.unref(ElementPlusIconsVue.VideoPlay)},{default:Vue.withCtx(()=>[Vue.createTextVNode(" 立即开始体验 ")]),_:1},8,["icon"]),t.example?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElButton),{key:0,onClick:o,type:"default",round:"",size:"large",icon:Vue.unref(ElementPlusIconsVue.Document)},{default:Vue.withCtx(()=>[Vue.createTextVNode(" 加载示例项目 ")]),_:1},8,["icon"])):Vue.createCommentVNode("",!0)])])]),mt]))}}),xo="",Pe={default:14,small:12,large:18},ze={icon:{type:[String,Object]},color:{type:String},size:{type:[Number,String],default:"inherit"},src:{type:String},background:{type:String},padding:{type:Number},radius:{type:Number}},pt=["src"],F=Vue.defineComponent({name:"XIcon",__name:"Icon",props:ze,setup(n){const t=n,e=Vue.useAttrs(),o=Vue.getCurrentInstance(),l=Vue.computed(()=>{if(!t.icon)return null;const a=o==null?void 0:o.appContext.app;return typeof t.icon=="object"?Vue.markRaw(t.icon):(a==null?void 0:a.component(t.icon))||t.icon}),u=Vue.computed(()=>{const a={"is-pointer":!!e.onClick};return!l.value&&t.icon&&(a[t.icon]=!0),a}),s=Vue.computed(()=>({"background-color":t.background,"border-radius":t.radius?E(t.radius):void 0,padding:t.padding?E(t.padding):void 0})),r=Vue.computed(()=>{var a;return typeof t.size=="number"?t.size:(a=Pe[t.size])!=null?a:void 0});return(a,c)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElIcon),{class:Vue.normalizeClass(["x-icon",u.value]),color:t.color,size:r.value,style:Vue.normalizeStyle(s.value)},{default:Vue.withCtx(()=>[Vue.renderSlot(a.$slots,"default",{},()=>[l.value?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(l.value),{key:0})):Vue.createCommentVNode("",!0),t.src?(Vue.openBlock(),Vue.createElementBlock("img",{key:1,src:t.src},null,8,pt)):Vue.createCommentVNode("",!0)])]),_:3},8,["class","color","size","style"]))}}),ft={class:"x-menu__wrapper"},gt={key:1,class:"x-menu__title"},ht=Vue.createElementVNode("i",null,null,-1),yt={key:0,class:"x-menu__title"},kt=Vue.createElementVNode("i",null,null,-1),Ne=Vue.defineComponent({inheritAttrs:!1,name:"XMenuItem",__name:"MenuItem",props:{item:{},subMenu:{},defaultIcon:{type:[Object,Function]}},setup(n){const t=n,e=Vue.getCurrentInstance(),o=s=>{if(s){if(typeof s=="string"){const r=e==null?void 0:e.appContext.app;return(r==null?void 0:r.component(s))||t.defaultIcon||s}return s}},l=s=>typeof s=="object"?s:{value:s},u=(s=[])=>s.filter(r=>!r.hidden);return(s,r)=>t.item.children?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElSubMenu),Vue.mergeProps({key:0,disabled:t.item.disabled},t.subMenu,{index:String(t.item.id)}),{title:Vue.withCtx(()=>[Vue.createElementVNode("div",ft,[t.item.icon?(Vue.openBlock(),Vue.createBlock(Vue.unref(F),{key:0,icon:o(t.item.icon)},null,8,["icon"])):Vue.createCommentVNode("",!0),t.item.title?(Vue.openBlock(),Vue.createElementBlock("span",gt,Vue.toDisplayString(t.item.title),1)):Vue.createCommentVNode("",!0),t.item.badge?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElBadge),Vue.mergeProps({key:2,class:"x-menu__badge"},l(t.item.badge)),{default:Vue.withCtx(()=>[ht]),_:1},16)):Vue.createCommentVNode("",!0)])]),default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(u(t.item.children),a=>(Vue.openBlock(),Vue.createBlock(Vue.unref(Ne),{key:a.id,item:a,subMenu:t.subMenu,defaultIcon:t.defaultIcon},null,8,["item","subMenu","defaultIcon"]))),128))]),_:1},16,["disabled","index"])):(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElMenuItem),{key:1,index:String(t.item.id),disabled:t.item.disabled},{title:Vue.withCtx(()=>[t.item.title?(Vue.openBlock(),Vue.createElementBlock("span",yt,Vue.toDisplayString(t.item.title),1)):Vue.createCommentVNode("",!0),t.item.badge?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElBadge),Vue.mergeProps({key:1,class:"x-menu__badge"},l(t.item.badge)),{default:Vue.withCtx(()=>[kt]),_:1},16)):Vue.createCommentVNode("",!0)]),default:Vue.withCtx(()=>[t.item.icon?(Vue.openBlock(),Vue.createBlock(Vue.unref(F),{key:0,icon:o(t.item.icon)},null,8,["icon"])):Vue.createCommentVNode("",!0)]),_:1},8,["index","disabled"]))}}),O=Vue.defineComponent({inheritAttrs:!1,name:"XMenu",__name:"Menu",props:{data:{default:()=>[]},subMenu:{},defaultIcon:{}},emits:["select"],setup(n,{emit:t}){const e=n,o=t,l=Vue.computed(()=>e.data.filter(r=>!r.hidden)),u=(r,a)=>{const c=(d,i=[])=>{var p;for(const h of i){if(h.id.toString()===d.toString())return h;if((p=h.children)!=null&&p.length){const g=c(d,h.children);if(g)return g}}};return c(a,r)},s=r=>{const a=u(l.value,r);a&&o("select",a)};return(r,a)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElMenu),Vue.mergeProps({class:"x-menu"},r.$attrs,{onSelect:s}),{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(l.value,c=>(Vue.openBlock(),Vue.createBlock(Vue.unref(Ne),{item:M(z({},c),{icon:c.icon||Vue.unref(ElementPlusIconsVue.Menu)}),defaultIcon:e.defaultIcon,subMenu:e.subMenu},null,8,["item","defaultIcon","subMenu"]))),256))]),_:1},16))}}),vt={class:"x-simple-mask__brand"},bt={class:"x-simple-mask__aciton"},Te=Vue.defineComponent({name:"XSimpleMask",__name:"SimpleMask",props:{preview:{type:Boolean},project:{default:()=>({name:"Logo",home:"/"})},menu:{}},setup(n,{expose:t}){const e=n,o=VueRouter.useRouter(),l=VueRouter.useRoute(),u=Vue.computed(()=>l.params.id),s=()=>{const a=e.project.home;a&&o.push(a)},r=a=>{const c=a==null?void 0:a.id;if(c){const i=`${e.preview?"/preview":e.project.page}/${c}`;o.push(i)}};return t({goHome:s}),(a,c)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElContainer),{class:"x-simple-mask"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElHeader),{class:"x-simple-mask__header"},{default:Vue.withCtx(()=>[Vue.createElementVNode("div",vt,[Vue.createElementVNode("span",{class:"x-simple-mask__logo",onClick:s},[Vue.renderSlot(a.$slots,"logo",{},()=>[Vue.createTextVNode(Vue.toDisplayString(e.project.name),1)])])]),Vue.createElementVNode("div",bt,[Vue.renderSlot(a.$slots,"action")])]),_:3}),Vue.createVNode(Vue.unref(ElementPlus.ElContainer),null,{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElAside),{class:"x-simple-mask__aside"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(O),Vue.mergeProps(e.menu,{"default-active":u.value,onSelect:r}),null,16,["default-active"])]),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElMain),{class:"x-simple-mask__main"},{default:Vue.withCtx(()=>[Vue.renderSlot(a.$slots,"default",{},()=>[Vue.createVNode(Vue.unref(VueRouter.RouterView))])]),_:3})]),_:3}),a.$slots.footer?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElFooter),{key:0,class:"x-simple-mask__footer",height:"40px"},{default:Vue.withCtx(()=>[Vue.renderSlot(a.$slots,"footer")]),_:3})):Vue.createCommentVNode("",!0)]),_:3}))}}),ce={name:{type:String},label:{type:String},value:{type:[String,Number,Object,Array,Boolean]},icon:{type:[String,Object]},mode:{type:String,default:"button"},menus:{type:Array},tooltip:{type:[String,Object]},badge:{type:[String,Number,Object]},dropdown:{type:Object},button:{type:Object},disabled:{type:[Boolean,Function]},size:{type:String,default:"default"},type:{type:String,default:"primary"},background:{type:String,default:"always"},circle:{type:Boolean}};function wt(n){return Vue.computed(()=>{const t=n.tooltip;if(t)return typeof t=="string"?{content:t}:t})}function Ct(n){return Vue.computed(()=>{const t=n.badge;if(t)return typeof t=="object"?t:{value:t}})}function _t(n){return Vue.computed(()=>{const{dropdown:t,menus:e}=n;if(e&&e.length>0)return Object.assign({popperClass:"x-action__menus",size:n.size},t||{})})}function Ie(n){const t=Vue.getCurrentInstance();return Vue.computed(()=>{const e=Vue.unref(n);if(e)if(typeof e=="string"||e.setup||e.render||Vue.isVNode(e)){const o=t==null?void 0:t.appContext.app;return{icon:typeof e=="string"&&(o==null?void 0:o.component(e))||e}}else return e;return null})}function W(n){const t=Ie(n);return t.value?Vue.markRaw(Vue.defineComponent({render:()=>Vue.h(F,t.value)})):null}function te(n,t){return Vue.computed(()=>{const e=Vue.unref(n);return typeof e=="function"?e(t):!!e})}function De(n,t,e){const o=Vue.shallowRef(t),l=Vue.ref(!1),u=r=>T(this,null,function*(){const a=Vue.unref(n);return a?typeof a=="function"?yield a(r):a:t}),s=r=>T(this,null,function*(){return l.value=!0,yield u(r).then(a=>(o.value=a||t,l.value=!1,o))});return Vue.watch(()=>n,()=>{s(e)},{immediate:!0}),e&&Vue.watch(e,()=>{s(e)}),{data:o,loading:l,loader:s}}const Bt={key:0},Et=Vue.defineComponent({__name:"Trigger",props:ce,emits:["click"],setup(n,{emit:t}){const e=n,o=t,l=W(Vue.toRef(e,"icon")),u=te(Vue.toRef(e,"disabled")),s=Vue.computed(()=>({[`is-${e.mode}`]:!!e.mode,[`is-${e.type}`]:!!e.type,[`is-${e.size}`]:!!e.size&&e.size!=="default",[`is-background-${e.background}`]:e.mode==="icon"&&!!e.background,"is-disabled":!!e.disabled,"is-circle":!!e.circle})),r=()=>{o("click")};return(a,c)=>e.mode==="button"?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElButton),Vue.mergeProps({key:0,icon:Vue.unref(l),type:e.type,size:e.size,disabled:Vue.unref(u)},e.button,{onClick:r}),{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(a.label),1)]),_:1},16,["icon","type","size","disabled"])):(Vue.openBlock(),Vue.createElementBlock("div",{key:1,class:Vue.normalizeClass(["x-action__inner",s.value]),onClick:r},[(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(l)))),a.label?(Vue.openBlock(),Vue.createElementBlock("span",Bt,Vue.toDisplayString(a.label),1)):Vue.createCommentVNode("",!0)],2))}}),j=Vue.defineComponent({name:"XAction",__name:"Action",props:ce,emits:["click","command"],setup(n,{emit:t}){const e=n,o=Vue.useSlots(),l=t,u=wt(e),s=Ct(e),r=_t(e),a=te(Vue.toRef(e,"disabled")),c=Vue.computed(()=>({[`x-action--${e.mode}`]:!!e.mode})),d=()=>{l("click",Vue.toRaw(e))},i=y=>{var m;const w=(m=e.menus)==null?void 0:m.find(_=>_.command===y);w&&l("command",Vue.toRaw(w))},p=y=>Vue.h(ElementPlus.ElBadge,s.value,()=>[].concat(y)),h=y=>Vue.h(ElementPlus.ElDropdown,M(z({},r.value),{disabled:a.value,onCommand:i}),{default:()=>[y],dropdown:()=>[Vue.h(ElementPlus.ElDropdownMenu,()=>(e.menus||[]).map(w=>Vue.h(ElementPlus.ElDropdownItem,w,()=>o.item?o.item({item:w}):w.label)))]}),g=y=>Vue.h(ElementPlus.ElTooltip,M(z({},u.value),{disabled:a.value}),()=>[y]),C=Vue.computed(()=>{let y=o.default?o.default()[0]:Vue.h(Vue.markRaw(Et),M(z({},e),{onClick:d}));return s.value&&(y=p(y)),r.value&&(y=h(y)),u.value&&(y=g(y)),y});return(y,w)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:Vue.normalizeClass(["x-action",c.value])},[(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(C.value)))],2))}}),$e={items:{type:Array},mode:{type:String,default:"button"},size:{type:String,default:"default"},type:{type:String,default:"primary"},background:{type:String,default:"always"},circle:{type:Boolean},disabled:{type:[Boolean,Function]},tooltip:{type:Object},badge:{type:Object},dropdown:{type:Object},button:{type:Object}},G=Vue.defineComponent({name:"XActionBar",__name:"ActionBar",props:$e,emits:["click","command"],setup(n,{emit:t}){const e=n,o=t,l=Vue.computed(()=>(e.items||[]).map(r=>r==="|"?r:M(z({},r),{badge:r.badge?z(z({},e.badge),typeof r.badge=="object"?r.badge||{}:{value:r.badge}):void 0,tooltip:r.tooltip?z(z({},e.tooltip),typeof r.tooltip=="object"?r.tooltip||{}:{content:r.tooltip}):void 0}))),u=r=>{o("click",r)},s=(r,a)=>{o("command",r,a)};return(r,a)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(B),{class:"x-action-bar",align:"center"},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(l.value,c=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[c==="|"?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElDivider),{key:0,direction:"vertical",class:"x-action-bar__divider"})):(Vue.openBlock(),Vue.createBlock(Vue.unref(j),Vue.mergeProps({key:1,mode:e.mode,size:e.size,type:e.type,circle:e.circle,background:e.background,button:e.button,dropdown:e.dropdown,disabled:Vue.unref(te)(e.disabled,c).value},c,{onClick:u,onCommand:d=>s(c,d)}),null,16,["mode","size","type","circle","background","button","dropdown","disabled","onCommand"]))],64))),256))]),_:1}))}}),Me={tag:{type:String,default:"div"},fit:{type:Boolean,default:!1},width:{type:[String,Number]},height:{type:[String,Number]},flex:{type:Boolean,default:!0},inline:{type:Boolean},direction:{type:String,default:"row"},wrap:{type:String,default:"nowrap"},justify:{type:String,default:"flex-start"},align:{type:String,default:"flex-start"},alignContent:{type:String,default:"stretch"},grow:{type:Boolean,default:!1},shrink:{type:Boolean,default:!1},alignSelf:{type:String,default:"auto"},overflow:{type:String},padding:{type:Boolean,default:!1},gap:{type:Boolean},autoPointer:{type:Boolean}},B=Vue.defineComponent({name:"XContainer",__name:"Container",props:Me,setup(n){const t=n,e=Vue.useAttrs(),o=Vue.getCurrentInstance(),l=Vue.computed(()=>{const r=o==null?void 0:o.parent;if(!r)return!1;const a=r.proxy;return a.$options.name==="XContainer"||!!a.flex}),u=Vue.computed(()=>{var r;return{"is-fit":t.fit,"is-flex":t.flex&&!t.inline,"is-inline-flex":t.flex&&t.inline,[`is-direction-${t.direction}`]:t.flex&&t.direction!=="row",[`is-wrap-${t.wrap}`]:t.flex&&t.wrap!=="nowrap",[`is-justify-${t.justify}`]:t.flex&&t.justify!=="flex-start",[`is-align-${t.align}`]:t.flex&&t.align!=="flex-start",[`is-align-content-${t.alignContent}`]:t.flex&&t.alignContent!=="stretch","is-grow":(r=t.grow)!=null?r:l.value,"is-shrink":l.value&&t.shrink,[`is-align-self-${t.alignSelf}`]:l.value&&t.alignSelf!=="auto",[`is-overflow-${t.overflow}`]:!!t.overflow,"is-padding":!!t.padding,"is-pointer":t.autoPointer&&!!e.onClick,"is-gap":!!t.gap}}),s=Vue.computed(()=>{const{width:r,height:a,fit:c}=t;return c?null:{width:r?E(r):void 0,height:a?E(a):void 0}});return(r,a)=>(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(t.tag),{class:Vue.normalizeClass(["x-container",u.value]),style:Vue.normalizeStyle(s.value)},{default:Vue.withCtx(()=>[Vue.renderSlot(r.$slots,"default")]),_:3},8,["class","style"]))}}),Re={size:{type:String,default:"default"},content:{type:String,default:""},subtitle:{type:String},icon:{type:[String,Object]},border:{type:Boolean},more:{type:Boolean}},St={key:2,class:"x-header__subtitle"},xt={key:0,class:"x-header__actions"},de=Vue.defineComponent({name:"XHeader",inheritAttrs:!1,__name:"Header",props:Re,setup(n){const t=n,e=Vue.useAttrs(),o=W(Vue.toRef(t,"icon")),l=Vue.computed(()=>({[`is-size-${t.size}`]:!!t.size&&t.size!=="default","is-border":t.border,"is-pointer":!!e.onClick}));return(u,s)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(B),{class:Vue.normalizeClass(["x-header",l.value]),justify:"space-between",align:"center"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(B),{align:"center",class:Vue.normalizeClass(["x-header__wrapper",l.value]),grow:""},{default:Vue.withCtx(()=>[Vue.unref(o)?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(o)),{key:0,class:"x-header__icon"})):Vue.createCommentVNode("",!0),Vue.createElementVNode("span",Vue.mergeProps({class:"x-header__content"},u.$attrs),[Vue.renderSlot(u.$slots,"default",{},()=>[Vue.createTextVNode(Vue.toDisplayString(t.content),1)])],16),t.more?(Vue.openBlock(),Vue.createBlock(Vue.unref(F),{key:1,class:"x-header__more",icon:Vue.unref(ElementPlusIconsVue.ArrowRight)},null,8,["icon"])):Vue.createCommentVNode("",!0),t.subtitle||u.$slots.subtitle?(Vue.openBlock(),Vue.createElementBlock("span",St,[Vue.renderSlot(u.$slots,"subtitle",{},()=>[Vue.createTextVNode(Vue.toDisplayString(t.subtitle),1)])])):Vue.createCommentVNode("",!0)]),_:3},8,["class"]),u.$slots.actions?(Vue.openBlock(),Vue.createElementBlock("div",xt,[Vue.renderSlot(u.$slots,"actions")])):Vue.createCommentVNode("",!0)]),_:3},8,["class"]))}}),je={fit:{type:Boolean,default:!1},width:{type:[String,Number]},height:{type:[String,Number]},border:{type:Boolean,default:!0},radius:{type:Boolean,default:!0},card:{type:Boolean},size:{type:String},shadow:{type:String},header:{type:[String,Object]},bodyPadding:{type:Boolean,default:!0},footerPadding:{type:Boolean,default:!0},body:{type:Object},footer:{type:Object}},Ve=Vue.defineComponent({name:"XPanel",__name:"Panel",props:je,setup(n,{expose:t}){const e=n,o=Vue.ref(),l=Vue.computed(()=>({"x-panel--card":!!e.card,"x-panel--default":!e.card,[`is-${e.size}`]:!!e.size&&e.size!=="default","is-border":!!e.border,"is-radius":!!e.radius,[`is-shadow-${e.shadow}`]:!!e.shadow&&e.shadow!=="none"})),u=Vue.computed(()=>e.header===null?null:typeof e.header=="string"?{content:e.header,size:e.size}:M(z({},e.header),{size:e.size})),s=Vue.computed(()=>e.fit||e.height?"auto":void 0);return t({bodyRef:o}),(r,a)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(B),{class:Vue.normalizeClass(["x-panel",l.value]),direction:"column",fit:e.fit,width:e.width,height:e.height},{default:Vue.withCtx(()=>[u.value?(Vue.openBlock(),Vue.createBlock(Vue.unref(B),{key:0,flex:!1,class:"x-panel__header"},{default:Vue.withCtx(()=>[Vue.renderSlot(r.$slots,"header",{},()=>[Vue.createVNode(Vue.unref(de),Vue.normalizeProps(Vue.guardReactiveProps(u.value)),{default:Vue.withCtx(()=>[Vue.renderSlot(r.$slots,"title")]),actions:Vue.withCtx(()=>[Vue.renderSlot(r.$slots,"actions")]),_:3},16)])]),_:3})):Vue.createCommentVNode("",!0),Vue.createVNode(Vue.unref(B),Vue.mergeProps({ref_key:"bodyRef",ref:o,flex:!1,overflow:s.value,grow:"",padding:"",class:"x-panel__body"},e.body),{default:Vue.withCtx(()=>[Vue.renderSlot(r.$slots,"default")]),_:3},16,["overflow"]),r.$slots.footer?(Vue.openBlock(),Vue.createBlock(Vue.unref(B),Vue.mergeProps({key:1,flex:!1,padding:"",class:"x-panel__footer"},e.footer),{default:Vue.withCtx(()=>[Vue.renderSlot(r.$slots,"footer")]),_:3},16)):Vue.createCommentVNode("",!0)]),_:3},8,["class","fit","width","height"]))}}),Ae="user-select-none";class me{constructor(t,e={}){L(this,"scope");L(this,"dragging",!1);this.el=t,this.options=e,this.scope=Vue.effectScope(),this.scope.run(()=>{this.init()})}getHandle(){const{selector:t,handle:e}=this.options;return t?this.el.querySelector(t):e}getTarget(){const{target:t="body"}=this.options;return typeof t=="string"?document.querySelector(t):Vue.unref(t)||document.body}init(){const{el:t,options:e}=this,{disabled:o,delay:l=150,onStart:u,onEnd:s}=e;if(o)return;let r=null;const a=this.getHandle(),c=this.getTarget();let d=t.getBoundingClientRect(),i=null;const{x:p,y:h}=VueUse.useDraggable(t,M(z({initialValue:{x:d.x,y:d.y}},e),{handle:a,onStart:(g,C)=>{document.body.classList.add(Ae),clearTimeout(r),r=setTimeout(()=>{this.dragging=!0,d=t.getBoundingClientRect(),i=c==null?void 0:c.getBoundingClientRect(),u&&u(g,C)},l)},onEnd:(g,C)=>{if(clearTimeout(r),document.body.classList.remove(Ae),this.dragging&&i){this.dragging=!1;const{x:y,y:w}=g,m=this.getPosition(i,d,y,w);s&&s(m,C),i=null}}}));Vue.watch([p,h],()=>{if(this.dragging&&i){const g=this.getPosition(i,d,p.value,h.value);t.style.left=`${g.x}px`,t.style.top=`${g.y}px`}})}getPosition(t,e,o,l){const{edge:u=50}=this.options,s=-e.width+u,r=t.width-u,a=0,c=t.height-u,d=Math.min(r,Math.max(o,s)),i=Math.min(c,Math.max(l,a));return{x:d,y:i}}destory(){this.scope.stop()}}const Fe={mounted(n,t){const e=t.value||{},o=new me(n,e);n.__draggable__=o},updated(n,t){const e=t.value||{};let o=n.__draggable__;o&&!VtjUtils.isEqual(o.options,e)&&(o.destory(),n.__draggable__=new me(n,e))},unmounted(n){const t=n.__draggable__;t&&(t.destory(),n.__draggable__=null)}},pe="user-select-none";class fe{constructor(t,e={}){L(this,"scope");L(this,"resizing",Vue.ref(!1));L(this,"direction",Vue.ref(""));L(this,"MIE",null);L(this,"cleanMousedown");L(this,"cleanMouseup");this.el=t,this.options=e,this.scope=Vue.effectScope(),this.scope.run(()=>{this.init()})}init(){const{el:t,options:e}=this,{disabled:o,onStart:l,onEnd:u}=e;if(o)return;this.MIE=VueUse.useMouseInElement(t),this.cleanMousedown=VueUse.useEventListener(document,"mousedown",()=>{var a;(a=this.direction)!=null&&a.value&&this.MIE&&(this.resizing.value=!0,t.classList.add("is-resizing",`is-${this.direction.value}-resizing`),l&&l(this.direction.value,this.MIE))}),this.cleanMouseup=VueUse.useEventListener(document,"mouseup",()=>{var a;this.resizing.value&&((a=this.direction)!=null&&a.value)&&this.MIE&&(t.classList.remove("is-resizing",`is-${this.direction.value}-resizing`),u&&u(this.direction.value,this.MIE)),this.resizing.value=!1}),Vue.watch(this.direction,a=>{const c=document.body;c.style.cursor=a?`${a}-resize`:"",a?c.classList.add(pe):c.classList.remove(pe)});const{x:s,y:r}=this.MIE;Vue.watch([s,r],()=>{this.resizing.value?this.resize():this.direction.value=this.getDirection()})}resize(){const{MIE:t,direction:e,resizing:o,options:l,el:u}=this,s=(e==null?void 0:e.value)||"";if(!t||!o.value||!s)return;const{x:r,y:a,elementX:c,elementY:d,elementHeight:i,elementWidth:p}=t,{onResizing:h}=l,{minWidth:g=0,minHeight:C=0,maxWidth:y=99999,maxHeight:w=99999}=l;if(s.includes("e")){const m=Math.min(Math.max(c.value,g),y);u.style.width=`${m}px`}if(s.includes("s")){const m=Math.min(Math.max(d.value,C),w);u.style.height=`${m}px`}if(s.includes("w")){const m=Math.min(Math.max(p.value-c.value,g),y);u.style.width=`${m}px`,u.style.left=`${r.value}px`}if(s.includes("n")){const m=Math.min(Math.max(i.value-d.value,C),w);this.el.style.height=`${m}px`,this.el.style.top=`${a.value}px`}h&&h(s,t)}getDirection(){if(!this.MIE)return"";const{elementX:t,elementY:e,elementHeight:o,elementWidth:l,isOutside:u}=this.MIE;if(u.value)return"";const{dirs:s=["n","s","w","e"],edge:r=5}=this.options;let a="";return s.includes("n")&&e.value<=r?a+="n":s.includes("s")&&e.value>o.value-r&&(a+="s"),s.includes("w")&&t.value<=r?a+="w":s.includes("e")&&t.value>l.value-r&&(a+="e"),a}destory(){var e;const t=document.body;t.style.cursor="",t.classList.remove(pe),this.cleanMousedown&&this.cleanMousedown(),this.cleanMouseup&&this.cleanMouseup(),(e=this.MIE)==null||e.stop(),this.scope.stop()}}const ge={mounted(n,t){const e=t.value||{},o=new fe(n,e);n.__resizable__=o},updated(n,t){const e=t.value||{};let o=n.__resizable__;o&&!VtjUtils.isEqual(o.options,e)&&(o.destory(),n.__resizable__=new fe(n,e))},unmounted(n){const t=n.__resizable__;t&&(t.destory(),n.__resizable__=null)}},Oe={modelValue:{type:Boolean,default:!0},title:{type:String},subtitle:{type:String},icon:{type:[String,Object]},size:{type:String,default:"default"},width:{type:[Number,String],default:"70%"},height:{type:[Number,String],default:"70%"},left:{type:[Number,String]},top:{type:[Number,String]},modal:{type:Boolean,default:!0},draggable:{type:[Boolean,Object],default:!0},resizable:{type:[Boolean,Object]},closable:{type:Boolean,default:!0},maximizable:{type:Boolean,default:!0},minimizable:{type:Boolean,default:!0},mode:{type:String,default:"normal"},content:{type:Object},src:{type:String},componentInstance:{type:Object},beforeClose:{type:Function},submit:{type:[Boolean,String]},cancel:{type:[Boolean,String]},bodyPadding:{type:Boolean,default:!0},primary:{type:Boolean}};let Y=1e3;function Pt(n,t){const{width:e,height:o}=VueUse.useElementSize(t),l=Vue.reactive({mode:n.mode||"normal",wrapperWidth:0,wrapperHeight:0,width:0,height:0,top:0,left:0,zIndex:++Y,dragging:!1,resizing:!1});return Vue.watch([e,o],([u,s])=>{l.wrapperWidth=u,l.wrapperHeight=s,l.width=H(n.width,u),l.height=H(n.height,s),l.left=n.left?H(n.left,u)-l.width/2:Math.max(Math.floor((u-l.width)/2),0),l.top=n.top?H(n.top,s):Math.max(Math.floor((s-l.height)/2),0)}),Vue.watch(l,u=>{Y=Math.max(u.zIndex,Y)}),{state:l,normal:Vue.computed(()=>l.mode==="normal"),maximized:Vue.computed(()=>l.mode==="maximized"),minimized:Vue.computed(()=>l.mode==="minimized")}}function zt(n,t){const e=Vue.computed(()=>{const{width:s,height:r,top:a,left:c,zIndex:d}=t;return{width:`${s}px`,height:`${r}px`,top:`${a}px`,left:`${c}px`,zIndex:d}}),o=Vue.computed(()=>({[`is-${t.mode}`]:!!t.mode,"is-draggable":!!n.draggable,"is-resizable":!!n.resizable,"is-primary":!!n.primary})),l=Vue.computed(()=>({[`is-${t.mode}`]:!!t.mode,"is-dragging":t.dragging,"is-resizing":t.resizing})),u=Vue.computed(()=>({zIndex:t.zIndex}));return{styles:e,classes:o,wrapperClass:l,modalStyle:u}}function Nt(n,t,e){const o=d=>{t.mode=d,["maximized","minimized","normal"].includes(d)&&e(d),e("modeChange",d)},l=()=>T(this,null,function*(){(!n.beforeClose||(yield n.beforeClose()))&&(e("update:modelValue",!1),e("close"),e("destroy"))});return{close:l,changeMode:o,show:()=>o("normal"),hide:()=>o("minimized"),active:()=>{t.zIndex=Math.max(t.zIndex,++Y)},submit:()=>e("submit"),cancel:()=>{e("cancel"),l()}}}function Tt(n,t,e,o){return Vue.computed(()=>{var u;const l=typeof n.draggable=="boolean"?!n.draggable:!!((u=n.draggable)!=null&&u.disabled);return M(z({},VtjUtils.isObject(n.draggable)?n.draggable:{}),{disabled:l,target:o,selector:".x-panel__header",onStart(s){t.dragging=!0,t.zIndex=Math.max(t.zIndex,++Y),e("dragStart",s)},onMove(s){e("dragging",s)},onEnd(s){if(t.mode==="maximized")return;const{x:r,y:a}=s;t.left=r,t.top=a,t.dragging=!1,e("dragEnd",s)}})})}function It(n,t,e){return Vue.computed(()=>{var l;const o=typeof n.resizable=="boolean"?!n.resizable:!!((l=n.resizable)!=null&&l.disabled);return M(z({minWidth:200,minHeight:150},VtjUtils.isObject(n.resizable)?n.resizable:{}),{disabled:o,dirs:["e","s","w"],onStart(u,s){t.resizing=!0,t.zIndex=Math.max(t.zIndex,++Y),e("resizeStart",u,s)},onResizing(u,s){e("resizing",u,s)},onEnd(u,s){t.left=s.elementPositionX.value,t.top=s.elementPositionY.value,t.width=s.elementWidth.value,t.height=s.elementHeight.value,t.resizing=!1,e("resizeEnd",u,s)}})})}function Dt(n,t){const e=n.componentInstance;if(!e)return;let o=null;return Vue.onMounted(()=>{const l=Vue.unref(t),u=Vue.unref(l==null?void 0:l.bodyRef);o=e.$el,u&&u.$el&&u.$el.appendChild(o)}),Vue.onUnmounted(()=>{o&&o.parentNode&&o.parentNode.removeChild(o)}),{componentInstance:e}}const $t=["src"],oe=Vue.defineComponent({name:"XDialog",__name:"Dialog",props:Oe,emits:["update:modelValue","open","close","destroy","maximized","minimized","normal","modeChange","dragStart","dragging","dragEnd","resizeStart","resizeEnd","resizing","submit","cancel"],setup(n,{expose:t,emit:e}){const o=n,l=e,u=Vue.getCurrentInstance(),s=Vue.ref(),r=Vue.ref(),{state:a,maximized:c,minimized:d,normal:i}=Pt(o,s),{styles:p,classes:h,wrapperClass:g,modalStyle:C}=zt(o,a),{changeMode:y,active:w,close:m,show:_,hide:S,submit:b,cancel:f}=Nt(o,a,l),v=Tt(o,a,l,s),I=It(o,a,l),Q=Dt(o,r);Vue.watchEffect(()=>T(this,null,function*(){o.modelValue&&(yield Vue.nextTick(),u&&l("open",u))}));const q=Vue.computed(()=>{var $;return($=r.value)==null?void 0:$.$el});return t({$vtjEl:q,panelRef:r,state:a,maximized:c,minimized:d,changeMode:y,show:_,hide:S,submit:b,cancel:f,componentInstance:Q}),($,A)=>o.modelValue?(Vue.openBlock(),Vue.createBlock(Vue.Teleport,{key:0,to:"body"},[Vue.createElementVNode("div",{ref_key:"wrapper",ref:s,class:Vue.normalizeClass(["x-dialog__wrapper",Vue.unref(g)])},[o.modal?(Vue.openBlock(),Vue.createElementBlock("div",{key:0,class:"x-dialog__modal",style:Vue.normalizeStyle(Vue.unref(C))},null,4)):Vue.createCommentVNode("",!0),Vue.withDirectives((Vue.openBlock(),Vue.createBlock(Vue.unref(Ve),{ref_key:"panelRef",ref:r,class:Vue.normalizeClass(["x-dialog",Vue.unref(h)]),card:"",shadow:"always",header:{icon:o.icon,subtitle:o.subtitle},width:"800px",height:"600px",footer:{justify:"space-between",flex:!0,align:"center"},style:Vue.normalizeStyle(Vue.unref(p)),size:o.size,body:{padding:o.bodyPadding},onClick:Vue.unref(w)},Vue.createSlots({title:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(o.title),1)]),actions:Vue.withCtx(()=>[Vue.renderSlot($.$slots,"actions"),o.minimizable?(Vue.openBlock(),Vue.createBlock(Vue.unref(j),{key:0,icon:Vue.unref(VtjIcons.Minimize),size:o.size,mode:"icon",type:"primary",background:"hover",onClick:A[0]||(A[0]=Z=>Vue.unref(y)("minimized"))},null,8,["icon","size"])):Vue.createCommentVNode("",!0),o.maximizable?(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:1},[Vue.unref(i)?(Vue.openBlock(),Vue.createBlock(Vue.unref(j),{key:1,icon:Vue.unref(VtjIcons.Maximize),size:o.size,mode:"icon",type:"primary",background:"hover",onClick:A[2]||(A[2]=Z=>Vue.unref(y)("maximized"))},null,8,["icon","size"])):(Vue.openBlock(),Vue.createBlock(Vue.unref(j),{key:0,icon:Vue.unref(VtjIcons.Popup),size:o.size,mode:"icon",type:"primary",background:"hover",onClick:A[1]||(A[1]=Z=>Vue.unref(y)("normal"))},null,8,["icon","size"]))],64)):Vue.createCommentVNode("",!0),o.closable?(Vue.openBlock(),Vue.createBlock(Vue.unref(j),{key:2,icon:Vue.unref(VtjIcons.RawClose),size:o.size,mode:"icon",type:"danger",background:"hover",onClick:Vue.unref(m)},null,8,["icon","size","onClick"])):Vue.createCommentVNode("",!0)]),default:Vue.withCtx(()=>[Vue.renderSlot($.$slots,"default",{},()=>[o.content?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(o.content),{key:0})):Vue.createCommentVNode("",!0),o.src?(Vue.openBlock(),Vue.createElementBlock("iframe",{key:1,src:o.src,class:"x-dialog__frame"},null,8,$t)):Vue.createCommentVNode("",!0)])]),_:2},[o.cancel||o.submit||$.$slots.footer||$.$slots.extra||$.$slots.handle?{name:"footer",fn:Vue.withCtx(()=>[Vue.renderSlot($.$slots,"footer",{},()=>[Vue.createVNode(Vue.unref(B),{align:"center"},{default:Vue.withCtx(()=>[Vue.renderSlot($.$slots,"extra")]),_:3}),Vue.createVNode(Vue.unref(B),{align:"center"},{default:Vue.withCtx(()=>[Vue.renderSlot($.$slots,"handle"),o.cancel?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElButton),{key:0,type:"default",size:o.size,onClick:Vue.unref(f)},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(typeof o.cancel=="string"?o.cancel:"取消"),1)]),_:1},8,["size","onClick"])):Vue.createCommentVNode("",!0),o.submit?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElButton),{key:1,type:"primary",size:o.size,onClick:Vue.unref(b)},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(typeof o.submit=="string"?o.submit:"确定"),1)]),_:1},8,["size","onClick"])):Vue.createCommentVNode("",!0)]),_:3})])]),key:"0"}:void 0]),1032,["header","class","style","size","body","onClick"])),[[Vue.unref(Fe),Vue.unref(v)],[Vue.unref(ge),Vue.unref(I)]])],2)])):Vue.createCommentVNode("",!0)}});function ne(n,t){const e=document.createElement("div"),o=Vue.createVNode(oe,n);o.appContext=t!=null?t:ne._context,Vue.render(o,e);const l=()=>{var u;Vue.render(null,e),(u=e.parentNode)==null||u.removeChild(e)};return o.props.onDestroy=()=>{l()},document.body.appendChild(e),{vnode:o,destroy:l}}const Mt=Vue.createElementVNode("div",{class:"x-mask-sidebar__helper"},null,-1),Rt=Vue.defineComponent({__name:"Sidebar",props:{collapsed:{type:Boolean}},setup(n){const t=n;return(e,o)=>Vue.withDirectives((Vue.openBlock(),Vue.createBlock(Vue.unref(B),{class:Vue.normalizeClass(["x-mask-sidebar",{"is-collapsed":t.collapsed}]),grow:!1,flex:"",direction:"column"},{default:Vue.withCtx(()=>[Vue.renderSlot(e.$slots,"brand"),Vue.createVNode(Vue.unref(B),{class:"x-mask-sidebar__wrapper",flex:"",grow:"",direction:"column",justify:"space-between",align:"center"},{default:Vue.withCtx(()=>[Vue.renderSlot(e.$slots,"default"),Mt]),_:3})]),_:3},8,["class"])),[[Vue.unref(ge),{dirs:["e"],disabled:t.collapsed,maxWidth:500,minWidth:200}]])}}),jt=Vue.defineComponent({__name:"SwitchBar",props:{collasped:{type:Boolean,default:!1},favorite:{type:Boolean,default:!1},keyword:{}},emits:["update:collasped","update:keyword","update:favorite"],setup(n,{emit:t}){const e=n,o=t,l=Vue.ref(!1),u=Vue.ref(""),s=Vue.ref(!1),r=()=>{l.value=!0},a=()=>{u.value="",l.value=!1,o("update:keyword",u.value)},c=()=>{o("update:collasped",!e.collasped)},d=()=>{o("update:keyword",u.value)},i=()=>{o("update:favorite",s.value)};return(p,h)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(B),{class:"x-mask-switch-bar",justify:"space-between",align:"center"},{default:Vue.withCtx(()=>[e.collasped?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(Vue.unref(B),{key:0,class:"x-mask-switch-bar__left",grow:""},{default:Vue.withCtx(()=>[l.value?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElSwitch),{key:0,modelValue:s.value,"onUpdate:modelValue":h[0]||(h[0]=g=>s.value=g),class:"x-mask-switch-bar__switch","active-icon":Vue.unref(ElementPlusIconsVue.StarFilled),"inactive-icon":Vue.unref(ElementPlusIconsVue.Menu),onChange:i},null,8,["modelValue","active-icon","inactive-icon"])),l.value?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElInput),{key:1,modelValue:u.value,"onUpdate:modelValue":h[1]||(h[1]=g=>u.value=g),class:"x-mask-switch-bar__input",size:"small",placeholder:"请输入查询关键字",onInput:d,"prefix-icon":Vue.unref(ElementPlusIconsVue.Search)},{suffix:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(F),{icon:Vue.unref(ElementPlusIconsVue.Close),onClick:a},null,8,["icon"])]),_:1},8,["modelValue","prefix-icon"])):Vue.createCommentVNode("",!0)]),_:1})),Vue.createVNode(Vue.unref(B),{class:Vue.normalizeClass(["x-mask-switch-bar__right",{"is-collasped":e.collasped}]),flex:"",align:"center",justify:"center"},{default:Vue.withCtx(()=>[!l.value&&!e.collasped?(Vue.openBlock(),Vue.createBlock(Vue.unref(j),{key:0,icon:Vue.unref(ElementPlusIconsVue.Search),mode:"icon",background:"hover",size:"default",circle:"",onClick:r},null,8,["icon"])):Vue.createCommentVNode("",!0),e.collasped?(Vue.openBlock(),Vue.createBlock(Vue.unref(j),{key:1,icon:Vue.unref(ElementPlusIconsVue.Expand),mode:"icon",size:"default",background:"hover",onClick:c,circle:""},null,8,["icon"])):Vue.createCommentVNode("",!0),e.collasped?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(Vue.unref(j),{key:2,icon:Vue.unref(ElementPlusIconsVue.Fold),mode:"icon",size:"default",background:"hover",circle:"",onClick:c},null,8,["icon"]))]),_:1},8,["class"])]),_:1}))}}),At=["src"],Ft={key:0},Ot=Vue.defineComponent({__name:"Brand",props:{collapsed:{type:Boolean,default:!1},logo:{},title:{},url:{}},setup(n){const t=n,e=VueRouter.useRouter(),o=()=>{t.url&&e.push(t.url)};return(l,u)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(B),{class:Vue.normalizeClass(["x-mask-brand",{"is-collapsed":t.collapsed}]),align:"center"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(B),{class:"x-mask-brand__logo",flex:"",justify:"center",align:"center",onClick:o},{default:Vue.withCtx(()=>[Vue.renderSlot(l.$slots,"logo",{},()=>[t.logo?(Vue.openBlock(),Vue.createElementBlock("img",{key:0,src:t.logo},null,8,At)):Vue.createCommentVNode("",!0)])]),_:3}),Vue.createVNode(Vue.unref(B),{class:"x-mask-brand__title",flex:"",align:"center"},{default:Vue.withCtx(()=>[t.title?(Vue.openBlock(),Vue.createElementBlock("span",Ft,[Vue.renderSlot(l.$slots,"title",{},()=>[Vue.createTextVNode(Vue.toDisplayString(t.title),1)])])):Vue.createCommentVNode("",!0)]),_:3})]),_:3},8,["class"]))}}),ue="__favorites__",le="__search__",Ut=Vue.defineComponent({__name:"Menu",props:{collapse:{type:Boolean,default:!1},keyword:{},favorite:{type:Boolean},favorites:{},flatMenus:{},menus:{},active:{}},emits:["select"],setup(n,{emit:t}){const e=n,o=Vue.computed(()=>e.menus||[]),l=t,u=Vue.computed(()=>{var c;return String((c=e.active)==null?void 0:c.id)}),s=Vue.computed(()=>{var c;return[{id:ue,title:"收藏",icon:ElementPlusIconsVue.Star,children:(c=e.favorites)!=null&&c.length?e.favorites:[{id:ue+"empty",disabled:!0,title:"暂无收藏菜单"}]}]}),r=Vue.computed(()=>{const c=(e.keyword||"").trim(),d=c?(e.flatMenus||[]).filter(i=>{var p;return(p=i.title)==null?void 0:p.includes(c)}):[];return[{id:le,title:"搜索",icon:ElementPlusIconsVue.Search,children:d!=null&&d.length?d:[{id:le+"empty",disabled:!0,title:"查询匹配不到菜单项"}]}]}),a=c=>{l("select",c)};return(c,d)=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.withDirectives(Vue.createVNode(Vue.unref(B),{class:"x-mask-menu",grow:"",flex:!1,overflow:"auto"},{default:Vue.withCtx(()=>[Vue.withDirectives(Vue.createVNode(Vue.unref(O),{subMenu:{popperClass:"x-mask-menu-popper",teleported:!0,showTimeout:200,hideTimeout:200},data:o.value,"default-icon":Vue.unref(ElementPlusIconsVue.Document),collapse:!0,"collapse-transition":!1,"default-active":u.value,onSelect:a},null,8,["data","default-icon","default-active"]),[[Vue.vShow,e.collapse]]),Vue.withDirectives(Vue.createVNode(Vue.unref(O),{subMenu:{popperClass:"x-mask-menu-popper",teleported:!0},data:o.value,"default-icon":Vue.unref(ElementPlusIconsVue.Document),collapse:!1,"collapse-transition":!1,"default-active":u.value,onSelect:a},null,8,["data","default-icon","default-active"]),[[Vue.vShow,!e.collapse]]),o.value.length?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElEmpty),{key:0,description:"暂无菜单数据"}))]),_:1},512),[[Vue.vShow,!e.favorite&&!e.keyword]]),Vue.withDirectives(Vue.createVNode(Vue.unref(B),{class:"x-mask-menu",grow:"",flex:!1,overflow:"auto"},{default:Vue.withCtx(()=>[Vue.withDirectives(Vue.createVNode(Vue.unref(O),{class:"x-mask-menu__favorites",subMenu:{popperClass:"x-mask-menu-popper",teleported:!0,showTimeout:200,hideTimeout:200},data:s.value,"default-icon":Vue.unref(ElementPlusIconsVue.Document),collapse:!0,"collapse-transition":!1,"default-active":u.value,"default-openeds":[ue],onSelect:a},null,8,["data","default-icon","default-active","default-openeds"]),[[Vue.vShow,e.collapse]]),Vue.withDirectives(Vue.createVNode(Vue.unref(O),{class:"x-mask-menu__favorites",subMenu:{popperClass:"x-mask-menu-popper",teleported:!0,showTimeout:200,hideTimeout:200},data:s.value,"default-icon":Vue.unref(ElementPlusIconsVue.Document),collapse:!1,"collapse-transition":!1,"default-active":u.value,"default-openeds":[ue],onSelect:a},null,8,["data","default-icon","default-active","default-openeds"]),[[Vue.vShow,!e.collapse]])]),_:1},512),[[Vue.vShow,e.favorite&&!e.keyword]]),e.keyword?Vue.withDirectives((Vue.openBlock(),Vue.createBlock(Vue.unref(B),{key:0,class:"x-mask-menu",grow:"",flex:!1,overflow:"auto"},{default:Vue.withCtx(()=>[Vue.withDirectives(Vue.createVNode(Vue.unref(O),{class:"x-mask-menu__search",subMenu:{popperClass:"x-mask-menu-popper",teleported:!0,showTimeout:200,hideTimeout:200},data:r.value,"default-icon":Vue.unref(ElementPlusIconsVue.Document),collapse:!0,"collapse-transition":!1,"default-active":u.value,"default-openeds":[le],onSelect:a},null,8,["data","default-icon","default-active","default-openeds"]),[[Vue.vShow,e.collapse]]),Vue.withDirectives(Vue.createVNode(Vue.unref(O),{class:"x-mask-menu__search",subMenu:{popperClass:"x-mask-menu-popper",teleported:!0,showTimeout:200,hideTimeout:200},data:r.value,"default-icon":Vue.unref(ElementPlusIconsVue.Document),collapse:!1,"collapse-transition":!1,"default-active":u.value,"default-openeds":[le],onSelect:a},null,8,["data","default-icon","default-active","default-openeds"]),[[Vue.vShow,!e.collapse]])]),_:1},512)),[[Vue.vShow,!!e.keyword]]):Vue.createCommentVNode("",!0)],64))}}),Lt={class:"x-mask-tabs__trigger"},Xt={key:1},Ht=["onDragstart","onDragend"],Kt={key:1},Wt=Vue.defineComponent({__name:"Tabs",props:{tabs:{},home:{},isActiveTab:{type:Function},value:{},favorites:{}},emits:["click","remove","refresh","toggleFavorite","dialog"],setup(n,{emit:t}){const e=n,o=t,l=d=>{const i=!!e.favorites.find(p=>{var h;return p===d.menu||p.id===((h=d.menu)==null?void 0:h.id)});return[{icon:ElementPlusIconsVue.Refresh,label:"刷新",name:"refresh",value:d},"|",{icon:i?ElementPlusIconsVue.StarFilled:ElementPlusIconsVue.Star,label:"收藏",name:"favorite",value:d.menu,disabled:!d.menu},"|",{icon:ElementPlusIconsVue.CopyDocument,label:"弹窗",name:"dialog",value:d}]},u=d=>{const i=d.paneName;if(i===e.home.id){o("click",e.home);return}const p=e.tabs.find(h=>h.id===i);p&&o("click",p)},s=d=>{const i=e.tabs.find(p=>p.id===d);i&&o("remove",i)},r=d=>{switch(d.name){case"refresh":o("refresh",d.value);break;case"favorite":o("toggleFavorite",d.value);break;case"dialog":o("dialog",d.value);break}},a=(d,i)=>{i.dataTransfer&&(i.dataTransfer.setData("tab",d.id),i.target&&i.target.classList.add("is-dagging"))},c=(d,i)=>{i.target&&i.target.classList.remove("is-dagging")};return(d,i)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(B),{ref:"tabsRef",class:"x-mask-tabs",height:"100%",grow:"",flex:"",justify:"flex-end",direction:"column"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElTabs),{type:"card","model-value":e.value,onTabRemove:s,onTabClick:u},{default:Vue.withCtx(()=>[e.home?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElTabPane),{key:0,name:e.home.id},{label:Vue.withCtx(()=>[Vue.createElementVNode("div",Lt,[e.home.icon?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(W)(e.home.icon)),{key:0})):Vue.createCommentVNode("",!0),e.home.title?(Vue.openBlock(),Vue.createElementBlock("span",Xt,Vue.toDisplayString(e.home.title),1)):Vue.createCommentVNode("",!0)])]),_:1},8,["name"])):Vue.createCommentVNode("",!0),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.tabs,p=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElTabPane),{key:p.id,name:p.id,lazy:"",closable:""},{label:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElPopover),{"open-delay":500,placement:"bottom",trigger:"hover",width:"200px",disabled:p.id!==e.value},{reference:Vue.withCtx(()=>[Vue.createElementVNode("div",{class:"x-mask-tabs__trigger",draggable:"true",onDragstart:h=>a(p,h),onDragend:h=>c(p,h)},[p.icon?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(W)(p.icon)),{key:0})):Vue.createCommentVNode("",!0),p.title?(Vue.openBlock(),Vue.createElementBlock("span",Kt,Vue.toDisplayString(p.title),1)):Vue.createCommentVNode("",!0)],40,Ht)]),default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(G),{items:l(p),mode:"text",size:"small",type:"info",onClick:r},null,8,["items"])]),_:2},1032,["disabled"])]),_:2},1032,["name"]))),128))]),_:1},8,["model-value"])]),_:1},512))}}),Qt=Vue.defineComponent({__name:"ThemeSwitch",setup(n){const t=VueUse.useDark();return(e,o)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElSwitch),{class:"x-mask-theme-switch",modelValue:Vue.unref(t),"onUpdate:modelValue":o[0]||(o[0]=l=>Vue.isRef(t)?t.value=l:null),size:"default","active-action-icon":Vue.unref(ElementPlusIconsVue.Moon),"inactive-action-icon":Vue.unref(ElementPlusIconsVue.Sunny)},null,8,["modelValue","active-action-icon","inactive-action-icon"]))}}),Zt={class:"x-mask-toolbar__menu-item"},Jt=Vue.defineComponent({__name:"Toolbar",props:{tabs:{default:()=>[]},actions:{},theme:{type:Boolean}},emits:["closeOtherTabs","closeAllTabs","closeTab","clickTab","actionClick","actionCommand"],setup(n,{emit:t}){const e=n,o=t,l=Vue.computed(()=>{const c=e.tabs.map((d,i)=>({divided:i===0,label:d.title,command:d}));return[{label:"关闭其他",command:"other"},{label:"关闭全部",command:"all"},...c]}),u=c=>{o("closeTab",c.command)},s=c=>{switch(c.command){case"all":o("closeAllTabs");break;case"other":o("closeOtherTabs");break;default:o("clickTab",c.command);break}},r=c=>{o("actionClick",c)},a=(c,d)=>{o("actionCommand",c,d)};return(c,d)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(B),{class:"x-mask-toolbar",align:"center"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(j),{icon:Vue.unref(ElementPlusIconsVue.MoreFilled),menus:l.value,dropdown:{size:"small"},mode:"icon",circle:"",background:"hover",onCommand:s},{item:Vue.withCtx(({item:i})=>[Vue.createElementVNode("span",Zt,[Vue.createTextVNode(Vue.toDisplayString(i.label)+" ",1),["other","all"].includes(i.command)?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(Vue.unref(F),{key:0,onClick:Vue.withModifiers(p=>u(i),["stop"]),icon:Vue.unref(ElementPlusIconsVue.Close)},null,8,["onClick","icon"]))])]),_:1},8,["icon","menus"]),Vue.createVNode(Vue.unref(ElementPlus.ElDivider),{direction:"vertical"}),e.actions?(Vue.openBlock(),Vue.createBlock(Vue.unref(G),{key:0,circle:"",mode:"icon",size:"default",background:"hover",items:c.actions,onClick:r,onCommand:a},null,8,["items"])):Vue.createCommentVNode("",!0),e.actions?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElDivider),{key:1,direction:"vertical"})):Vue.createCommentVNode("",!0),e.theme?(Vue.openBlock(),Vue.createBlock(Qt,{key:2})):Vue.createCommentVNode("",!0),e.theme?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElDivider),{key:3,direction:"vertical"})):Vue.createCommentVNode("",!0),Vue.renderSlot(c.$slots,"default")]),_:3}))}}),Yt=Vue.defineComponent({__name:"Avatar",props:{avatar:{}},setup(n){const t=n;return(e,o)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElPopover),{width:200,"popper-class":"x-mask-avatar__popper",disabled:!e.$slots.default},{reference:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElAvatar),{class:"x-mask-avatar",shape:"circle",icon:Vue.unref(ElementPlusIconsVue.UserFilled),src:t.avatar,size:26},null,8,["icon","src"])]),default:Vue.withCtx(()=>[e.$slots.default?Vue.renderSlot(e.$slots,"default",{key:0}):Vue.createCommentVNode("",!0)]),_:3},8,["disabled"]))}}),Ue=Vue.defineComponent({__name:"Content",props:{createView:{type:Function},exclude:{}},setup(n){const t=n;return(e,o)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(B),{class:"x-mask__content",flex:!1,grow:"",padding:!1},{default:Vue.withCtx(()=>[Vue.renderSlot(e.$slots,"default"),Vue.createVNode(Vue.unref(VueRouter.RouterView),null,{default:Vue.withCtx(({Component:l,route:u})=>[(Vue.openBlock(),Vue.createBlock(Vue.KeepAlive,{exclude:t.exclude},[l?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(t.createView(l,u)),{key:u.fullPath})):Vue.createCommentVNode("",!0)],1032,["exclude"]))]),_:1})]),_:3}))}}),Le=140,Xe={logo:{type:String,default:Se},title:{type:String,default:"VTJ.PRO"},menus:{type:[Array,Function],default(){return[]}},favorites:{type:[Array,Function],default(){return[]}},menuAdapter:{type:Function},home:{type:[String,Object],default:"/"},tabs:{type:Number,default:20},actions:{type:Array},avatar:{type:String},theme:{type:Boolean},disabled:{type:Boolean},addFavorite:{type:Function},removeFavorite:{type:Function}},he=Symbol(),ye=Symbol();function Gt(n){const t=Vue.ref(!1),e=Vue.ref(""),o=Vue.ref(!1);return{collapsed:t,keyword:e,favorite:o}}function qt(n){const t=VtjUtils.uid();return Vue.computed(()=>{const e=n.home;return Object.assign({id:t,url:"/",name:"MaskHome",icon:ElementPlusIconsVue.HomeFilled,closable:!1},typeof e=="string"?{url:e}:e||{})})}function He(n,t){let e=[];return n.forEach(o=>{o=t?t(o):o,o.children?e=e.concat(He(o.children,t)):e.push(o)}),e}function eo(n,t){const e=VueRouter.useRouter(),o=Vue.shallowRef([]),l=Vue.shallowRef([]),u=Vue.computed(()=>He(o.value,n.menuAdapter)),s=Vue.computed(()=>VtjUtils.arrayToMap(u.value,"id")),r=Vue.ref(null),a=g=>{const C=typeof g=="object"?g.id:g,y=s.value.get(C);if(!y){console.warn("找不到菜单",g);return}const{type:w="route",url:m,title:_,icon:S}=y;if(!m){r.value=y,t("select",y);return}if(w==="route"){VtjUtils.isUrl(m)||m.startsWith("//")?window.open(m):(r.value=y,e.push(m).catch(b=>b));return}if(w==="window"){window.open(m);return}w==="dialog"&&ne({resizable:!0,bodyPadding:!1,width:"80%",height:"80%",title:_,icon:S,src:m})},c=()=>T(this,null,function*(){var g,C;o.value=typeof n.menus=="function"?(yield n.menus())||[]:(g=n.menus)!=null?g:[],l.value=typeof n.favorites=="function"?(yield n.favorites())||[]:(C=n.favorites)!=null?C:[]}),d=g=>{l.value=[g,...l.value],n.addFavorite&&n.addFavorite(g)},i=g=>{l.value=l.value.filter(C=>C.id!==g.id),n.removeFavorite&&n.removeFavorite(g)},p=g=>!!l.value.find(C=>C===g||C.id===g.id),h=g=>{p(g)?i(g):d(g)};return Vue.watchEffect(c),{menus:o,favorites:l,flatMenus:u,active:r,select:a,toggleFavorite:h}}function to(n,t,e,o,l){const u=VueRouter.useRoute(),s=VueRouter.useRouter(),r={},a=Vue.ref([]),c=Vue.ref(),{width:d}=VueUse.useElementSize(c),i=Vue.computed(()=>Math.floor(d.value/Le)),p=Vue.computed(()=>a.value.slice(0,i.value).filter(k=>!k.dialog)),h=Vue.computed(()=>a.value.slice(i.value)),g=k=>e.value.find(x=>x.url===k),C=k=>u.fullPath===k.url,y=k=>l.value.id===k?l.value:a.value.find(x=>x.id===k),w=Vue.ref(""),m=Vue.computed(()=>y(w.value)),_=k=>{s.push(k.url).catch(x=>x)},S=k=>{w.value=k.id,u.fullPath!==k.url&&_(k)},b=()=>{_(l.value)},f=k=>{const x=a.value.find(P=>P.url===k.url||P.id===k.id);x?S(x):(a.value.unshift(k),S(k))},v=k=>T(this,null,function*(){const{url:x=u.fullPath,icon:P,title:ae="新建标签页"}=k||{},re=r[x],_e=VtjUtils.uid(),Be=VtjUtils.upperFirstCamelCase(x);return z({id:_e,name:Be,url:x,icon:P,title:ae,closable:!0,menu:k},re?yield re():{})}),I=k=>T(this,null,function*(){if(yield ElementPlus.ElMessageBox.confirm("是否关闭页签","提示",{type:"warning"}).catch(P=>!1)){if(a.value=a.value.filter(P=>P.id!==k.id),w.value===k.id){const P=a.value[0];_(P||l.value)}return k}}),Q=k=>{const x=a.value.findIndex(P=>P.id===k.id);if(x>=0){const P=a.value[x];a.value.splice(x,1,Object.assign(P,k))}},q=()=>T(this,null,function*(){if(!(yield ElementPlus.ElMessageBox.confirm("是否关闭全部页签","提示",{type:"warning"}).catch(P=>!1)))return;const x=a.value;return a.value=[],S(l.value),x}),$=()=>T(this,null,function*(){if(!(yield ElementPlus.ElMessageBox.confirm("是否关闭其他页签","提示",{type:"warning"}).catch(P=>!1)))return;const x=a.value.filter(P=>P.id!==w.value);return a.value=a.value.filter(P=>P.id===w.value),x}),A=k=>{const x=a.value.filter(P=>P.id!==k.id);a.value=[k,...x],S(k)},Z=()=>T(this,null,function*(){yield Vue.nextTick();const k=l.value.url===u.fullPath,x=g(u.fullPath);if(k)w.value=l.value.id;else{const P=yield v(x);f(P)}yield Vue.nextTick(),o.value=x||null});return Vue.watch(e,Z),Vue.watch(u,Z,{immediate:!0}),Vue.provide(he,r),{tabRef:c,tabs:a,showTabs:p,currentTab:m,changeTab:_,removeTab:I,updateTab:Q,addTab:f,home:l,tabValue:w,isCurrentTab:C,activeHome:b,activeTab:S,dropdownTabs:h,removeAllTabs:q,removeOtherTabs:$,moveToShow:A}}function oo(n){const t=new Map,e=Vue.ref([]),o=Vue.reactive({}),l={},{updateTab:u,isCurrentTab:s,activeHome:r,tabs:a}=n,c=(m,_)=>{const S=_.fullPath;if(t.has(S))return t.get(S);{const b=VtjUtils.upperFirstCamelCase(S),f={name:b,setup(){const v=Vue.computed(()=>o[S]||document.body),I=Vue.computed(()=>!o[S]),Q=Vue.computed(()=>!e.value.includes(b));return Vue.provide(VueRouter.routeLocationKey,Vue.toRaw(z({},_))),()=>Q.value?Vue.h(Vue.Teleport,{to:v.value,disabled:I.value},[Vue.h(m)]):null}};return t.set(S,f),f}},d=m=>{m.dialog=void 0,delete o[m.url];const _=l[m.id];_&&(_.destroy(),delete l[m.id],u(m))},i=(m=[])=>{m.forEach(_=>{d(_)})},p=m=>T(this,null,function*(){m.dialog=M(z({},m.dialog),{onMinimized:()=>{d(m)},onClose:()=>T(this,null,function*(){d(m),a.value=a.value.filter(S=>S.id!==m.id)})}),u(m);const _=ne(M(z({title:m.title,icon:m.icon,modal:!1,resizable:!0,draggable:!0},m.dialog),{onOpen(S){var b,f;o[m.url]=(f=(b=S.refs.panelRef)==null?void 0:b.bodyRef)==null?void 0:f.$el}}));return yield Vue.nextTick(),s(m)&&r(),l[m.id]=_,_}),h=m=>T(this,null,function*(){e.value=[m.name],yield Vue.nextTick(),e.value=[]}),g=m=>T(this,null,function*(){e.value=m.map(_=>_.name),yield Vue.nextTick(),e.value=[]}),C=m=>(m.preventDefault(),!1),y=m=>{if(m.dataTransfer){const _=m.dataTransfer.getData("tab"),S=a.value.find(b=>b.id===_);if(S){const{clientX:b,clientY:f}=m;S.dialog={left:b,top:f},p(S)}}},w=m=>!!o[m];return VueUse.useEventListener(document,"dragover",C),VueUse.useEventListener(document,"drop",y),{createView:c,openDialog:p,refresh:h,exclude:e,cleanCache:g,hasDialog:w,closeDialog:d,closeDialogs:i}}const Ke=Vue.defineComponent({name:"XMask",__name:"Mask",props:Xe,emits:["select","actionClick","actionCommand"],setup(n,{emit:t}){const e=n,o=t,l=qt(e),{collapsed:u,keyword:s,favorite:r}=Gt(),{menus:a,favorites:c,flatMenus:d,active:i,select:p,toggleFavorite:h}=eo(e,o),{tabRef:g,showTabs:C,currentTab:y,changeTab:w,removeTab:m,tabs:_,updateTab:S,isCurrentTab:b,activeHome:f,removeAllTabs:v,removeOtherTabs:I,dropdownTabs:Q,moveToShow:q}=to(e,o,d,i,l),{createView:$,openDialog:A,refresh:Z,exclude:k,cleanCache:x,closeDialogs:P}=oo({tabs:_,updateTab:S,isCurrentTab:b,activeHome:f}),ae=D=>T(this,null,function*(){(yield m(D))&&(yield x([D]))}),re=()=>T(this,null,function*(){const D=yield v();D&&(P(D),yield x(D))}),_e=()=>T(this,null,function*(){const D=yield I();D&&(P(D),yield x(D))}),Be=D=>{o("actionClick",D)},wo=(D,U)=>{o("actionCommand",D,U)};return Vue.provide(ye,{tabs:_,flatMenus:d,favorites:c,updateTab:S,active:i,currentTab:y}),(D,U)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(B),{class:"x-mask"},{default:Vue.withCtx(()=>[e.disabled?(Vue.openBlock(),Vue.createBlock(Ue,{key:1,createView:Vue.unref($),exclude:Vue.unref(k)},{default:Vue.withCtx(()=>[D.$slots.default?Vue.renderSlot(D.$slots,"default",{key:0}):Vue.createCommentVNode("",!0)]),_:3},8,["createView","exclude"])):(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,{key:0},[Vue.createVNode(Rt,{collapsed:Vue.unref(u)},{brand:Vue.withCtx(()=>[Vue.createVNode(Ot,{logo:e.logo,title:e.title,url:Vue.unref(l).url,collapsed:Vue.unref(u)},null,8,["logo","title","url","collapsed"])]),default:Vue.withCtx(()=>[Vue.createVNode(jt,{collasped:Vue.unref(u),"onUpdate:collasped":U[0]||(U[0]=X=>Vue.isRef(u)?u.value=X:null),favorite:Vue.unref(r),"onUpdate:favorite":U[1]||(U[1]=X=>Vue.isRef(r)?r.value=X:null),keyword:Vue.unref(s),"onUpdate:keyword":U[2]||(U[2]=X=>Vue.isRef(s)?s.value=X:null)},null,8,["collasped","favorite","keyword"]),Vue.createVNode(Ut,{collapse:Vue.unref(u),keyword:Vue.unref(s),favorite:Vue.unref(r),favorites:Vue.unref(c),flatMenus:Vue.unref(d),menus:Vue.unref(a),active:Vue.unref(i),onSelect:Vue.unref(p)},null,8,["collapse","keyword","favorite","favorites","flatMenus","menus","active","onSelect"])]),_:1},8,["collapsed"]),Vue.createVNode(Vue.unref(B),{class:"x-mask__main",grow:"",shrink:"",flex:"",direction:"column"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(B),{class:"x-mask-topbar",justify:"space-between",align:"center"},{default:Vue.withCtx(()=>{var X;return[Vue.createVNode(Wt,{ref_key:"tabRef",ref:g,favorites:Vue.unref(c),tabs:Vue.unref(C),home:Vue.unref(l),value:(X=Vue.unref(y))==null?void 0:X.id,onClick:Vue.unref(w),onToggleFavorite:Vue.unref(h),onRemove:ae,onDialog:Vue.unref(A),onRefresh:Vue.unref(Z)},null,8,["favorites","tabs","home","value","onClick","onToggleFavorite","onDialog","onRefresh"]),Vue.createVNode(Jt,{tabs:Vue.unref(Q),actions:e.actions,theme:e.theme,onCloseOtherTabs:_e,onCloseAllTabs:re,onCloseTab:ae,onClickTab:Vue.unref(q),onActionClick:Be,onActionCommand:wo},{default:Vue.withCtx(()=>[Vue.createVNode(Yt,{avatar:e.avatar},Vue.createSlots({_:2},[D.$slots.user?{name:"default",fn:Vue.withCtx(()=>[Vue.renderSlot(D.$slots,"user")]),key:"0"}:void 0]),1032,["avatar"])]),_:3},8,["tabs","actions","theme","onClickTab"])]}),_:3}),Vue.createVNode(Ue,{createView:Vue.unref($),exclude:Vue.unref(k)},{default:Vue.withCtx(()=>[D.$slots.default?Vue.renderSlot(D.$slots,"default",{key:0}):Vue.createCommentVNode("",!0)]),_:3},8,["createView","exclude"])]),_:3})],64))]),_:3}))}});function no(n={}){const t=VueRouter.useRoute(),e=Vue.inject(he,null),o=Vue.inject(ye,null);if(e){const u=typeof n=="function"?n:()=>T(this,null,function*(){return n});e[t.fullPath]=u}return{tab:Vue.computed(()=>o?o.tabs.value.find(u=>u.url===t.fullPath):null),mask:o}}const uo=Vue.defineComponent({__name:"SelectEditor",props:{options:{default:()=>[]}},setup(n){const t=n;return(e,o)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElSelect),Vue.normalizeProps(Vue.guardReactiveProps(e.$attrs)),{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(t.options,(l,u)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElOption),Vue.mergeProps({key:`item_${u}_${l.value}`},l),Vue.createSlots({_:2},[e.$slots.option?{name:"default",fn:Vue.withCtx(()=>[Vue.renderSlot(e.$slots,"option",{option:l})]),key:"0"}:void 0]),1040))),128))]),_:3},16))}}),lo=Vue.defineComponent({__name:"CheckboxEditor",props:{options:{default:()=>[]},button:{type:Boolean,default:!1}},setup(n){const t=n,e=Vue.computed(()=>Vue.markRaw(t.button?ElementPlus.ElCheckboxButton:ElementPlus.ElCheckbox));return(o,l)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElCheckboxGroup),Vue.normalizeProps(Vue.guardReactiveProps(o.$attrs)),{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(t.options,(u,s)=>(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(e.value),{key:`item_${s}_${u.value}`,label:u.value},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(u.label),1)]),_:2},1032,["label"]))),128))]),_:1},16))}}),ao=Vue.defineComponent({__name:"RadioEditor",props:{options:{default:()=>[]},button:{type:Boolean,default:!1}},setup(n){const t=n,e=Vue.computed(()=>Vue.markRaw(t.button?ElementPlus.ElRadioButton:ElementPlus.ElRadio));return(o,l)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElRadioGroup),Vue.normalizeProps(Vue.guardReactiveProps(o.$attrs)),{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(t.options,(u,s)=>(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(e.value),{key:`item_${s}_${u.value}`,label:u.value},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(u.label),1)]),_:2},1032,["label"]))),128))]),_:1},16))}}),ke={none:{component:"div",props:{class:"x-field-none"}},text:{component:ElementPlus.ElInput,props:{clearable:!0},defaultValue:""},textarea:{component:ElementPlus.ElInput,props:{type:"textarea",rows:2},defaultValue:""},select:{component:uo,props:{clearable:!0}},checkbox:{component:lo,props:{},defaultValue:[]},radio:{component:ao,props:{}},number:{component:ElementPlus.ElInputNumber,props:{}},date:{component:ElementPlus.ElDatePicker,props:{}},time:{component:ElementPlus.ElTimePicker,props:{}},datetime:{component:ElementPlus.ElDatePicker,props:{type:"datetime"}},switch:{component:ElementPlus.ElSwitch,props:{}},rate:{component:ElementPlus.ElRate,props:{}},slider:{component:ElementPlus.ElSlider,props:{}},cascader:{component:ElementPlus.ElCascader,props:{}}},We={name:{type:String},label:{type:String},editor:{type:[String,Object],default:"text"},props:{type:Object},modelValue:{type:[String,Number,Boolean,Object,Array],default(n){const t=ke[n.editor];return t==null?void 0:t.defaultValue}},size:{type:String},width:{type:[String,Number]},tooltipMessage:{type:[Boolean,Object],default:!0},tooltipPosition:{type:[String,Number],default:"outer"},placeholder:{type:String},disabled:{type:Boolean},readonly:{type:Boolean},options:{type:[Array,Function]},visible:{type:[Boolean,Object,Function],default:!0},cascader:{type:[String,Array]}};function ro(n,t){return T(this,null,function*(){const e=n.options;return e?typeof e=="function"?(yield e(t))||[]:e:[]})}function so(n,t,e,o,l){const u=Vue.ref([]),s=Vue.computed(()=>!o||!l?{}:VtjUtils.toArray(n.cascader).reduce((c,d)=>(c[d]=l[d],c),{}));return Vue.watch(s,a=>T(this,null,function*(){var c;if(e.value){u.value=yield ro(n,a);const d=(c=o==null?void 0:o.exposed)==null?void 0:c.reset;d&&n.name&&d(n.name)}}),{immediate:!0}),{editor:Vue.computed(()=>{const{editor:a="text",placeholder:c,label:d="...",disabled:i,readonly:p}=n,h=M(z({},n.props),{placeholder:c||(c===null?void 0:`请输入${d}`),disabled:i,readonly:p,options:u.value,onFocus:()=>t("focus"),onBlur:()=>t("blur"),onChange:C=>t("change",C)}),g=typeof a=="string"?ke[a]:{component:a,props:{}};return VtjUtils.merge({},g,{props:h})})}}const io={class:"x-field__editor_wrap"},ve=Vue.defineComponent({name:"XField",__name:"Field",props:We,emits:["update:modelValue","change","focus","blur"],setup(n,{expose:t,emit:e}){const o=n,l=e,u=Vue.inject(be,null),s=Vue.inject(ElementPlus.formContextKey,null),r=Vue.inject(we,null),a=Vue.computed(()=>!(u==null?void 0:u.proxy)||!r?o.visible:typeof o.visible=="function"?o.visible(r):VtjUtils.isObject(o.visible)?Object.entries(o.visible).every(([v,I])=>r[v]===I):o.visible),c=()=>{var v;return(u==null?void 0:u.proxy)&&r&&o.name&&(v=r[o.name])!=null?v:o.modelValue},d=Vue.ref(c()),{editor:i}=so(o,l,a,u,r),p=Vue.ref(),h=Vue.ref(),g=Vue.computed(()=>o.size||(s==null?void 0:s.size)||"default"),C=Vue.computed(()=>Object.assign({},typeof o.tooltipMessage=="boolean"?{}:o.tooltipMessage)),y=Vue.computed(()=>({[`is-tooltip-${o.tooltipPosition}`]:!!o.tooltipPosition})),w=Vue.computed(()=>{const f=u==null?void 0:u.proxy;return{width:o.width?E(o.width):f&&f.inline&&f.inlineColumns?`${100/f.inlineColumns}%`:null}}),m=Vue.computed(()=>({right:typeof o.tooltipPosition=="number"?`${o.tooltipPosition}px`:void 0})),_=Vue.computed(()=>M(z({},i.value.props),{modelValue:d.value,"onUpdate:modelValue":f=>{d.value=f}}));return Vue.watch(d,(f,v)=>{a.value&&!VtjUtils.isEqual(f,v)&&(l("update:modelValue",f),u!=null&&u.proxy&&r&&o.name&&VtjUtils.set(r,o.name,f))}),Vue.watch(()=>{var v;return!(u==null?void 0:u.proxy)||!o.name||!r?o.modelValue:(v=r[o.name])!=null?v:o.modelValue},f=>{a.value&&(d.value=f)},{immediate:!0}),Vue.watch(a,f=>{(u==null?void 0:u.proxy)&&r&&o.name&&(f?(d.value=c(),VtjUtils.set(r,o.name,d.value)):(d.value=void 0,delete r[o.name]))},{immediate:!0}),t({fieldValue:d,itemRef:p,editorRef:h,focus:()=>{var f;(f=h.value)!=null&&f.focus&&h.value.focus()},blur:()=>{var f;(f=h.value)!=null&&f.foucs&&h.value.blur()}}),(f,v)=>a.value?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElFormItem),Vue.mergeProps({key:0,class:["x-field",y.value],ref_key:"itemRef",ref:p,prop:o.name,label:f.label,size:g.value,style:w.value},f.$attrs),Vue.createSlots({error:Vue.withCtx(({error:I})=>[Vue.renderSlot(f.$slots,"error",{error:I},()=>[o.tooltipMessage?(Vue.openBlock(),Vue.createElementBlock("div",{key:0,class:"x-field__info",style:Vue.normalizeStyle(m.value)},[Vue.createVNode(Vue.unref(ElementPlus.ElTooltip),Vue.mergeProps({content:I},C.value),{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(F),{class:"x-field__trigger",icon:Vue.unref(ElementPlusIconsVue.WarningFilled),size:g.value},null,8,["icon","size"])]),_:2},1040,["content"])],4)):Vue.createCommentVNode("",!0)])]),default:Vue.withCtx(()=>[Vue.createElementVNode("div",io,[Vue.renderSlot(f.$slots,"editor",{editor:_.value},()=>[Vue.unref(i).component?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(i).component),Vue.mergeProps({key:0,class:"x-field__editor",ref_key:"editorRef",ref:h,modelValue:d.value,"onUpdate:modelValue":v[0]||(v[0]=I=>d.value=I)},Vue.unref(i).props),Vue.createSlots({_:2},[f.$slots.option?{name:"option",fn:Vue.withCtx(({option:I})=>[Vue.renderSlot(f.$slots,"option",{option:I})]),key:"0"}:void 0]),1040,["modelValue"])):Vue.createCommentVNode("",!0)])]),Vue.renderSlot(f.$slots,"default")]),_:2},[f.$slots.label?{name:"label",fn:Vue.withCtx(()=>[Vue.renderSlot(f.$slots,"label")]),key:"0"}:void 0]),1040,["prop","label","size","class","style"])):Vue.createCommentVNode("",!0)}}),Qe={model:{type:Object,default(){return Object.create(null)}},inline:{type:Boolean},inlineColumns:{type:Number},footer:{type:Boolean,default:!0},submitText:{type:String,default:"提交"},resetText:{type:String,default:"重置"},submitMethod:{type:Function}},be=Symbol("formInstanceKey"),we=Symbol("formModelKey"),Ce=Vue.defineComponent({name:"XForm",__name:"Form",props:Qe,emits:["change","submit","reset"],setup(n,{expose:t,emit:e}){const o=n,l=e,u=Vue.getCurrentInstance(),s=Vue.ref(),r=Vue.reactive(o.model||{}),a=Vue.ref(!1);Vue.provide(be,u),Vue.provide(we,r),Vue.watch(r,()=>{l("change",Vue.toRaw(r))}),Vue.watch(()=>o.model,i=>{Object.assign(r,i)},{deep:!0});const c=()=>T(this,null,function*(){(yield s.value.validate().catch(p=>p))&&o.model&&(l("submit",Vue.toRaw(r)),o.submitMethod&&(a.value=!0,yield o.submitMethod(Vue.toRaw(r)),a.value=!1))}),d=i=>{s.value.resetFields(i),l("reset")};return t({formRef:s,model:r,submit:c,reset:d}),(i,p)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElForm),Vue.mergeProps({ref_key:"formRef",ref:s,class:"x-form",inline:o.inline,model:r},i.$attrs),{default:Vue.withCtx(()=>[Vue.renderSlot(i.$slots,"default"),o.footer?(Vue.openBlock(),Vue.createBlock(Vue.unref(ve),{key:0,editor:"none",class:"x-form__footer",label:" "},{editor:Vue.withCtx(()=>[Vue.renderSlot(i.$slots,"footer",{},()=>[o.submitText?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElButton),{key:0,loading:a.value,type:"primary",onClick:c},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(o.submitText),1)]),_:1},8,["loading"])):Vue.createCommentVNode("",!0),o.resetText?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElButton),{key:1,type:"default",onClick:p[0]||(p[0]=()=>d())},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(o.resetText),1)]),_:1})):Vue.createCommentVNode("",!0),Vue.renderSlot(i.$slots,"action")])]),_:3})):Vue.createCommentVNode("",!0)]),_:3},16,["inline","model"]))}}),Ze={modelValue:{type:Boolean,default:!0},size:{type:String},formProps:{type:Object},submit:{type:[Boolean,String],default:"确定"},cancel:{type:[Boolean,String],default:"取消"},model:{type:Object,default(){return Object.create(null)}},rules:{type:Object},submitMethod:{type:Function}},Je=Vue.defineComponent({name:"XDialogForm",__name:"DialogForm",props:Ze,emits:["update:modelValue","submit","close"],setup(n,{expose:t,emit:e}){const o=n,l=e,u=Vue.ref(),s=Vue.ref(),r=Vue.computed(()=>{var i;return(i=s.value)==null?void 0:i.$vtjEl}),a=()=>{var i;(i=u.value)==null||i.submit()},c=()=>{l("update:modelValue",!1),l("close")},d=i=>T(this,null,function*(){l("submit",i),o.submitMethod?(yield o.submitMethod(i))&&c():c()});return t({$vtjEl:r,formRef:u,dialogRef:s}),(i,p)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(oe),Vue.mergeProps({ref_key:"dialogRef",ref:s,"model-value":o.modelValue,submit:o.submit,cancel:o.cancel,size:o.size,onSubmit:a,onClose:c,minimizable:!1,maximizable:!1},i.$attrs),Vue.createSlots({default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(Ce),Vue.mergeProps({ref_key:"formRef",ref:u,footer:!1,"label-width":"80px",size:o.size,model:o.model,rules:o.rules,"submit-method":d},o.formProps),{default:Vue.withCtx(()=>[Vue.renderSlot(i.$slots,"default")]),_:3},16,["size","model","rules"])]),_:2},[i.$slots.extra?{name:"extra",fn:Vue.withCtx(()=>[Vue.renderSlot(i.$slots,"extra")]),key:"0"}:void 0,i.$slots.handle?{name:"handle",fn:Vue.withCtx(()=>[Vue.renderSlot(i.$slots,"handle")]),key:"1"}:void 0,i.$slots.footer?{name:"footer",fn:Vue.withCtx(()=>[Vue.renderSlot(i.$slots,"footer")]),key:"2"}:void 0]),1040,["model-value","submit","cancel","size"]))}}),Ye={items:{type:Array,default(){return[]}},border:{type:Boolean}},Ge=Vue.defineComponent({name:"XTabs",__name:"Tabs",props:Ye,setup(n){const t=n,e=l=>{const{label:u,name:s,value:r,disabled:a,closable:c,lazy:d}=l;return{label:u,name:r!=null?r:s,disabled:a,closable:c,lazy:d}},o=Vue.computed(()=>({"is-no-border":!t.border}));return(l,u)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElTabs),Vue.mergeProps({class:["x-tabs",o.value]},l.$attrs),{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(t.items,s=>{var r;return Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElTabPane),Vue.mergeProps({key:(r=s.value)!=null?r:s.name},e(s)),{label:Vue.withCtx(()=>[Vue.renderSlot(l.$slots,"label",Vue.normalizeProps(Vue.guardReactiveProps(s)),()=>[s.icon?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(W)(s.icon)),{key:0,class:"x-tabs__icon"})):Vue.createCommentVNode("",!0),Vue.createTextVNode(" "+Vue.toDisplayString(s.label),1)])]),default:Vue.withCtx(()=>[Vue.renderSlot(l.$slots,"default",Vue.normalizeProps(Vue.guardReactiveProps(s)),()=>[s.component?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(s.component),Vue.normalizeProps(Vue.mergeProps({key:0},s.props)),null,16)):Vue.createCommentVNode("",!0)])]),_:2},1040)}),128))]),_:3},16,["class"]))}}),qe={direction:{type:String,default:"column"},imageSrc:{type:String},imageWidth:{type:[Number,String]},imageHeight:{type:[Number,String]},icon:{type:[String,Object]},title:{type:String},description:{type:String},actions:{type:Array},actionBarProps:{type:Object},split:{type:Boolean},onImageClick:{type:Function},onTitleClick:{type:Function}},co={class:"x-data-item__title"},Vo={key:1,class:"x-data-item__section x-data-item__desc"},mo={key:2,class:"x-data-item__section x-data-item__extra"},po={key:3,class:"x-data-item__section x-data-item__actions"},et=Vue.defineComponent({name:"XDataItem",__name:"DataItem",props:qe,emits:["imageClick","titleClick","actionClick","actionCommand"],setup(n,{emit:t}){const e=n,o=t,l=Vue.computed(()=>{const{imageWidth:i,imageHeight:p}=e;return{width:i?E(i):void 0,height:p?E(p):void 0}}),u=Vue.computed(()=>({[`is-image-${e.direction}`]:!!e.direction,"is-split":!!e.split})),s=Vue.computed(()=>z({size:"small",mode:"text",justify:"flex-end",type:"info",items:e.actions},e.actionBarProps)),r=()=>o("imageClick"),a=()=>o("titleClick"),c=i=>o("actionClick",i),d=(i,p)=>o("actionCommand",i,p);return(i,p)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(B),{class:Vue.normalizeClass(["x-data-item",u.value]),direction:e.direction},{default:Vue.withCtx(()=>[e.imageSrc||i.$slots.image?(Vue.openBlock(),Vue.createBlock(Vue.unref(B),{key:0,class:"x-data-item__img",autoPointer:!0,onClick:e.onImageClick?r:void 0},{default:Vue.withCtx(()=>[Vue.renderSlot(i.$slots,"image",{},()=>[e.imageSrc?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElImage),{key:0,style:Vue.normalizeStyle(l.value),src:e.imageSrc},null,8,["style","src"])):Vue.createCommentVNode("",!0)])]),_:3},8,["onClick"])):Vue.createCommentVNode("",!0),Vue.createVNode(Vue.unref(B),{class:"x-data-item__content",direction:"column",grow:"",shrink:""},{default:Vue.withCtx(()=>[e.title||i.$slots.title?(Vue.openBlock(),Vue.createBlock(Vue.unref(B),{key:0,class:"x-data-item__section x-data-item__wrapper",align:"center",autoPointer:!0,onClick:e.onTitleClick?a:void 0},{default:Vue.withCtx(()=>[e.icon?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(Vue.unref(W)(e.icon)),{key:0,class:"x-data-item__icon"})):Vue.createCommentVNode("",!0),Vue.createElementVNode("span",co,[Vue.renderSlot(i.$slots,"title",{},()=>[Vue.createTextVNode(Vue.toDisplayString(e.title),1)])])]),_:3},8,["onClick"])):Vue.createCommentVNode("",!0),e.description||i.$slots.description?(Vue.openBlock(),Vue.createElementBlock("div",Vo,[Vue.renderSlot(i.$slots,"description",{},()=>[Vue.createTextVNode(Vue.toDisplayString(e.description),1)])])):Vue.createCommentVNode("",!0),i.$slots.default?(Vue.openBlock(),Vue.createElementBlock("div",mo,[Vue.renderSlot(i.$slots,"default")])):Vue.createCommentVNode("",!0),e.actions||e.actionBarProps||i.$slots.actions?(Vue.openBlock(),Vue.createElementBlock("div",po,[Vue.renderSlot(i.$slots,"actions",{},()=>[Vue.createVNode(Vue.unref(G),Vue.mergeProps(s.value,{onClick:c,onCommand:d}),null,16)])])):Vue.createCommentVNode("",!0)]),_:3})]),_:3},8,["direction","class"]))}}),tt={option:{type:Object},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"400px"}};function fo(n,t){const e=Vue.ref();return Vue.onMounted(()=>{const o=Vue.unref(n);o&&(e.value||(e.value=Vue.markRaw(echarts.init(o))),e.value.setOption(t.option||{}))}),Vue.onUnmounted(()=>{e.value&&e.value.dispose()}),Vue.watch(()=>t.option,o=>{e.value&&e.value.setOption(o||{})},{deep:!0}),VueUse.useResizeObserver(n,VtjUtils.debounce(()=>{e.value&&e.value.resize()},150)),{echartsInstance:e,echarts}}const ot=Vue.defineComponent({name:"XChart",__name:"Chart",props:tt,setup(n,{expose:t}){const e=n,o=Vue.ref(),{echartsInstance:l,echarts:u}=fo(o,e),s=Vue.computed(()=>({width:E(e.width),height:E(e.height)}));return t({chartRef:o,echartsInstance:l,echarts:u}),(r,a)=>(Vue.openBlock(),Vue.createElementBlock("div",{ref_key:"chartRef",ref:o,style:Vue.normalizeStyle(s.value)},null,4))}}),nt={data:{type:[Object,Function],default(){return[]}},itemHeight:{type:[Number,Function]},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"100%"},pager:{type:[Boolean,Object]},page:{type:Number,default:1},pageSize:{type:Number,default:10},dataKey:{type:String},infiniteScroll:{type:[Boolean,Object]}},go={key:0,class:"x-list__loading"},ho={key:1,class:"x-list__nomore"},yo={key:0,class:"x-list__loading"},ko={key:1,class:"x-list__nomore"},vo={key:1,class:"x-list__pager"},ut=Vue.defineComponent({name:"XList",__name:"List",props:nt,emits:["load"],setup(n,{expose:t,emit:e}){const o=n,l=e,u=Vue.reactive({page:o.page,pageSize:o.pageSize});Vue.watchEffect(()=>{const{page:b,pageSize:f}=o;Object.assign(u,{page:b,pageSize:f})});const{data:s,loading:r}=De(o.data,{list:[],total:0},u),a=Vue.computed(()=>Math.ceil((s.value.total||0)/u.pageSize)),c=Vue.ref(!1),d=Vue.ref(),i=Vue.computed(()=>({width:E(o.width),height:E(o.height)})),p=Vue.computed(()=>({"is-virtual":!!o.itemHeight})),h=Vue.computed(()=>{const b={};for(let[f,v]of Object.entries(K(o.infiniteScroll)))b[`infinite-scroll-${f}`]=v;return(r.value||c.value)&&(b["infinite-scroll-disabled"]=!0),b}),g=Vue.computed(()=>K(o.pager,{})),{list:C,containerProps:y,wrapperProps:w,scrollTo:m}=VueUse.useVirtualList(Vue.computed(()=>s.value.list),{itemHeight:o.itemHeight||0}),_=b=>o.dataKey?b[o.dataKey]:void 0,S=()=>{!o.infiniteScroll||c.value||(u.page<a.value?(++u.page,l("load",u)):c.value=!0)};return t({list:C,scrollTo:m,wrapperRef:d,loading:r,state:u,pageCount:a,nomore:c,data:s}),(b,f)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:Vue.normalizeClass(["x-list",p.value]),style:Vue.normalizeStyle(i.value)},[!Vue.unref(s).total&&!Vue.unref(r)?Vue.renderSlot(b.$slots,"empty",{key:0},()=>[Vue.createVNode(Vue.unref(ElementPlus.ElEmpty))]):Vue.createCommentVNode("",!0),Vue.createElementVNode("div",Vue.mergeProps({class:"x-list__content"},Vue.unref(y)),[o.itemHeight?Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",Vue.mergeProps({key:0,class:"x-list__wrapper",ref_key:"wrapperRef",ref:d},z(z({},Vue.unref(w)),h.value)),[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(C),(v,I)=>Vue.renderSlot(b.$slots,"default",Vue.normalizeProps(Vue.mergeProps({key:_(v.data)},{item:v.data,index:I})),()=>[Vue.createElementVNode("div",null,Vue.toDisplayString(v),1)])),128)),Vue.unref(r)?(Vue.openBlock(),Vue.createElementBlock("div",go,[Vue.renderSlot(b.$slots,"loading",{},()=>[Vue.createTextVNode(" 正在加载数据... ")])])):Vue.createCommentVNode("",!0),c.value?(Vue.openBlock(),Vue.createElementBlock("div",ho,[Vue.renderSlot(b.$slots,"nomore",{},()=>[Vue.createTextVNode(" 没有更多数据 ")])])):Vue.createCommentVNode("",!0)],16)),[[Vue.unref(ElementPlus.ElInfiniteScroll),S]]):Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",Vue.mergeProps({key:1,class:"x-list__wrapper"},h.value),[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(s).list,(v,I)=>Vue.renderSlot(b.$slots,"default",Vue.normalizeProps(Vue.mergeProps({key:_(v)},{item:v,index:I})),()=>[Vue.createElementVNode("div",null,Vue.toDisplayString(v),1)])),128)),Vue.unref(r)?(Vue.openBlock(),Vue.createElementBlock("div",yo,[Vue.renderSlot(b.$slots,"loading",{},()=>[Vue.createTextVNode(" 正在加载数据... ")])])):Vue.createCommentVNode("",!0),c.value?(Vue.openBlock(),Vue.createElementBlock("div",ko,[Vue.renderSlot(b.$slots,"nomore",{},()=>[Vue.createTextVNode(" 没有更多数据 ")])])):Vue.createCommentVNode("",!0)],16)),[[Vue.unref(ElementPlus.ElInfiniteScroll),S]])],16),o.pager?(Vue.openBlock(),Vue.createElementBlock("div",vo,[Vue.createVNode(Vue.unref(ElementPlus.ElPagination),Vue.mergeProps({small:"",background:"",layout:"prev, pager, next",total:Vue.unref(s).total,"default-page-size":o.pageSize,"default-current-page":o.page,"current-page":u.page,"onUpdate:currentPage":f[0]||(f[0]=v=>u.page=v),"page-size":u.pageSize,"onUpdate:pageSize":f[1]||(f[1]=v=>u.pageSize=v)},g.value),null,16,["total","default-page-size","default-current-page","current-page","page-size"])])):Vue.createCommentVNode("",!0)],6))}}),lt=[xe,F,O,Te,j,G,B,de,Ve,oe,Ke,ve,Ce,Je,Ge,et,ot,ut],bo="0.6.25",at=J(lt).install;V.Draggable=me,V.INSTALLED_KEY=R,V.MASK_KEY=ye,V.NOOP=ie,V.Resizable=fe,V.TAB_CREATORS_KEY=he,V.TAB_ITEM_WIDTH=Le,V.XAction=j,V.XActionBar=G,V.XChart=ot,V.XContainer=B,V.XDataItem=et,V.XDialog=oe,V.XDialogForm=Je,V.XField=ve,V.XForm=Ce,V.XHeader=de,V.XIcon=F,V.XList=ut,V.XMask=Ke,V.XMenu=O,V.XPanel=Ve,V.XSimpleMask=Te,V.XStartup=xe,V.XTabs=Ge,V.actionBarProps=$e,V.actionProps=ce,V.builtinFieldEditors=ke,V.chartProps=tt,V.components=lt,V.containerProps=Me,V.createDialog=ne,V.dataItemProps=qe,V.default=at,V.defineTab=no,V.dialogFormProps=Ze,V.dialogProps=Oe,V.fieldProps=We,V.formInstanceKey=be,V.formModelKey=we,V.formProps=Qe,V.getSizeValue=E,V.headerProps=Re,V.iconProps=ze,V.iconSizeMap=Pe,V.install=at,V.listProps=nt,V.makeInstaller=J,V.maskProps=Xe,V.omit=ee,V.panelProps=je,V.parseSize=H,V.pick=se,V.tabsProps=Ye,V.toObjectProps=K,V.useDisabled=te,V.useIcon=W,V.useIconProps=Ie,V.useLoader=De,V.vDraggable=Fe,V.vResizable=ge,V.version=bo,Object.defineProperties(V,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
