(function(l,f){typeof exports=="object"&&typeof module!="undefined"?f(exports):typeof define=="function"&&define.amd?define(["exports"],f):(l=typeof globalThis!="undefined"?globalThis:l||self,f(l.VtjUI={}))})(this,function(l){"use strict";var ee=Object.defineProperty;var A=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var x=(l,f,p)=>f in l?ee(l,f,{enumerable:!0,configurable:!0,writable:!0,value:p}):l[f]=p,I=(l,f)=>{for(var p in f||(f={}))te.call(f,p)&&x(l,p,f[p]);if(A)for(var p of A(f))ne.call(f,p)&&x(l,p,f[p]);return l};const f="";function p(e){return typeof e=="string"?e:`${e}px`}function R(e=0,t){if(typeof e=="number")return e;if(/(%|vh|vw)$/i.test(e)){const u=Number.parseInt(e);return t*u/100}return Number.parseInt(e)}function N(e,t){const n={};return Object.keys(e).forEach(u=>{t.includes(u)||(n[u]=e[u])}),n}function j(e,t){const n={};return Object.keys(e).forEach(u=>{t.includes(u)&&(n[u]=e[u])}),n}const C=()=>{},O=(e,t)=>{if(e.install=n=>{for(const u of[e,...Object.values(t!=null?t:{})])typeof u=="function"?n.use(u):u.name&&n.component(u.name,u)},t)for(const[n,u]of Object.entries(t))e[n]=u;return e},T=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),X=(e,t)=>(e.install=n=>{n.directive(t,e)},e),U=e=>(e.install=C,e),S=Symbol("INSTALLED_KEY"),E="is-dragging",k="is-resizing",B=(e=[])=>({install:n=>{n[S]||(n[S]=!0,e.forEach(u=>n.use(u)))}}),G={class:"x-startup"},b=Vue.defineComponent({name:"XStartup",__name:"Startup",props:{text:{default:"Hello VTJ."}},setup(e){const t=e;return(n,u)=>(Vue.openBlock(),Vue.createElementBlock("div",G,[Vue.renderSlot(n.$slots,"default",{},()=>[Vue.createElementVNode("span",null,Vue.toDisplayString(t.text),1)])]))}}),ue="",M={default:14,small:12,large:18},P={icon:{type:[String,Object]},color:{type:String},size:{type:[Number,String],default:"inherit"},src:{type:String},disabled:{type:Boolean}},H=["src"],_=Vue.defineComponent({name:"XIcon",__name:"Icon",props:P,setup(e){const t=e,n=Vue.useAttrs(),u=Vue.computed(()=>typeof t.icon=="object"?Vue.markRaw(t.icon):null),r=Vue.computed(()=>{const o={"is-pointer":!!n.onClick};return!u.value&&t.icon&&(o[t.icon]=!0),o}),c=Vue.computed(()=>{var o;return typeof t.size=="number"?t.size:(o=M[t.size])!=null?o:void 0});return(o,a)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElIcon),{class:Vue.normalizeClass(["x-icon",r.value]),color:t.color,size:c.value},{default:Vue.withCtx(()=>[Vue.renderSlot(o.$slots,"default",{},()=>[u.value?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(u.value),{key:0})):Vue.createCommentVNode("",!0),t.src?(Vue.openBlock(),Vue.createElementBlock("img",{key:1,src:t.src},null,8,H)):Vue.createCommentVNode("",!0)])]),_:3},8,["class","color","size"]))}}),L=Vue.defineComponent({name:"XMenuItem",__name:"MenuItem",props:{item:{}},setup(e){const t=e,n=Vue.getCurrentInstance(),u=(c="")=>{if(!c)return;const o=n==null?void 0:n.appContext.app;return(o==null?void 0:o.component(c))||c},r=c=>c.filter(o=>!o.hidden);return(c,o)=>t.item.children?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElSubMenu),{key:0,index:t.item.id},{title:Vue.withCtx(()=>[Vue.createElementVNode("div",null,[Vue.createVNode(Vue.unref(_),{icon:u(t.item.icon)},null,8,["icon"]),Vue.createElementVNode("span",null,Vue.toDisplayString(t.item.title),1)])]),default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(r(t.item.children),a=>(Vue.openBlock(),Vue.createBlock(Vue.unref(L),{item:a},null,8,["item"]))),256))]),_:1},8,["index"])):(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElMenuItem),Vue.mergeProps({key:1,index:t.item.id},t.item),{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(_),{icon:u(t.item.icon)},null,8,["icon"]),Vue.createElementVNode("span",null,Vue.toDisplayString(t.item.title),1)]),_:1},16,["index"]))}}),y=Vue.defineComponent({name:"XMenu",__name:"Menu",props:{data:{default:()=>[]},mode:{},defaultActive:{},defaultOpeneds:{},uniqueOpened:{type:Boolean},router:{type:Boolean},menuTrigger:{},collapse:{type:Boolean},backgroundColor:{},textColor:{},activeTextColor:{},collapseTransition:{type:Boolean},ellipsis:{type:Boolean},popperEffect:{}},emits:["select"],setup(e,{emit:t}){const n=e,u=Vue.computed(()=>n.data.filter(o=>!o.hidden)),r=(o,a)=>{const i=(s,m=[])=>{var d;for(const V of m){if(V.id===s)return V;if((d=V.children)!=null&&d.length){const h=i(s,V.children);if(h)return h}}};return i(a,o)},c=o=>{const a=r(u.value,o);a&&t("select",a)};return(o,a)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElMenu),Vue.mergeProps({class:"x-menu"},n,{onSelect:c}),{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(u.value,i=>(Vue.openBlock(),Vue.createBlock(Vue.unref(L),{item:i},null,8,["item"]))),256))]),_:1},16))}}),F={class:"x-simple-mask__brand"},Y={class:"x-simple-mask__aciton"},z=Vue.defineComponent({name:"XSimpleMask",__name:"SimpleMask",props:{preview:{type:Boolean},project:{default:()=>({name:"Logo",home:"/"})},menu:{}},setup(e,{expose:t}){const n=e,u=VueRouter.useRouter(),r=VueRouter.useRoute(),c=Vue.computed(()=>r.params.id),o=()=>{const i=n.project.home;i&&u.push(i)},a=i=>{const s=i==null?void 0:i.id;if(s){const d=`${n.preview?"/preview":n.project.page}/${s}`;u.push(d)}};return t({goHome:o}),(i,s)=>(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElContainer),{class:"x-simple-mask"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElHeader),{class:"x-simple-mask__header"},{default:Vue.withCtx(()=>[Vue.createElementVNode("div",F,[Vue.createElementVNode("span",{class:"x-simple-mask__logo",onClick:o},[Vue.renderSlot(i.$slots,"logo",{},()=>[Vue.createTextVNode(Vue.toDisplayString(n.project.name),1)])])]),Vue.createElementVNode("div",Y,[Vue.renderSlot(i.$slots,"action")])]),_:3}),Vue.createVNode(Vue.unref(ElementPlus.ElContainer),null,{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlus.ElAside),{class:"x-simple-mask__aside"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(y),Vue.mergeProps(n.menu,{"default-active":c.value,onSelect:a}),null,16,["default-active"])]),_:1}),Vue.createVNode(Vue.unref(ElementPlus.ElMain),{class:"x-simple-mask__main"},{default:Vue.withCtx(()=>[Vue.renderSlot(i.$slots,"default",{},()=>[Vue.createVNode(Vue.unref(VueRouter.RouterView))])]),_:3})]),_:3}),i.$slots.footer?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElFooter),{key:0,class:"x-simple-mask__footer",height:"40px"},{default:Vue.withCtx(()=>[Vue.renderSlot(i.$slots,"footer")]),_:3})):Vue.createCommentVNode("",!0)]),_:3}))}}),D=[b,_,y,z];function $(e){return Vue.computed(()=>e?typeof e=="string"||e.setup||e.render||Vue.isVNode(e)?{icon:e}:e:null)}function K(e){const t=$(e);return t.value?Vue.defineComponent({render:()=>Vue.h(_,t.value)}):null}function W(e,t={}){const n=t.edge||40,u=Vue.computed(()=>{var s;return t.selector?typeof t.selector=="string"?(s=Vue.unref(e))==null?void 0:s.querySelector(t.selector):Vue.unref(e):null}),r=Vue.computed(()=>Vue.unref(t.wrapper)),{x:c,y:o,isDragging:a}=VueUse.useDraggable(e,I({preventDefault:!1,stopPropagation:!1,handle:t.selector?u:null},N(t,["handle","edge"]))),i=(s,m,d,V,h,g)=>{const v=[-d.value+n,V.value-n];m.value=Math.min(Math.max(m.value,g.value),h.value-n),s.value<v[0]&&(s.value=v[0]),s.value>v[1]&&(s.value=v[1])};if(t.wrapper){const{width:s,height:m,top:d}=VueUse.useElementBounding(r),{width:V}=VueUse.useElementSize(e);Vue.watch([c,o],()=>{i(c,o,V,s,m,d)})}return Vue.watch(a,s=>{s?document.body.classList.add(E):document.body.classList.remove(E)}),{x:c,y:o,isDragging:a}}function q(e,t,n){const{dirs:u=["n","s","w","e"],edge:r=5}=e;let c="";const{left:o,top:a,width:i,height:s}=n,{clientX:m,clientY:d}=t;return u.includes("n")&&d>a.value-r&&d<a.value+r?c+="n":u.includes("s")&&d<a.value+s.value+r&&d>a.value+s.value-r&&(c+="s"),u.includes("w")&&m>o.value-r&&m<o.value+r?c+="w":u.includes("e")&&m<o.value+i.value+r&&m>o.value+i.value-r&&(c+="e"),c}function Z(e,t,n,u){if(!n)return;const{minWidth:r=0,minHeight:c=0,maxWidth:o,maxHeight:a}=e,{clientX:i,clientY:s}=t,{left:m,top:d,width:V,height:h}=u;n.includes("e")&&(V.value=Math.max(i-m.value,r)),n.includes("w")&&(V.value=Math.max(V.value+m.value-i,r),m.value=i),n.includes("s")&&(h.value=Math.max(s-d.value,c)),n.includes("n")&&(h.value=Math.max(h.value+d.value-s,c),d.value=s),o&&(V.value=Math.min(V.value,o)),a&&(h.value=Math.min(h.value,a)),e.onResizing&&e.onResizing(u)}function J(e,t={}){const n=I({edge:5,minWidth:50,minHeight:50,dirs:["n","s","w","e"]},t),u=Vue.effectScope(),r=Vue.ref(""),c=Vue.ref(!1),{onStart:o,onEnd:a,boundingOptions:i}=n,s=VueUse.useElementBounding(e,i),{left:m,top:d,width:V,height:h,update:g}=s;return u.run(()=>{VueUse.useEventListener(document,"mousemove",v=>{c.value?Z(n,v,r.value,s):r.value=q(n,v,s)}),VueUse.useEventListener(document,"mousedown",()=>{g(),r.value&&(c.value=!0,o&&o(s))}),VueUse.useEventListener(document,"mouseup",()=>{c.value=!1,r.value="",a&&a(s),g()}),Vue.watch(r,v=>{const w=document.body;w.style.cursor=v?`${v}-resize`:"",v?w.classList.add(k):w.classList.remove(k)})}),Vue.onUnmounted(()=>{u.stop()}),{left:m,top:d,width:V,height:h,direction:r,resizing:c,update:g}}const Q=B(D).install;l.INSTALLED_KEY=S,l.IS_DRAGGING_CLASS_NAME=E,l.IS_RESIZING_CLASS_NAME=k,l.NOOP=C,l.XIcon=_,l.XMenu=y,l.XSimpleMask=z,l.XStartup=b,l.components=D,l.getSizeValue=p,l.iconProps=P,l.iconSizeMap=M,l.install=Q,l.makeInstaller=B,l.omit=N,l.parseSize=R,l.pick=j,l.useDraggable=W,l.useIcon=K,l.useIconProps=$,l.useResizable=J,l.withInstall=O,l.withInstallDirective=X,l.withInstallFunction=T,l.withNoopInstall=U,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});
