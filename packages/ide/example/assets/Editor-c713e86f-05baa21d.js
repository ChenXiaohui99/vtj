var v=Object.defineProperty;var c=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var m=(o,t,a)=>t in o?v(o,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[t]=a,f=(o,t)=>{for(var a in t||(t={}))b.call(t,a)&&m(o,a,t[a]);if(c)for(var a of c(t))w.call(t,a)&&m(o,a,t[a]);return o};var p=(o,t,a)=>new Promise((n,l)=>{var e=s=>{try{i(a.next(s))}catch(r){l(r)}},u=s=>{try{i(a.throw(s))}catch(r){l(r)}},i=s=>s.done?n(s.value):Promise.resolve(s.value).then(e,u);i((a=a.apply(o,t)).next())});import{W as y,a as g,b as h,c as k,d as W,e as V}from"./monaco-editor-c02ad91d.js";import{I as B,e as x,i as E,n as C,Z as T,f as $,o as j,c as z,Q as D,a0 as M}from"./@vue-a5b69601.js";const I=B({__name:"Editor",props:{lang:{default:"typescript"},modelValue:{default:""},options:{default:()=>({})},height:{default:"300px"},readonly:{type:Boolean,default:!1},dark:{type:Boolean,default:!1},border:{type:Boolean},minimap:{type:Boolean,default:!1}},emits:["change","blur"],setup(o,{expose:t,emit:a}){const n=o;self.MonacoEnvironment={createTrustedTypesPolicy:void 0,getWorker(r,d){return d==="json"&&y?new y:["css","scss","less"].includes(d)&&g?new g:["html","handlebars","razor","vue"].includes(d)&&h?new h:["typescript","javascript"].includes(d)&&k?new k:W?new W:Promise.resolve({})}};const l=x();let e=null;const u=()=>p(this,null,function*(){var r;e&&(yield(r=e.getAction("editor.action.formatDocument"))==null?void 0:r.run(),e.setValue(e.getValue()))}),i=()=>p(this,null,function*(){yield u(),a("blur",e==null?void 0:e.getValue())}),s=()=>{e=V.create(l.value,f({value:n.modelValue,language:n.lang,readOnly:n.readonly,theme:n.dark?"vs-dark":"vs",automaticLayout:!0,minimap:{enabled:n.minimap}},n.options)),e.onDidChangeModelContent(r=>{a("change",e==null?void 0:e.getValue(),r)}),e.onDidBlurEditorText(i)};return E(()=>{C(s)}),T(()=>{e&&e.dispose()}),$(()=>n.modelValue,r=>{e&&e.setValue(r)}),t({getEditor:()=>e}),(r,d)=>(j(),z("div",{class:D(["vtj-code-editor",{"is-border":n.border}]),ref_key:"container",ref:l,style:M({height:n.height})},null,6))}});export{I as default};
