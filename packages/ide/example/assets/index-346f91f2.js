var wt=(u,a,e)=>new Promise((t,n)=>{var r=o=>{try{l(e.next(o))}catch(s){n(s)}},i=o=>{try{l(e.throw(o))}catch(s){n(s)}},l=o=>o.done?t(o.value):Promise.resolve(o.value).then(r,i);l((e=e.apply(u,a)).next())});import{b as ar,u as ir}from"./vue-router-83e764e6.js";import{_ as ur}from"./monaco-editor-ed690010.js";import{y as lr,U as Re,D as sn,i as Cn,A as Sn,G as Vn,l as jn,C as cn,Y as Pt,V as Rt,g as Me,H as Je,b as or,j as sr,a as cr,_ as dr}from"./index-fed6b1ca.js";import{W as vr}from"./vue-f4bcf79a.js";import{Y as fr}from"./mitt-20a000ba.js";import{l as pr,m as En,n as $n}from"./@vueuse-759a44e7.js";import{r as mr,e as hr,f as gr,t as An,u as Dn}from"./@element-plus-dff6bb60.js";import{I as Q,a2 as yr,r as D,m as x,o as p,M as E,a as H,a3 as ue,W as C,aj as In,O as k,J as de,K as re,a7 as br,T as L,f as ce,aJ as kr,c as B,R as ie,U as ee,V as Z,X as q,ae as Y,u as d,ar as Pn,ap as Rn,b5 as st,i as ht,Z as Ke,a9 as gt,H as _r,P as Ne,Q as We,ah as ct,aw as wr,S as Qt,ai as Kt,_ as Oe,E as Gt,af as On,a0 as it,w as qt,ad as ut,bt as Xe,h as Cr,j as dn,s as Ct,n as tt,bg as Sr,be as Vr}from"./@vue-ebdedd50.js";import{n as ye,E as jr,c as Ot,a as Bt,b as Bn,d as Er,o as $r,m as ve,l as Ae,p as Tt,q as Ft,r as Yt,s as Xt,t as Zt,u as Tn,v as Le,w as le,x as te,y as X,z as Ar,A as Dr,B as en,C as tn,D as qe,F as Ir,G as nn,i as Pr,H as Rr,I as Or,J as Br,K as Tr,L as Fr,M as Nr,N as Lr,O as Ur,k as be,j as Ve,P as yt,Q as bt,R as xr,S as Mr,T as Jr,U as Hr,V as nt,W as Wr}from"./element-plus-4758e84a.js";import"./lodash-es-74278d6e.js";import"./async-validator-b6b8d38d.js";import"./@ctrl-b0f23ca4.js";import"./@popperjs-7c8154ca.js";function De(u,a){return Kr(u)||Qr(u,a)||rn(u,a)||zr()}function zr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qr(u,a){var e=u==null?null:typeof Symbol!="undefined"&&u[Symbol.iterator]||u["@@iterator"];if(e!=null){var t,n,r,i,l=[],o=!0,s=!1;try{if(r=(e=e.call(u)).next,a===0){if(Object(e)!==e)return;o=!1}else for(;!(o=(t=r.call(e)).done)&&(l.push(t.value),l.length!==a);o=!0);}catch(c){s=!0,n=c}finally{try{if(!o&&e.return!=null&&(i=e.return(),Object(i)!==i))return}finally{if(s)throw n}}return l}}function Kr(u){if(Array.isArray(u))return u}function Ze(u){return Yr(u)||qr(u)||rn(u)||Gr()}function Gr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qr(u){if(typeof Symbol!="undefined"&&u[Symbol.iterator]!=null||u["@@iterator"]!=null)return Array.from(u)}function Yr(u){if(Array.isArray(u))return Lt(u)}function vn(u,a){var e=Object.keys(u);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(u);a&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(u,n).enumerable})),e.push.apply(e,t)}return e}function J(u){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?vn(Object(e),!0).forEach(function(t){R(u,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(e)):vn(Object(e)).forEach(function(t){Object.defineProperty(u,t,Object.getOwnPropertyDescriptor(e,t))})}return u}function R(u,a,e){return a=Ln(a),a in u?Object.defineProperty(u,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):u[a]=e,u}function O(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */O=function(){return u};var u={},a=Object.prototype,e=a.hasOwnProperty,t=Object.defineProperty||function(V,S,P){V[S]=P.value},n=typeof Symbol=="function"?Symbol:{},r=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function o(V,S,P){return Object.defineProperty(V,S,{value:P,enumerable:!0,configurable:!0,writable:!0}),V[S]}try{o({},"")}catch(V){o=function(P,W,M){return P[W]=M}}function s(V,S,P,W){var M=S&&S.prototype instanceof f?S:f,z=Object.create(M.prototype),ae=new F(W||[]);return t(z,"_invoke",{value:j(V,P,ae)}),z}function c(V,S,P){try{return{type:"normal",arg:V.call(S,P)}}catch(W){return{type:"throw",arg:W}}}u.wrap=s;var v={};function f(){}function m(){}function g(){}var h={};o(h,r,function(){return this});var _=Object.getPrototypeOf,b=_&&_(_(U([])));b&&b!==a&&e.call(b,r)&&(h=b);var y=g.prototype=f.prototype=Object.create(h);function w(V){["next","throw","return"].forEach(function(S){o(V,S,function(P){return this._invoke(S,P)})})}function A(V,S){function P(M,z,ae,oe){var pe=c(V[M],V,z);if(pe.type!=="throw"){var Be=pe.arg,_e=Be.value;return _e&&typeof _e=="object"&&e.call(_e,"__await")?S.resolve(_e.__await).then(function(xe){P("next",xe,ae,oe)},function(xe){P("throw",xe,ae,oe)}):S.resolve(_e).then(function(xe){Be.value=xe,ae(Be)},function(xe){return P("throw",xe,ae,oe)})}oe(pe.arg)}var W;t(this,"_invoke",{value:function(z,ae){function oe(){return new S(function(pe,Be){P(z,ae,pe,Be)})}return W=W?W.then(oe,oe):oe()}})}function j(V,S,P){var W="suspendedStart";return function(M,z){if(W==="executing")throw new Error("Generator is already running");if(W==="completed"){if(M==="throw")throw z;return{value:void 0,done:!0}}for(P.method=M,P.arg=z;;){var ae=P.delegate;if(ae){var oe=I(ae,P);if(oe){if(oe===v)continue;return oe}}if(P.method==="next")P.sent=P._sent=P.arg;else if(P.method==="throw"){if(W==="suspendedStart")throw W="completed",P.arg;P.dispatchException(P.arg)}else P.method==="return"&&P.abrupt("return",P.arg);W="executing";var pe=c(V,S,P);if(pe.type==="normal"){if(W=P.done?"completed":"suspendedYield",pe.arg===v)continue;return{value:pe.arg,done:P.done}}pe.type==="throw"&&(W="completed",P.method="throw",P.arg=pe.arg)}}}function I(V,S){var P=S.method,W=V.iterator[P];if(W===void 0)return S.delegate=null,P==="throw"&&V.iterator.return&&(S.method="return",S.arg=void 0,I(V,S),S.method==="throw")||P!=="return"&&(S.method="throw",S.arg=new TypeError("The iterator does not provide a '"+P+"' method")),v;var M=c(W,V.iterator,S.arg);if(M.type==="throw")return S.method="throw",S.arg=M.arg,S.delegate=null,v;var z=M.arg;return z?z.done?(S[V.resultName]=z.value,S.next=V.nextLoc,S.method!=="return"&&(S.method="next",S.arg=void 0),S.delegate=null,v):z:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,v)}function T(V){var S={tryLoc:V[0]};1 in V&&(S.catchLoc=V[1]),2 in V&&(S.finallyLoc=V[2],S.afterLoc=V[3]),this.tryEntries.push(S)}function $(V){var S=V.completion||{};S.type="normal",delete S.arg,V.completion=S}function F(V){this.tryEntries=[{tryLoc:"root"}],V.forEach(T,this),this.reset(!0)}function U(V){if(V||V===""){var S=V[r];if(S)return S.call(V);if(typeof V.next=="function")return V;if(!isNaN(V.length)){var P=-1,W=function M(){for(;++P<V.length;)if(e.call(V,P))return M.value=V[P],M.done=!1,M;return M.value=void 0,M.done=!0,M};return W.next=W}}throw new TypeError(typeof V+" is not iterable")}return m.prototype=g,t(y,"constructor",{value:g,configurable:!0}),t(g,"constructor",{value:m,configurable:!0}),m.displayName=o(g,l,"GeneratorFunction"),u.isGeneratorFunction=function(V){var S=typeof V=="function"&&V.constructor;return!!S&&(S===m||(S.displayName||S.name)==="GeneratorFunction")},u.mark=function(V){return Object.setPrototypeOf?Object.setPrototypeOf(V,g):(V.__proto__=g,o(V,l,"GeneratorFunction")),V.prototype=Object.create(y),V},u.awrap=function(V){return{__await:V}},w(A.prototype),o(A.prototype,i,function(){return this}),u.AsyncIterator=A,u.async=function(V,S,P,W,M){M===void 0&&(M=Promise);var z=new A(s(V,S,P,W),M);return u.isGeneratorFunction(S)?z:z.next().then(function(ae){return ae.done?ae.value:z.next()})},w(y),o(y,l,"Generator"),o(y,r,function(){return this}),o(y,"toString",function(){return"[object Generator]"}),u.keys=function(V){var S=Object(V),P=[];for(var W in S)P.push(W);return P.reverse(),function M(){for(;P.length;){var z=P.pop();if(z in S)return M.value=z,M.done=!1,M}return M.done=!0,M}},u.values=U,F.prototype={constructor:F,reset:function(S){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach($),!S)for(var P in this)P.charAt(0)==="t"&&e.call(this,P)&&!isNaN(+P.slice(1))&&(this[P]=void 0)},stop:function(){this.done=!0;var S=this.tryEntries[0].completion;if(S.type==="throw")throw S.arg;return this.rval},dispatchException:function(S){if(this.done)throw S;var P=this;function W(Be,_e){return ae.type="throw",ae.arg=S,P.next=Be,_e&&(P.method="next",P.arg=void 0),!!_e}for(var M=this.tryEntries.length-1;M>=0;--M){var z=this.tryEntries[M],ae=z.completion;if(z.tryLoc==="root")return W("end");if(z.tryLoc<=this.prev){var oe=e.call(z,"catchLoc"),pe=e.call(z,"finallyLoc");if(oe&&pe){if(this.prev<z.catchLoc)return W(z.catchLoc,!0);if(this.prev<z.finallyLoc)return W(z.finallyLoc)}else if(oe){if(this.prev<z.catchLoc)return W(z.catchLoc,!0)}else{if(!pe)throw new Error("try statement without catch or finally");if(this.prev<z.finallyLoc)return W(z.finallyLoc)}}}},abrupt:function(S,P){for(var W=this.tryEntries.length-1;W>=0;--W){var M=this.tryEntries[W];if(M.tryLoc<=this.prev&&e.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var z=M;break}}z&&(S==="break"||S==="continue")&&z.tryLoc<=P&&P<=z.finallyLoc&&(z=null);var ae=z?z.completion:{};return ae.type=S,ae.arg=P,z?(this.method="next",this.next=z.finallyLoc,v):this.complete(ae)},complete:function(S,P){if(S.type==="throw")throw S.arg;return S.type==="break"||S.type==="continue"?this.next=S.arg:S.type==="return"?(this.rval=this.arg=S.arg,this.method="return",this.next="end"):S.type==="normal"&&P&&(this.next=P),v},finish:function(S){for(var P=this.tryEntries.length-1;P>=0;--P){var W=this.tryEntries[P];if(W.finallyLoc===S)return this.complete(W.completion,W.afterLoc),$(W),v}},catch:function(S){for(var P=this.tryEntries.length-1;P>=0;--P){var W=this.tryEntries[P];if(W.tryLoc===S){var M=W.completion;if(M.type==="throw"){var z=M.arg;$(W)}return z}}throw new Error("illegal catch attempt")},delegateYield:function(S,P,W){return this.delegate={iterator:U(S),resultName:P,nextLoc:W},this.method==="next"&&(this.arg=void 0),v}},u}function fn(u,a,e,t,n,r,i){try{var l=u[r](i),o=l.value}catch(s){e(s);return}l.done?a(o):Promise.resolve(o).then(t,n)}function K(u){return function(){var a=this,e=arguments;return new Promise(function(t,n){var r=u.apply(a,e);function i(o){fn(r,t,n,i,l,"next",o)}function l(o){fn(r,t,n,i,l,"throw",o)}i(void 0)})}}function Fn(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),a&&Nt(u,a)}function Nt(u,a){return Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Nt(u,a)}function Nn(u){var a=ea();return function(){var t=dt(u),n;if(a){var r=dt(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return Xr(this,n)}}function Xr(u,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zr(u)}function Zr(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function ea(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(u){return!1}}function dt(u){return dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dt(u)}function pn(u,a){for(var e=0;e<a.length;e++){var t=a[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(u,Ln(t.key),t)}}function he(u,a,e){return a&&pn(u.prototype,a),e&&pn(u,e),Object.defineProperty(u,"prototype",{writable:!1}),u}function Ln(u){var a=ta(u,"string");return typeof a=="symbol"?a:String(a)}function ta(u,a){if(typeof u!="object"||u===null)return u;var e=u[Symbol.toPrimitive];if(e!==void 0){var t=e.call(u,a||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(u)}function ge(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function Pe(u,a){var e=typeof Symbol!="undefined"&&u[Symbol.iterator]||u["@@iterator"];if(!e){if(Array.isArray(u)||(e=rn(u))||a&&u&&typeof u.length=="number"){e&&(u=e);var t=0,n=function(){};return{s:n,n:function(){return t>=u.length?{done:!0}:{done:!1,value:u[t++]}},e:function(s){throw s},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r=!0,i=!1,l;return{s:function(){e=e.call(u)},n:function(){var s=e.next();return r=s.done,s},e:function(s){i=!0,l=s},f:function(){try{!r&&e.return!=null&&e.return()}finally{if(i)throw l}}}}function rn(u,a){if(u){if(typeof u=="string")return Lt(u,a);var e=Object.prototype.toString.call(u).slice(8,-1);if(e==="Object"&&u.constructor&&(e=u.constructor.name),e==="Map"||e==="Set")return Array.from(u);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Lt(u,a)}}function Lt(u,a){(a==null||a>u.length)&&(a=u.length);for(var e=0,t=new Array(a);e<a;e++)t[e]=u[e];return t}var Un="0.5.3",mn="Vue",na=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeUnmount","unmounted","errorCaptured","renderTracked","renderTriggered","activated","deactivated"],hn=["$el","$emit","$nextTick","$parent","$root","$attrs","$slots","$watch","$props","$options","$forceUpdate"],ra=["vIf","vShow","vModel","vFor","vBind"],aa=["click","dblclick","mouseenter","mouseleave","mousedown","mouseup","mouseover","contextmenu"],ia=["keydown","keyup","keypress"],ua=["stop","prevent","capture","self","once","passive"],la=["String","Number","Boolean","Array","Object"],oa=["GET","POST","PUT","PATCH","DELETE","JSONP"];function Qe(u,a){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;try{var n=['"use strict";',"var __self = arguments[0];"];n.push("return ");var r=(u.value||"").trim();r=r.replace(/this(\W|$)/g,function(o,s){return`__self${s}`}),r=n.join(`
`)+r;var i=`with(${e?"{}":"$scope || {}"}) { ${r} }`;return new Function("$scope",i)(a)}catch(o){var l;if(console.error("parseExpression.error",o,u,(l=a==null?void 0:a.__self)!==null&&l!==void 0?l:a),t)throw o}}function et(u,a){var e,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=Qe(u,a,t,n);if(typeof r!="function"&&(console.error("parseFunction.error","not a function",u,(e=a==null?void 0:a.__self)!==null&&e!==void 0?e:a),n))throw new Error(`"${u.value}" not a function`);return r}function $e(u,a){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=!0;try{u.type==="JSExpression"?Qe(u,a,e,!0):et(u,a,e,!0)}catch(n){t=!1,Ae.error({title:"代码错误",message:n.message})}return t}var sa=Object.prototype.toString,ca=function(a){return sa.call(a)},St=function(a){return ca(a).slice(8,-1)};function Ce(u){return u&&u.type==="JSExpression"}function kt(u){return typeof u=="object"&&u&&u.type==="JSFunction"}function da(u,a){var e={};return Object.keys(u).forEach(function(t){a.includes(t)&&(e[t]=u[t])}),e}function xn(u){return typeof u=="string"?u:JSON.stringify(u)}function Mn(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=Object.keys(u);return a?e.map(function(t){return"."+t}):e}function va(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=u.find(function(l){return Je(l.name)==="vIf"}),e=u.find(function(l){return Je(l.name)==="vFor"}),t=u.find(function(l){return Je(l.name)==="vShow"}),n=u.find(function(l){return Je(l.name)==="vBind"}),r=u.filter(function(l){return Je(l.name)==="vModel"}),i=u.filter(function(l){return!ra.includes(Je(l.name))});return{vIf:a,vFor:e,vShow:t,vModels:r,vBind:n,others:i}}function se(u){return!!(u!=null&&u.__VTJ_BLOCK__)}function Vt(u){return!!(u!=null&&u.__VTJ_NODE__)}function fa(u){return/\.css$/.test(u)}function pa(u){return/\.js$/.test(u)}function ma(u){return u.map(function(a){return`<script src="${a}"><\/script>`}).join("")}function ha(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return u.map(function(a){return`<link rel="stylesheet" href="${a}" />`}).join("")}function ga(u){var a=u.url,e=u.method,t=e===void 0?"GET":e,n=u.settings,r=n?Qe(n,{}):void 0;return t.toLowerCase()==="jsonp"?function(i){return Vn(a,i,r)}:jn({url:a,method:t,settings:r})}function ya(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[],r=Pe(t),i;try{for(r.s();!(i=r.n()).done;){var l=i.value;l.isDir?l.children&&l.children.length&&(n=n.concat(e(l.children))):n.push(l)}}catch(o){r.e(o)}finally{r.f()}return n};return a(u)}var Jn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAASLUlEQVR4nO3dbYxdx13H8d/cu/buXdtJGzvOOi3QtDWpiqigFagUiRe8QKWiQkWp8qoRRVXgRRu3EgKkqi8QfQFUip9CQ6Fxk4BQJUQRrYqElIc2aUIpohVUCiFOmoTaifPgxLHD7sbZvQfN3pnN7PHd9e7de8+Zh+9H8gvLK+XsOTk//Wfmf2aMubEvoCgvG+k9S6puWpTmjZTPK/AWSR+S9D5JPydpp6TXI7iujXTcn6clfV/Sv0j69/V+fiqKSwawHVdL+rykT7iXP0XvlfQRSX8i6buSfl/SQ/XfI9VfDsDAhyU9L+nmjN7n90v6jqS76v9AYAHp+rSkr2f8/G6qV1kEFpCmj0k6XMCz+4Ckr/m/EFhAeuYkHSvoudm5rd8RgQUk6bOS3lTYo/ucpB0EFpCWWUk3FvjM3mbntAgsIC03uDaGEv06gQWk5RcKfl4/S2ABadlf8PPaR2ABadlZ8PNi0h1ITNEf/xJYAJJBYAFIBoEFIBkEFoBkEFgoz7KkGUm9qvAp7PQQWCiPDatnOtKFjvTm/iDAkAQCC+W5opJOdWT+sie9bqR9hFYqCCyUxw4Dr6qk/+7I3N6T+kbaWxFaCSCwUKbKHtlQSY90ZY7MSkui0koAgYVy2dA6UEn/05E5PsvwMAEEFspmQ+taQisVBBZAaCWDwAJUC61jhFasCCzA86H1GJVWrAgsIFQfHi4RWjEhsIC6sNJieBgVAgsYpt7ycNE2l/b59rBlBBawHl9pPeo64mUGHfJUWq0hsICN+I74R7syR+3wkI74NhFYwGbM2c94OjK3MafVJgILuJwqqLTC5tK9hFbTCCxgs+otDxWVVtMILGArwpaHv3D7abE1TWMILGCrfMvDD7uDSmuZifimEFjAKPycFs2ljSKwgFGxn1bjCCxgO9iaplEEFrBdbE3TGAILGIdwTotKa2IILGBc+gwPJ43AAsaJ/bQmisACxq2+n9ZFQmtcCCxgEsKWh9uotMaFwAImhZ1Lx47AAiaJ5tKxIrCASRs2EX81oTUKAgtoQhhadufSRUJrFAQW0JRwE0DmtEZCYAFNss2lb62kJwitURBYQNP660zEb+4IMVPy8yKwgDbUj8V/zR0hdvnQKrkW6xNYQFt8y8PJjsyRWWnebbe8cWi9VPDzepHAAtpUuSPEnraVVk9a0OVWD/+r4Of1FIEFtM2G1jXVyutobnctD+tPxP+DpMVCn9k3CCwgBuGx+Mc2bC49I+kfC3xm5yV9lcACYuFbHh6/bHPpFwp8ZvZ3fo7AAmLS39R2yz+Q9IcFPbd/k/R50dYARGhzzaV/LunOAh6fHQJ/xP+FwAJitF5z6drQ+rivPDL1iKR3SXrW/3oEFhCrenPpxaHH4n9O0i9KOpnRc7S/4Wck/YykV8J/MObG/m4XXFV71wcUy7h6amHdLnb7E88a6R19VYfmpelKeqEjdS/5yV+W9GFJvybp3Rr8xFLkN7bj/jwn6T5J/yzpn9z9uIQNrNM2xyVdaPe6gSIZVyzMBy/tCUk/XHMzwtC6ZV6aWTe0vD2SZhP4lKfjQvWcNvFhkg2s8+6XAxCPr0m6WdLZNa/2KSNd7yqtqWrwscr6oZUd5rCAOP2WjSdJv7p6dX718DHXp1XgzqUEFhCvGUn3Svrg6hX2g4n4AncuJbCA+H1T0vWrV1nfufS1jrTvktXDLBFYQPzse/rFNVcZNpce7UkXVcTOpQQWkAY7l/WhNVfqm0ufcIe12ubSvXmHFoEFpOPTl1yp3wTwMRda/aHNpdkgsIB0vNf1Vq0VHtZ6rDf4e6YT8QQWkI69kt439Gp9aD3alfli74094jMLLQILSMv+da/Wrx5+vyvz5Z60s5Ku2NTBFskgsIC0zGx4tTacfqqS/rMrc0dP2uNCK5NKi8AC0rK5TQrswRYPTw0qrWlJV+ZRaRFYQG4q92bbgy2+PSXzlRmpp0G1lXhoEVhAjiq3uYyd03rIVlozg/XFxEOLwAJy5SstOzz81ymZO2ylVSUdWgQWkDNfadnh4XemZO7uSbsqaXeaoTUVwTUAmCQfWrZP61tTMuqp+vjCYFPA8yap/bSosIAShKH1gFs9tA0Sb0qr5YHAAkoRDg8fcKuHiTWXElhAScLVwwenZO7sDeazEpnTIrCA0vjVQ9/y8BUXWgmsHjLpDpQobC71E/E3LQ7+4YKJtpShwgJKVV89PBF/cymBBZQsDK2HfUd8vB9ME1hA6cLVQxtad8T7wTSBBeDSPq27Zt6YiI+o0iKwAAyEq4f2M56/iq+5lMAC8IZwePigay6drqIZHhJYANaqN5ee6A3204qguZTAAnCpenPpl2eiaC4lsAAMF+6n9bD7jKflnUsJLADr88PDuTiaSwksABuLqLmUwAJwecOaS1toeSCwAGxOWGk96IaHvuWhodAisABsXr259K+brbQILABb40PrWncaz4nmmksJLABbF4ZW2Fw64dVDAgvAaIY1l0645YHAAjC6+mGtNrSmJxdaBBaA7QlbHmyldefkKi0CC8D2NdRcSmABGI8GmksJLADjU28utftp7Rjf1jQEFoDxClcPbWjdPSMZSTu3/18hsACMnw+tqyQ90pXOdgbH4m8TgQVgMnw+2dXCbvD3bSCwACSDwAKQDAILQDIILADJILAAJIPAApAMAgtAMggsAMkgsAAkg8ACkAwCC0AyCCwAySCwACSDwAKQDAILQDIILADJILAAJIPAApAMAgtAMggsAMmwgXWRxwUgBTawnuRJAUiBDazv8aQApMAG1sM8KQApsIH1VUlP8bQAxM4G1rKkIzwpALHzbQ1HJT3A0wIQs7AP6wZJZ3haAGIVBtYLkn5e0mmeFoAYTdWuyVZYb5f0BUm38MSGMJJeN4OZPxPd1aVhZ1X6HcCI6oEl1/l+SNJxF1oflPSTkqaLv8ldSa/alKqW1FNffSJrRDuSvGq0blhgeY8HVdYVkg660Foq8rHZsHrRLGlP9XL1scW/1ZX9D2jBvBbBlaVjuqr0qumYv+8Ngn+aSgtbs1Fghc5L+o9i7+0grKSdUnXzonT90oLOr1RaVJ1b0aukVzpSp5KWKU6xdZsNrHL5sNohVZ9akA4uSac7zF+NYtkNqSvm/zAaAmsjNqzOusrKh9WzhBXQFgJrPTasXjDSjFQdmpfevkxYAS1jA79hbFg978LqFsIKiAWBVefnrHp2jXReOrgsPUNYATFgSBjyw8Adbhj4zmXpVIdYByJBYHk+rGxl9Uk3DCSsgKjwOioYBto5q0/Nq/ppNwzk7gBRocLyYTUdrAZSWQFRKvu19MPAabcaeJ1bDSSsgCiV+2r6plAbVp9cGEywn2E1EIhZmUPCYU2htC4A0SuvwqIpFEhWWYFFUyiQtHKGhDSFAskrI7BoCgWykP8rS1MokI28KyyaQoGs5Pvqhk2hh2gKBXKQZ4XlK6tZ2xRK6wKQi/zqDV9Z7XR9Vu+kdQHIRV6BFTaF2mHg25YHB0YwDASykM+rHLYu+KZQ5qyArOQxh1XfdeEgq4FAjtIPrNXKqlJ1aGEwDCSsgCyl/VqvaQpdeGM1kLACspRuhTWsKZQJdiBrab7eNIUCRUrvFR+2nxU7hQJFSCuwhrUu0BQKFCOdOSxfWfWk6jNuGMhqIFCUNF73emV1HRPsQInif+XD1oVb5lUdJKyAUsU9JPRhtZP9rADEHFirB0ZUg6ZQWheA4sX5+odNofaQ03fQugAgxgrLhtVLtc9taF0AiqcoA+uCkfb3Vf3ugnRNn2EggFVEAYBkxBdYeyrp+Y7Mn+6Snu5K1/alfgTXBaB18QXWsqSrKmlRMsdmpSddaFURXBuAVsU5JLShdXUlzdvQ6kk/6kpzhBZQunjnsHxoLRiZI67SOsDwEChZ3JPuNrT2VdJFyRydlZ7oSm8ltIBSxb9K6EPLzWmZk13pLYQWUKI02hpWh4eS/EQ8oQUUJ50+LBta+12ldXhW5nGGh0Bp0mocrVdaJ2l5AEqSXqd7WGnZ0KLlAShGmp/m+ErrNbd6SMsDUIR0vyX0q4c2tI7PSk/xGQ+Qu7Q/fvahZTvij/aotIDMpb9bw+pnPGZl9XBlTovVQyBLeWwvE85p+eZSQgvITj77YQ1reWB4CGQlrw38wpaHo24ino54IBv57TjqK62Lrk/rcZpLgVzkuUVyuHpIcymQjXz3dKe5FMhO3odQhM2lfj8t5rSAZOV/ak64n9Zxt90ylRaQpDKO+Qq3W6a5FEhWOecS0lwKJK+sg1RpLgWSVt7JzzSXAskq86h6mkuBJJUZWKK5FEhRuYElmkuB1JQdWFqnuZTVQyBKBJbqzaWzMo+x3TIQIwLLC1sejtBcCsSIwAr50FoaDA9pLgXiQmDV+eEhh7UC0SGwhhl2WOsBQgtoG4G1nrC51M5pnZyi0gJaRmBtxIbWXtfycFtv0BFPcynQGgLrcmq7PKwMD/czET8SG/Tdiv/rMLKpCd+6XZKuc699unWJn4h/0SyZY7Pnqj/4v8WVD6ZPd06rG8H1pcAG/Ey1rGWzUxfNnEzpNwSjmHRgvV/SPVk8GT88fN7IfKn30erQwm9ort/VmY4IrcuwYbW7knZo2Xxj+id0zjypPRV3DVs26cDKS9+tHp7qLJlbe6oOLSyvzGkRWuvzYbW7krmzJ3176nXNVX111GUuEFvFbMJW2RfwQNXRsx2Zoz3pXGcwEb+c1q/RCB9WV1Qyd/Wkb01Jc1VXXXUIK4yCwBrFILS0ElrHetIrHSbi6+y92OMqKx9W9p51k57NRMsIrFH50Pqxq7QudKSrCa0VPqx2uWHgvSuVFWGFbSOwtsOH1umOzBE3PCw9tPww0IcVlRXGiMDaLvuCXuNDa1Z6ueDQqk+wE1YYMwJrHOyLaoc8z5lBR7wfHpY0EW/vwS43wf43hBUmg8AalzWVlgutUlYPfWV1pZtgv485K0wGgTVOvtI6VVDLQzgM9GFlg3uKsML4EVjjFq4e3tqTzmYcWvU5q3sIK0wWgTUJYZ9WrpXWsKbQawkrTBaBNSk5N5fWh4FMsKMhBNYk5dhc6sNqj1sNvIcJdjSHwJq0nJpL63NW97lhIGGFhhBYTag3l55zw8OU5rTqYXU/lRWaR2A1JWwutZXWSx3pmkRCyzeF7pbfIoY5K7SCwGqSr7T8RPz5BFYPw6bQu2f8FjGEFVpBYDUtpZaHYauBhBVaRGC1wQ8PY24uDfez8k2h++mzQrsIrLbU+7TOujmtGFYPh20RQ1MoIkBgtWnN8DBYPWwztNgiBhEjsNrmh4dnjMxxNxG/r6XQqjeFElaIDIEVg3CXB9vy8GoLldawplDCCpEhsGLhQ+t0sHrYVHMpTaFIBIEVk7DSOuyaSw9MOLQuPTeQygrRIrBiszqn5VYPX5xgy8OwCXYqK0SMwIqRD61nJthcyhYxSBCBFath+2mN69vDelPo/YQV0kBgxSzcT+tw8MH0dlYP64ecUlkhIQRW7Hxo+eHhds495JBTJI7ASsHq1jTbOKyVDnZkgMBKhd+aJjysdbPNpUywIxMEVkrCnUs321w6rCmUsEKiCKzUbKW5lKZQZIbAStFmmktpCkWGCKxUbdRcypwVMkVgpWxYc6ldPZxlzgp5IrBSFzaX3uq2ppmjdQF5muK5ZiCstOzJNrYb/iHCCvkhsHLh57R+1JUe7Q4OjDCEFfJCYOXEH3i6y/1OhBUyM+k5LF4ZAGMz6cA6z6MCMC6TDqznFMdJewAyMOnA+rGk7/E/CoBxaKIP65s8KQDj0ERg3eqGhgCwLU0E1rykP+YxAdiupj7NuV3Sl3haALajyW8Jf0/SXTwtAKNq+uPn35b0CTVzADuAzLSxW8Mdkt4s6c8SnozvRnANQHHa+pbwgqQ/kvRZSb8i6V2SZt2nPDF/zmMDfo+kH0RwLUBx2v742Q4N73d/AGBDbOAHIBkEFoBkEFgAkkFgAUgGgQUgGQQWgGQQWACSQWABSAaBBSAZBBaAZBBYaJpxf4AtI7DQtFclLXDXMQoCC007J+kJ7jpGQWChDY9w1zEKAgttuJe7jlEQWGjDCUn/y53HVhFYaENf0mHuPLaKwEJbjki6j7uPrSCw0KYbJD3JE8BmEVho08uS3i3puzwFbAaBhbYtSvold17lKzyNyyr6nW371BzAs+dV/p2kj0r6TUnvkdRzL2ifu7RyFuac+1KgTJL+H7TdACeo1XgEAAAAAElFTkSuQmCC",ba=[{name:"logo",type:"Logo",region:"brand",props:{text:"Tj",icon:Jn}},{name:"switcher",type:"Switcher",region:"brand",props:{link:"/"}}],ka=[{name:"toolbar",type:"Toolbar",region:"toolbar"}],_a=[{name:"actions",type:"Actions",region:"action"}],wa=[{name:"pages",type:"Pages",region:"apps",order:1,trigger:{icon:"vtj-icon-document",label:"页面",type:"panel"}},{name:"blocks",type:"Blocks",region:"apps",order:2,trigger:{icon:"vtj-icon-components",label:"区块",type:"panel"}},{name:"components",type:"Components",region:"apps",order:3,trigger:{icon:"vtj-icon-block",label:"组件库",type:"panel"},props:{title:"组件库"}},{name:"outline",type:"Outline",region:"apps",order:4,trigger:{icon:"vtj-icon-outline",label:"大纲树",type:"panel"}},{name:"history",type:"History",region:"apps",order:4,trigger:{icon:"vtj-icon-history",label:"历史记录",type:"panel"}},{name:"api",type:"Apis",region:"apps",order:4,trigger:{icon:"vtj-icon-api",label:"Api管理",type:"panel"}},{name:"packages",type:"Dependencies",region:"apps",order:6,trigger:{icon:"vtj-icon-category",label:"依赖管理",type:"panel"}},{name:"about",type:"About",region:"apps",props:{title:"关于",width:"500px",height:"300px"},trigger:{icon:"vtj-icon-info",label:"关于",type:"dialog"}}],Ca=[{package:"vue",version:"3.3.4",library:"Vue",urls:["./libs/vue.global.js"],required:!0,official:!0,enabled:!0},{package:"@vueuse/core",version:"latest",library:"VueUse",urls:["./libs/vueuse.shared.iife.min.js","./libs/vueuse.core.iife.min.js"],required:!1,official:!0,enabled:!1},{package:"element-plus",version:"latest",library:"ElementPlus",urls:["./libs/element-plus.index.css","./libs/element-plus.full.min.js"],assetsUrl:"./libs/element-plus-assets.js",assetsLibrary:"ElementPlusAssets",required:!1,official:!0,enabled:!0},{package:"@element-plus/icons-vue",version:"latest",library:"ElementPlusIconsVue",urls:["./libs/element-plus-icons-vue.js"],required:!1,official:!0,enabled:!0},{package:"@vtj/utils",version:"latest",library:"VtjUtils",urls:["./libs/vtj-utils.js"],required:!1,official:!0,enabled:!0},{package:"@vtj/icons",version:"latest",library:"VtjIcons",urls:["./libs/vtj-icons.css","./libs/vtj-icons.js"],required:!1,official:!0,enabled:!0}],Sa=[{name:"designer",type:"Designer",region:"workspace",disabled:!1,order:0,trigger:{label:"设计视图",type:"tab"}},{name:"schema",type:"Schema",region:"workspace",disabled:!1,order:1,trigger:{label:"Schema",type:"tab",closable:!0}},{name:"docs",type:"Docs",region:"workspace",disabled:!1,order:2,props:{url:"https://element-plus.org/zh-CN/"},trigger:{label:"帮助中心",type:"tab",closable:!0}}],Va=[{name:"properties",type:"Properties",region:"setting",group:"Node",trigger:{label:"属性",type:"tab"}},{name:"events",type:"Events",region:"setting",group:"Node",trigger:{label:"事件",type:"tab"}},{name:"directives",type:"Directives",region:"setting",group:"Node",trigger:{label:"指令",type:"tab"}},{name:"script",type:"BlockScript",region:"setting",group:"Block",trigger:{label:"设置",type:"tab"}},{name:"dataSources",type:"DataSources",region:"setting",group:"Block",trigger:{label:"数据源",type:"tab"}},{name:"css",type:"Css",region:"setting",group:"Block",trigger:{label:"样式",type:"tab"}},{name:"advanced",type:"Advanced",region:"setting",group:"Block",trigger:{label:"定义",type:"tab"}}],ja=[{name:"nodePath",type:"NodePath",region:"status",props:{}}],Ea={activeApp:"pages",widgets:[].concat(ba,ka,_a,wa,Sa,Va,ja),dependencies:Ca};function $a(u,a){var e=u.slice(0);return a.forEach(function(t){var n=e.findIndex(function(r){return r.name===t.name});n>-1?e.splice(n,1,Cn(e[n],t)):e.push(t)}),e}function Aa(u,a){var e=$a(u.widgets||[],(a==null?void 0:a.widgets)||[]);return Object.assign({},u,a||{},{widgets:e})}var Hn=he(function u(){ge(this,u)}),gn="Project",jt="File",Et="History",Te=new lr({prefix:"__VTJ__",type:"local"}),Wn=function(u){Fn(e,u);var a=Nn(e);function e(){return ge(this,e),a.apply(this,arguments)}return he(e,[{key:"createKey",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.join("_")}},{key:"getProject",value:function(){var t=K(O().mark(function r(i){var l,o;return O().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(l=i.id||Re(),o=this.createKey(gn,l),c.t0=Te.get(o),c.t0){c.next=6;break}return c.next=5,this.createProject(i);case 5:c.t0=c.sent;case 6:return c.abrupt("return",c.t0);case 7:case"end":return c.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"createProject",value:function(){var t=K(O().mark(function r(i){var l,o,s,c;return O().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return l=i.id||Re(),o=i.name||"未命名项目",s=this.createKey(gn,l),c=J(J({},i),{},{id:l,name:o}),f.abrupt("return",(Te.save(s,c),c));case 2:case"end":return f.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"updateProject",value:function(){var t=K(O().mark(function r(i){var l,o;return O().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(i.id){c.next=2;break}return c.abrupt("return",!1);case 2:return c.next=4,this.getProject(i);case 4:return l=c.sent,o=Object.assign(l,i),c.abrupt("return",!!this.createProject(o));case 7:case"end":return c.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"createFile",value:function(){var t=K(O().mark(function r(i){var l,o,s;return O().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return l=i.id||Re(),o=this.createKey(jt,l),s=J(J({},i),{},{id:l}),v.abrupt("return",(Te.save(o,s),s));case 2:case"end":return v.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"updateFile",value:function(){var t=K(O().mark(function r(i){return O().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",i.id?!!this.createFile(i):!1);case 1:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"getFile",value:function(){var t=K(O().mark(function r(i){var l;return O().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return l=this.createKey(jt,i),s.abrupt("return",Te.get(l));case 2:case"end":return s.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"removeFile",value:function(){var t=K(O().mark(function r(i){var l,o;return O().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return l=this.createKey(jt,i),o=this.createKey(Et,i),c.abrupt("return",(Te.remove(l),Te.remove(o),!0));case 2:case"end":return c.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"saveHistory",value:function(){var t=K(O().mark(function r(i){var l,o,s;return O().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return l=i.blockId,o=i.items,s=this.createKey(Et,l),v.abrupt("return",(Te.save(s,o),!0));case 2:case"end":return v.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"getHistory",value:function(){var t=K(O().mark(function r(i){var l;return O().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return l=this.createKey(Et,i),s.abrupt("return",Te.get(l)||[]);case 2:case"end":return s.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()}]),e}(Hn),Fe=jn({url:"/vtj/base.json",method:"post",settings:{type:"json",validSuccess:!0,originResponse:!1,validate:function(a){var e;return((e=a.data)===null||e===void 0?void 0:e.code)===0},showError:function(a){Ae.error({message:a||"未知错误"})}}}),Da=function(u){Fn(e,u);var a=Nn(e);function e(){return ge(this,e),a.apply(this,arguments)}return he(e,[{key:"getProject",value:function(){var t=K(O().mark(function r(i){var l;return O().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return l=i.id,s.next=3,Fe({type:"getProject",data:l}).catch(function(c){return null});case 3:if(s.t0=s.sent,s.t0){s.next=8;break}return s.next=7,this.createProject(i);case 7:s.t0=s.sent;case 8:return s.abrupt("return",s.t0);case 9:case"end":return s.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"createProject",value:function(){var t=K(O().mark(function r(i){var l,o,s;return O().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return l=i.id,o=i.name||"未命名项目",s=J(J({},i),{},{id:l,name:o}),v.next=3,Fe({type:"createProject",data:s}).catch(function(f){return null});case 3:return v.abrupt("return",s);case 4:case"end":return v.stop()}},r)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"updateProject",value:function(){var t=K(O().mark(function r(i){var l,o;return O().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(i.id){c.next=2;break}return c.abrupt("return",!1);case 2:return c.next=4,this.getProject(i);case 4:return l=c.sent,o=Object.assign(l,i),c.abrupt("return",!!this.createProject(o));case 7:case"end":return c.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"createFile",value:function(){var t=K(O().mark(function r(i){var l,o;return O().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return l=i.id,o=J(J({},i),{},{id:l}),c.next=3,Fe({type:"createFile",data:o});case 3:return c.abrupt("return",o);case 4:case"end":return c.stop()}},r)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"updateFile",value:function(){var t=K(O().mark(function r(i){return O().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",i.id?!!this.createFile(i):!1);case 1:case"end":return o.stop()}},r,this)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"getFile",value:function(){var t=K(O().mark(function r(i){return O().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Fe({type:"getFile",data:i}).catch(function(s){return null});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"removeFile",value:function(){var t=K(O().mark(function r(i){return O().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Fe({type:"removeHistory",data:i});case 2:return o.next=4,Fe({type:"removeFile",data:i});case 4:return o.abrupt("return",!0);case 5:case"end":return o.stop()}},r)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"saveHistory",value:function(){var t=K(O().mark(function r(i){var l,o;return O().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return l=i.blockId,o=i.items,c.next=3,Fe({type:"saveHistory",data:{blockId:l,items:o}});case 3:return c.abrupt("return",!0);case 4:case"end":return c.stop()}},r)}));function n(r){return t.apply(this,arguments)}return n}()},{key:"getHistory",value:function(){var t=K(O().mark(function r(i){return O().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Fe({type:"getHistory",data:i}).catch(function(s){return[]});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},r)}));function n(r){return t.apply(this,arguments)}return n}()}]),e}(Hn),Ia={name:"zh-cn",el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"}}};function ne(){var u=Gt(on);return{engine:u,regions:u.skeleton.regions,config:u.config,emitter:u.emitter,project:u.project,assets:u.assets}}function Pa(u){var a=D(""),e=x(function(){var t=a.value.toLowerCase();return!t||!u?[]:u.filter(function(n){var r;return n.name.toLowerCase().includes(t)||((r=n.title)===null||r===void 0?void 0:r.toLowerCase().includes(t))})});return{searchKey:a,searchResult:e}}var Ra=["onClick"],Oa={key:1,class:"vtj-panel__header"},Ba={class:"vtj-panel__title"},Ta={key:1,class:"vtj-panel__subtitle"},Fa={key:0,class:"vtj-panel__tools"},Na=["onClick"],La={key:0,class:"vtj-panel__footer"},Ee=Q({__name:"Panel",props:{icon:{},title:{},subtitle:{},tools:{},bodyPadding:{type:Boolean,default:!0},back:{type:Boolean}},emits:["tool-click","back"],setup:function(a,e){var t=e.expose,n=e.emit,r=a,i=D(),l=D();function o(c){n("tool-click",c)}function s(){n("back")}return t({panel:i,header:l}),function(c,v){return p(),B("div",{class:"vtj-panel",ref_key:"panel",ref:i},[H("div",{ref_key:"header",ref:l,class:"vtj-panel__header-wrapper"},[r.back?(p(),B("i",{key:0,onClick:ue(s,["stop"]),class:"vtj-panel__back vtj-icon-arrow-left"},null,8,Ra)):L("",!0),c.title!==null?(p(),B("div",Oa,[de(c.$slots,"title",{},function(){return[H("div",Ba,[c.icon?(p(),B("i",{key:0,class:ie(["vtj-panel__icon",c.icon])},null,2)):L("",!0),ee(" "+Z(c.title)+" ",1),c.subtitle?(p(),B("span",Ta,Z(c.subtitle),1)):L("",!0)])]}),c.tools&&c.tools.length||c.$slots.tools?(p(),B("div",Fa,[(p(!0),B(q,null,Y(c.tools,function(f){return p(),B("i",{key:f.name,class:ie(f.icon),onClick:function(g){return o(f)}},null,10,Na)}),128)),de(c.$slots,"tools")])):L("",!0)])):L("",!0)],512),H("div",{class:ie(["vtj-panel__body",{"is-padding":r.bodyPadding}])},[de(c.$slots,"default")],2),c.$slots.footer?(p(),B("div",La,[de(c.$slots,"footer")])):L("",!0)],512)}}}),fe=Q({__name:"Dialog",props:{modelValue:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},width:{default:"80%"},height:{},top:{default:"40%"},cancel:{type:Boolean,default:!1},submit:{type:Boolean,default:!1},clear:{type:Boolean,default:!1},closable:{type:Boolean,default:!0}},emits:["close","update:modelValue","submit","clear"],setup:function(a,e){var t=e.expose,n=e.emit,r=a,i=yr(),l=D(),o=x(function(){var b=Ze(i.tools||[]);return r.closable&&b.push({name:"close",icon:"vtj-icon-close"}),b}),s=li(l),c=s.x,v=s.y,f=x(function(){return{width:r.width,height:r.height,left:`${c.value}px`,top:`${v.value}px`}}),m=function(y){y.name==="close"&&(n("update:modelValue",!1),n("close"))};function g(){n("update:modelValue",!1),n("close")}function h(){n("submit")}function _(){n("clear")}return t({close:g}),function(b,y){return r.modelValue?(p(),E(br,{key:0,to:"body"},[H("div",{class:"vtj-dialog__modal",onMousemove:y[0]||(y[0]=ue(function(){},["stop"]))},null,32),C(Ee,re({ref_key:"panelRef",ref:l,onMousemove:y[1]||(y[1]=ue(function(){},["stop"])),class:"vtj-dialog"},b.$attrs,{tools:o.value,style:f.value,draggable:"",onToolClick:m}),In({default:k(function(){return[de(b.$slots,"default")]}),_:2},[b.$slots.footer||b.cancel||b.submit||b.clear?{name:"footer",fn:k(function(){return[de(b.$slots,"footer",{},function(){return[H("div",null,[de(b.$slots,"action"),b.clear?(p(),E(d(ye),{key:0,type:"warning",size:"default",class:"vtj-dialog__clear",onClick:_},{default:k(function(){return[ee(" 清除绑定 ")]}),_:1})):L("",!0)]),H("div",null,[b.cancel?(p(),E(d(ye),{key:0,onClick:g,size:"default"},{default:k(function(){return[ee(" 取消 ")]}),_:1})):L("",!0),b.submit?(p(),E(d(ye),{key:1,type:"primary",onClick:h,size:"default"},{default:k(function(){return[ee(" 确定 ")]}),_:1})):L("",!0)])]})]}),key:"0"}:void 0]),1040,["tools","style"])])):L("",!0)}}}),Ua=H("div",null,"该组件支持多个插槽，请选择放置到其中一个",-1),xa={class:"vtj-designer__slots"},Ma=["onClick"],Ja=Q({__name:"SlotPicker",props:{slots:{default:function(){return[]}}},emits:["pick"],setup:function(a,e){var t=e.emit,n=a,r=D(!0),i=function(o){t("pick",o)};return function(l,o){return p(),E(fe,{title:"提示",width:"600px",height:"200px",modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=function(s){return r.value=s})},{default:k(function(){return[Ua,H("div",xa,[(p(!0),B(q,null,Y(n.slots,function(s){return p(),B("div",{onClick:function(v){return i(s)},class:"vtj-designer__slot"},Z(s.name),9,Ma)}),256))])]}),_:1},8,["modelValue"])}}}),Ha=function(a){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=a||{},n=t.top,r=t.height,i=t.width,l=t.left;if(r>100&&i>200)return"inner";var o,s;return s=n>30?"top":"bottom",o=e||l<300&&i<300?"left":"right",[o,s].join("-")},Wa=function(a){var e=a.rect,t=a.type,n=e.left,r=e.width,i=e.top,l=e.height,o={left:n,width:r,top:i,height:l};switch(t){case"left":o.left=0,o.width=0;break;case"right":o.left=o.left+o.width-4,o.width=0;break;case"bottom":o.top=o.top+o.height-4,o.height=0;break;case"top":o.height=0;break}return o},$t=function(a,e){if(!e)return null;var t=a==="dropping"?Wa(e):e.rect,n=t.left,r=t.top,i=t.width,l=t.height,o={left:`${n}px`,top:`${r}px`,width:`${i}px`,height:`${l}px`};return J(J({},e),{},{style:o,position:Ha(e.rect,a!=="selected")})},rt;function je(u){if(rt||!u)return rt;Ke(function(){u.dispose()});var a=x(function(){return $t("hover",u.hover.value)}),e=x(function(){return $t("dropping",u.dropping.value)}),t=x(function(){return $t("selected",u.selected.value)}),n=function(l){var o=l.type,s=l.node;if(!s){u.selected.value=null,u.hover.value=null;return}switch(o){case"remove":u.selected.value=null;case"copy":u.setSelected(s);break;case"move":u.setSelected(s);break;case"hover":u.setHover(s);break;case"selected":u.setSelected(s);break}},r=D("pc");return N.on(qn,function(i){r.value=i}),N.on(un,function(i){u.setSelected(i)}),N.on(ln,function(i){u.setHover(i)}),N.on(He,function(i){u.hover.value=null,u.selected.value=null}),N.on(Yn,function(){var i=K(O().mark(function l(o){return O().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,cn(100);case 2:u.hover.value=null,o&&t.value&&u.setSelected(t.value.node);case 4:case"end":return c.stop()}},l)}));return function(l){return i.apply(this,arguments)}}()),N.on(G,K(O().mark(function i(){return O().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,cn(100);case 2:t.value&&u.setSelected(t.value.node);case 3:case"end":return o.stop()}},i)}))),rt={designer:u,hover:a,dropping:e,selected:t,onAction:n,viewportMode:r},rt}function za(u){return new Promise(function(a,e){var t=Rn(Ja,{slots:u,onClose:function(){t.unmount(),e(void 0)},onPick:function(r){t.unmount(),a(r)}});t.mount(document.createElement("div"))})}function Qa(u,a){var e,t,n,r,i,l={state:(e=u.value)===null||e===void 0?void 0:e.removeState.bind(u.value),computed:(t=u.value)===null||t===void 0?void 0:t.removeComputed.bind(u.value),methods:(n=u.value)===null||n===void 0?void 0:n.removeMethods.bind(u.value),watch:(r=u.value)===null||r===void 0?void 0:r.removeWatch.bind(u.value),lifeCycles:(i=u.value)===null||i===void 0?void 0:i.removeLifeCycles.bind(u.value)},o=D(!1),s=D(Symbol()),c=D();return{list:x(function(){var v;if(a==="watch")return(((v=u.value)===null||v===void 0?void 0:v.watch)||[]).map(function(g){return{title:g.source.value,model:g}});{var f,m=(f=u.value)===null||f===void 0?void 0:f[a];return Object.entries(m!=null?m:{}).map(function(g){var h=De(g,2),_=h[0],b=h[1];return{title:_,model:{name:_,value:b}}})}}),visible:o,data:c,onAdd:function(f){s.value=Symbol(),c.value=null,o.value=!0},onEdit:function(f){s.value=Symbol(),c.value=J({},f),o.value=!0},onRemove:function(){var v=K(O().mark(function m(g){var h;return O().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,be.confirm("是否确定删除?","提示",{type:"warning"}).catch(function(){return!1});case 2:if(!b.sent){b.next=5;break}h=l[a],h&&h(a==="watch"?g:g.name);case 5:case"end":return b.stop()}},m)}));function f(m){return v.apply(this,arguments)}return f}(),keyRef:s}}var Ka={block:{type:Object,default:null},data:{type:Object},type:{type:String,default:"state"},title:{type:String,default:""},nameLabel:{type:String,default:""},valueLabel:{type:String,default:""},dataType:{type:String,default:"JSExpression"},defaults:{type:String,default:""}};function Ga(u){var a={name:"",value:{type:u.dataType,value:u.defaults}},e={state:u.block.setState.bind(u.block),computed:u.block.setComputed.bind(u.block),methods:u.block.setMethods.bind(u.block),lifeCycles:u.block.setLifeCycles.bind(u.block)},t=D(),n=D(),r=D(),i=x(function(){return u.data?`编辑${u.title}`:`新增${u.title}`}),l={name:[{required:!0,message:`${u.title}名称为必填项`}]},o=x(function(){return!!u.data}),s=Oe(u.data||Me(a));qt(function(){Object.assign(s,u.data||Me(a))});var c=function(f){return u.data?!1:!!u.block[u.type][f]};return{defaultJsData:a,title:i,model:s,formRef:t,dialogRef:n,editorRef:r,rules:l,disabled:o,onSubmit:function(){var v=K(O().mark(function m(){var g,h;return O().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,t.value.validate().catch(function(){return!1});case 2:if(!b.sent){b.next=8;break}if(!c(s.name)){b.next=6;break}return Ae.warning({title:"提示",message:"已存在相同名称，请更换！"}),b.abrupt("return");case 6:g=r.value.getEditor().getValue(),h=u.block.runtimeContext,h&&$e(J(J({},s.value),{},{value:g}),h)&&(s.value.value=g,e[u.type](s.name,s.value),n.value.close());case 8:case"end":return b.stop()}},m)}));function f(){return v.apply(this,arguments)}return f}()}}var qa={block:{type:Object,default:null},data:{type:Object}};function Ya(u){var a={source:{type:"JSFunction",value:"() => { }"},immediate:!1,deep:!1,handler:{type:"JSFunction",value:"() => { }"}},e=D(),t=D(),n=D(),r=D(),i=x(function(){return u.data?"编辑 Watch":"新增 Watch"}),l=Oe(u.data||Me(a));return qt(function(){Object.assign(l,u.data||Me(a))}),{title:i,model:l,onSubmit:function(){var o=K(O().mark(function c(){var v,f,m;return O().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:v=u.block.runtimeContext,f=n.value.getEditor().getValue(),m=r.value.getEditor().getValue(),v&&$e(J(J({},l.source),{},{value:f}),v)&&$e(J(J({},l.handler),{},{value:m}),v)&&(l.source.value=f,l.handler.value=m,u.block.setWatch(J({},l)),t.value.close());case 2:case"end":return h.stop()}},c)}));function s(){return o.apply(this,arguments)}return s}(),dialogRef:t,sourceRef:n,handlerRef:r,formRef:e}}function Xa(u,a){var e=je(),t=e.selected,n=x(function(){var l;return(l=t.value)===null||l===void 0?void 0:l.node}),r=x(function(){var l,o=[];if(!u.value)return o;var s=u.value.runtimeContext,c=s==null?void 0:s.__context_refs[(l=n.value)===null||l===void 0?void 0:l.id],v=u.value.runtimeContext===c?[]:Object.keys(c||{}).map(function(w){return`this.${w}`});v.length&&o.push({title:"上下文",items:v});var f=u.value.inject.map(function(w){return`this.${w.name}`});f.length&&o.push({title:"注入",items:f});var m=u.value.props.map(function(w){return typeof w=="string"?`this.$props.${w}`:`this.$props.${w.name}`});m.length&&o.push({title:"属性",items:m});var g=Object.keys(u.value.state).map(function(w){return`this.state.${w}`});g.length&&o.push({title:"状态",items:g});var h=Object.keys(u.value.computed).map(function(w){return`this.${w}.value`});h.length&&o.push({title:"计算属性",items:h});var _=Object.keys(u.value.methods).map(function(w){return`this.${w}`});_.length&&o.push({title:"方法",items:_});var b=Object.keys(u.value.dataSources).map(function(w){return`this.${w}`});b.length&&o.push({title:"数据源",items:b});var y=Object.keys((s==null?void 0:s.$refs)||{}).map(function(w){return`this.$refs.${w}`});return y.length&&o.push({title:"refs",items:y}),o}),i=x(function(){if(!a.value)return r.value;var l=a.value.toLowerCase(),o=[];return r.value.forEach(function(s){var c=s.items.filter(function(v){return v.toLowerCase().includes(l)});c.length&&o.push({title:s.title,items:c})}),o});return{options:r,searchResult:i}}function Za(u,a){var e=[{name:"InputSetter",label:"文本"},{name:"ExpressionSetter",label:"表达式"}],t=D();ce(u,function(){var o=K(O().mark(function s(c){return O().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!c){f.next=9;break}return f.next=3,a.getBlockDescription(c.from);case 3:if(f.t0=f.sent,f.t0){f.next=6;break}f.t0=void 0;case 6:t.value=f.t0,f.next=10;break;case 9:t.value=void 0;case 10:case"end":return f.stop()}},s)}));return function(s){return o.apply(this,arguments)}}(),{immediate:!0});var n=x(function(){return!u.value||!Vt(u.value)?[]:[{name:"key",setters:e,value:u.value.getPropValue("key")},{name:"ref",setters:e,value:u.value.getPropValue("ref")},{name:"class",label:"class",setters:e,value:u.value.getPropValue("class")},{name:"style",label:"样式",setters:[{name:"JSONSetter",label:"JSON"},{name:"ExpressionSetter",label:"表达式"}],value:u.value.getPropValue("style")},{name:"children",label:"文本",title:"如设置组件文本，将清空子组件",setters:e,value:Array.isArray(u.value.children)?"":u.value.children}]}),r=x(function(){if(!u.value||!Vt(u.value))return[];var o=t.value||a.componentMap[u.value.name]||a.elementsMap[u.value.name];return o?(o.props||[]).map(function(s){var c;return J(J({},s),{},{value:(c=u.value.getPropValue(s.name))!==null&&c!==void 0?c:s.defaultValue})}):[]}),i=function(s){return n.value.some(function(c){return c.name===s})||r.value.some(function(c){return c.name===s})},l=x(function(){return!u.value||!Vt(u.value)?[]:Object.keys(u.value.props).filter(function(o){return!i(o)}).map(function(o){return{name:o,setters:"InputSetter",value:u.value.getPropValue(o)}})});return{commonProps:n,componentProps:r,onChange:function(s,c){s==="children"?u.value.setChildren(c):u.value.setProp(s,c)},customProps:l,addCustom:function(s){s&&u.value.setProp(s,"")},isExist:i,removeProp:function(s){u.value.removeProp(s)},blockDescription:t}}function ei(u,a){var e=D();ce(u,function(){var i=K(O().mark(function l(o){return O().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!o){c.next=9;break}return c.next=3,a.getBlockDescription(o.from);case 3:if(c.t0=c.sent,c.t0){c.next=6;break}c.t0=void 0;case 6:e.value=c.t0,c.next=10;break;case 9:e.value=void 0;case 10:case"end":return c.stop()}},l)}));return function(l){return i.apply(this,arguments)}}(),{immediate:!0});var t=x(function(){var i;if(se(u.value))return[];var l=((i=u.value)===null||i===void 0?void 0:i.events)||{};return aa.map(function(o){return{name:o,event:l[o]}})}),n=x(function(){var i;if(se(u.value))return[];var l=((i=u.value)===null||i===void 0?void 0:i.events)||{};return ia.map(function(o){return{name:o,event:l[o]}})}),r=x(function(){var i,l,o;if(se(u.value))return[];var s=((i=u.value)===null||i===void 0?void 0:i.events)||{};return(((l=e.value)===null||l===void 0?void 0:l.events)||((o=a.componentMap[u.value.name])===null||o===void 0?void 0:o.events)||[]).map(function(c){var v=typeof c=="string"?c:c.name;return{name:v,event:s[v]}})});return{mouseEventList:t,keyboardEventList:n,componentEventList:r}}var At=function(){function u(a,e,t){ge(this,u),R(this,"isUnset",!1),this.name=a,this.value=e,this.defaultValue=t,this.setValue(e)}return he(u,[{key:"setValue",value:function(e){this.value=e,this.isUnset=this.value===this.defaultValue}},{key:"getValue",value:function(){var e;return(e=this.value)!==null&&e!==void 0?e:this.defaultValue}}],[{key:"toDsl",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.entries(e).reduce(function(t,n){var r=De(n,2),i=r[0],l=r[1];return l.isUnset||(t[i]=l.getValue()),t},{})}},{key:"parse",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.entries(e).reduce(function(t,n){var r=De(n,2),i=r[0],l=r[1];return t[i]=new u(i,l),t},{})}}]),u}(),vt=function(){function u(a){ge(this,u),R(this,"id",void 0),R(this,"name",""),R(this,"arg",void 0),R(this,"modifiers",void 0),R(this,"value",void 0),R(this,"iterator",void 0),this.id=a.id||Re(),this.update(a)}return he(u,[{key:"update",value:function(e){var t=e.name,n=e.arg,r=e.modifiers,i=e.value,l=e.iterator;this.name=t,this.arg=n,this.modifiers=r,this.value=i,this.iterator=l}}],[{key:"parse",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(function(t){return new u(t)})}},{key:"toDsl",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(function(t){var n=t.name,r=t.arg,i=t.modifiers,l=t.value,o=t.iterator,s=t.id;return{id:s,name:n,arg:r,modifiers:i,value:l,iterator:o}})}}]),u}(),Dt=function(){function u(a,e){ge(this,u),R(this,"handler",void 0),R(this,"modifiers",{}),this.name=a;var t=e.handler;this.handler=t,this.update(e)}return he(u,[{key:"update",value:function(e){var t=e.handler,n=e.modifiers,r=n===void 0?{}:n;this.handler=t,this.modifiers=r}}],[{key:"toDsl",value:function(e){return Object.entries(e).reduce(function(t,n){var r=De(n,2),i=r[0],l=r[1],o=l.handler,s=l.modifiers;return t[i]={handler:o,modifiers:s},t},{})}},{key:"parse",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.entries(e).reduce(function(t,n){var r=De(n,2),i=r[0],l=r[1];return t[i]=new u(i,l),t},{})}}]),u}(),ft=function(){function u(a){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;ge(this,u),R(this,"__VTJ_NODE__",!0),R(this,"id",void 0),R(this,"name",void 0),R(this,"from",void 0),R(this,"invisible",!1),R(this,"props",{}),R(this,"children",""),R(this,"slot",void 0),R(this,"directives",[]),R(this,"events",{}),R(this,"disposed",!1),R(this,"root",null),R(this,"lock",!1),this.schema=a,this.parent=e;var t=a.id,n=a.name,r=a.from,i=r===void 0?"":r;this.id=t||Re(),this.name=n,this.from=i,e&&(this.root=se(e)?e:e.root),this.update(a,!0),u.nodes[this.id]=this}return he(u,[{key:"update",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Object.assign(this.schema,e);var n=e.children,r=e.slot,i=e.props,l=e.directives,o=e.events;this.invisible=!!e.invisible,this.setChildren(n,t),this.setSlot(r,t),this.props=At.parse(i),this.directives=vt.parse(l),this.events=Dt.parse(o)}},{key:"dispose",value:function(){var e=this.children,t=this.disposed;t||(Array.isArray(e)&&e.forEach(function(n){return n.dispose()}),this.parent&&this.parent.removeChild(this),this.parent=null,this.root=null,this.disposed=!0,delete u.nodes[this.id])}},{key:"toDsl",value:function(){var e=this.id,t=this.name,n=this.from,r=this.invisible,i=this.slot,l=this.children,o=this.props,s=this.directives,c=this.events,v=Array.isArray(l)?l.filter(function(f){return!f.invisible}).map(function(f){return f.toDsl()}):l;return J(J({},this.schema),{},{id:e,name:t,from:n,invisible:r,slot:i,children:v,props:At.toDsl(o),directives:vt.toDsl(s),events:Dt.toDsl(c)})}},{key:"setChildren",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=this.disposed;r||(Array.isArray(t)?this.children=t.map(function(i){return new u(i,e)}):this.children=t,n||N.emit(G,this))}},{key:"setSlot",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.slot=typeof e=="string"?{name:e,params:[]}:e,t||N.emit(G,this)}},{key:"setProp",value:function(e,t){var n=this.props[e];n?n.setValue(t):this.props[e]=new At(e,t),N.emit(G,this)}},{key:"removeProp",value:function(e){delete this.props[e],N.emit(G,this)}},{key:"getPropValue",value:function(e){var t=this.props[e];if(t)return t.getValue()}},{key:"setEvent",value:function(e,t){var n=this.events[e];n?n.update(t):this.events[e]=new Dt(e,t),N.emit(G,this)}},{key:"removeEvent",value:function(e){delete this.events[e],N.emit(G,this)}},{key:"setDirective",value:function(e){var t=this.directives.findIndex(function(n){return n.id===e.id});t>=0?this.directives.splice(t,1,e):this.directives.push(e),N.emit(G,this)}},{key:"removeDirective",value:function(e){var t=this.directives.findIndex(function(n){return n.id===e.id});t>=0&&this.directives.splice(t,1),N.emit(G,this)}},{key:"appendChild",value:function(e){var t=this.children,n=this.disposed;n||(e.parent=this,e.root=this.root,Array.isArray(t)?t.push(e):this.children=[e],N.emit(G,this))}},{key:"insertChild",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=this.children,r=this.disposed;r||(e.parent=this,e.root=this.root,Array.isArray(n)?n.splice(t,0,e):this.children=[e],N.emit(G,this))}},{key:"removeChild",value:function(e){var t=this.children,n=this.disposed;if(!(n||!Array.isArray(t))){var r=t.findIndex(function(i){return i===e});e.parent=null,e.root=null,t.splice(r,1),N.emit(G,this)}}},{key:"insertAfter",value:function(e){if(this.parent){var t=this.parent.children;if(Array.isArray(t)){e.parent=this.parent,e.root=this.root;var n=t.indexOf(this);t.splice(n+1,0,e),N.emit(G,this.parent)}}}},{key:"insertBefore",value:function(e){if(this.parent){var t=this.parent.children;if(Array.isArray(t)){e.parent=this.parent,e.root=this.root;var n=t.indexOf(this);t.splice(n,0,e),N.emit(G,this.parent)}}}},{key:"moveNext",value:function(){var e=this.parent;if(e){var t=e.children;if(Array.isArray(t)){var n=t.indexOf(this);n>-1&&n<t.length-1&&(t.splice(n,1),t.splice(n+1,0,this),N.emit(G,e))}}}},{key:"movePrev",value:function(){var e=this.parent;if(e){var t=e.children;if(Array.isArray(t)){var n=t.indexOf(this);n>0&&(t.splice(n,1),t.splice(n-1,0,this),N.emit(G,e))}}}},{key:"copy",value:function(){if(this.parent){var e=this.toDsl();delete e.id;var t=new u(e);return this.insertAfter(t),t}}}]),u}();R(ft,"nodes",{});var yn=["name","title","inject","state","lifeCycles","methods","computed","watch","css","props","emits","slots","transform","dataSources"],It=function(){function u(a){ge(this,u),R(this,"__VTJ_BLOCK__",!0),R(this,"id",void 0),R(this,"name",""),R(this,"title",""),R(this,"inject",[]),R(this,"state",{}),R(this,"lifeCycles",{}),R(this,"methods",{}),R(this,"computed",{}),R(this,"watch",[]),R(this,"css",""),R(this,"props",[]),R(this,"emits",[]),R(this,"slots",[]),R(this,"transform",{}),R(this,"dataSources",{}),R(this,"children",[]),R(this,"lock",!1),R(this,"invisible",!1),R(this,"disposed",!1),R(this,"parent",null),R(this,"root",null),R(this,"runtimeContext",void 0);var e=a.id;this.id=e||Re(),this.init(a)}return he(u,[{key:"init",value:function(e){for(var t=this,n=0,r=yn;n<r.length;n++){var i=r[n],l=e[i];l&&(this[i]=l)}var o=e.children,s=o===void 0?[]:o;this.children=s.map(function(c){return new ft(c,t)})}},{key:"dispose",value:function(){this.children.map(function(e){return e.dispose()}),this.runtimeContext=void 0,this.disposed=!0}},{key:"toDsl",value:function(){var e=this,t=this.__VTJ_BLOCK__,n=this.id,r=this.children;return J(J({},yn.reduce(function(i,l){return i[l]=e[l],i},{})),{},{__VTJ_BLOCK__:t,id:n,children:r.map(function(i){return i.toDsl()})})}},{key:"appendChild",value:function(e,t,n){t?n==="left"||n==="top"?t.insertBefore(e):n==="right"||n==="bottom"?t.insertAfter(e):t.appendChild(e):(e.parent=this,e.root=this,this.children.push(e),N.emit(G,this))}},{key:"removeChild",value:function(e){if(e.parent===this){var t=this.children.findIndex(function(n){return n.id===e.id||n===e});t>-1&&(e.parent=null,e.root=null,this.children.splice(t,1),N.emit(G,this))}else e.parent&&e.parent.removeChild(e)}},{key:"allowDrop",value:function(){var a=K(O().mark(function t(n,r,i){var l,o,s,c,v,f,m,g,h;return O().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!se(r)){b.next=2;break}return b.abrupt("return",!0);case 2:return l=i.componentMap,b.next=5,i.getBlockDescription(r.from);case 5:if(b.t0=b.sent,b.t0){b.next=8;break}b.t0=l[r.name];case 8:if(o=b.t0,!(!o||!n)){b.next=11;break}return b.abrupt("return",!0);case 11:return s=n.parentIncludes,c=s===void 0?!0:s,v=n.name,f=o.childIncludes,m=f===void 0?!0:f,g=c===!0||Array.isArray(c)&&c.includes(r.name),h=m===!0||Array.isArray(m)&&m.includes(v),b.abrupt("return",g&&h);case 13:case"end":return b.stop()}},t)}));function e(t,n,r){return a.apply(this,arguments)}return e}()},{key:"move",value:function(e,t,n){this.removeChild(e),se(t)?t.appendChild(e):this.appendChild(e,t,n)}},{key:"setState",value:function(e,t){this.state[e]=t,N.emit(G,this)}},{key:"removeState",value:function(e){delete this.state[e],N.emit(G,this)}},{key:"setComputed",value:function(e,t){this.computed[e]=t,N.emit(G,this)}},{key:"removeComputed",value:function(e){delete this.computed[e],N.emit(G,this)}},{key:"setMethods",value:function(e,t){this.methods[e]=t,N.emit(G,this)}},{key:"removeMethods",value:function(e){delete this.methods[e],N.emit(G,this)}},{key:"setLifeCycles",value:function(e,t){this.lifeCycles[e]=t,N.emit(G,this)}},{key:"removeLifeCycles",value:function(e){delete this.lifeCycles[e],N.emit(G,this)}},{key:"setWatch",value:function(e){e.id=e.id||Re();var t=this.watch.findIndex(function(n){return n.id&&n.id===e.id||n===e});t>-1?this.watch.splice(t,1,e):this.watch.push(e),N.emit(G,this)}},{key:"removeWatch",value:function(e){var t=this.watch.findIndex(function(n){return n.id&&n.id===e.id||n===e});t>-1&&(this.watch.splice(t,1),N.emit(G,this))}},{key:"setCss",value:function(e){this.css=e,N.emit(G,this)}},{key:"setProp",value:function(e){var t=this.props.findIndex(function(n){return typeof n=="string"?n===e.name:n.name===e.name});t>-1?this.props.splice(t,1,e):this.props.push(e),N.emit(G,this)}},{key:"removeProp",value:function(e){var t=this.props.findIndex(function(n){return typeof n=="string"?n===e.name:n.name===e.name});t>-1&&(this.props.splice(t,1),N.emit(G,this))}},{key:"setEmit",value:function(e){var t=this.emits.findIndex(function(n){return n===e});t>-1?this.emits.splice(t,1,e):this.emits.push(e),N.emit(G,this)}},{key:"removeEmit",value:function(e){var t=this.emits.findIndex(function(n){return n===e});t>-1&&(this.emits.splice(t,1),N.emit(G,this))}},{key:"setSlot",value:function(e){var t=this.slots.findIndex(function(n){return n===e});t>-1?this.slots.splice(t,1,e):this.slots.push(e),N.emit(G,this)}},{key:"removeSlot",value:function(e){var t=this.slots.findIndex(function(n){return n===e});t>-1&&(this.slots.splice(t,1),N.emit(G,this))}},{key:"setInject",value:function(e){var t=this.inject.findIndex(function(n){return n.name===e.name});t>-1?this.inject.splice(t,1,e):this.inject.push(e),N.emit(G,this)}},{key:"removeInject",value:function(e){var t=this.inject.findIndex(function(n){return n.name===e.name});t>-1&&(this.inject.splice(t,1),N.emit(G,this))}},{key:"setDataSource",value:function(e){this.dataSources[e.name]=e,N.emit(G,this)}},{key:"removeDataSource",value:function(e){delete this.dataSources[e],N.emit(G,this)}}]),u}(),ti=function(){function u(a){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];ge(this,u),R(this,"__VTJ_PROJECT__",!0),R(this,"id",""),R(this,"name",""),R(this,"description",""),R(this,"homepageId",""),R(this,"dependencies",D([])),R(this,"pages",D([])),R(this,"blocks",D([])),R(this,"apis",D([])),R(this,"current",D(null)),this.source=e,this.load(a)}return he(u,[{key:"load",value:function(e){var t=e||{},n=t.id,r=t.description,i=r===void 0?"":r,l=t.name,o=l===void 0?"":l,s=t.homepageId,c=s===void 0?"":s,v=t.dependencies,f=v===void 0?[]:v,m=t.pages,g=m===void 0?[]:m,h=t.blocks,_=h===void 0?[]:h,b=t.apis,y=b===void 0?[]:b;this.id=n||Re(),this.description=i,this.name=o,this.homepageId=c,this.dependencies.value=this.mergeDeps(f,this.source),this.pages.value=g,this.blocks.value=_,this.apis.value=y}},{key:"update",value:function(e){var t=this.toDsl();Object.assign(t,e),this.load(t),N.emit(Se,t)}},{key:"activeFile",value:function(e){this.current.value=e?new It(e):null,N.emit(to,this.current.value)}},{key:"mergeDeps",value:function(e,t){var n=e.filter(function(i){return!!i.official}),r=e.filter(function(i){return!i.official});return t.map(function(i){var l=n.find(function(o){return o.package===i.package});return Object.assign(i,l||{})}).concat(r)}},{key:"setDeps",value:function(e){var t=this.dependencies.value,n=t.findIndex(function(r){return r.package===e.package});n>-1?t.splice(n,1,J(J({},t[n]),e)):t.push(gt(e)),N.emit(Se,this.toDsl())}},{key:"removeDeps",value:function(e){var t=this.dependencies.value,n=t.findIndex(function(r){return r.package===e.package});n>-1&&(t.splice(n,1),N.emit(Se,this.toDsl()))}},{key:"toDsl",value:function(){var e=this.id,t=this.description,n=this.name,r=this.homepageId,i=this.dependencies,l=this.pages,o=this.blocks,s=this.apis,c=this.__VTJ_PROJECT__;return{__VTJ_PROJECT__:c,__VTJ_VERSION__:Un,__VTJ_DATE__:Date.now().toString(),id:e,description:t,name:n,homepageId:r,dependencies:d(i),pages:d(l),blocks:d(o),apis:d(s)}}},{key:"findPage",value:function(e){var t=function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=Pe(i),o;try{for(l.s();!(o=l.n()).done;){var s=o.value;if(s.id===r)return s;if(s.children&&s.children.length){var c=n(r,s.children);if(c)return c}}}catch(v){l.e(v)}finally{l.f()}};return t(e,this.pages.value)}},{key:"getPages",value:function(){return ya(this.pages.value)}},{key:"getHomePage",value:function(){return this.getPages().find(function(e){return!!e.home})}},{key:"clearHomePage",value:function(){this.getPages().forEach(function(e){e.home=!1})}},{key:"addPage",value:function(e,t){var n=e.name,r=e.title,i=e.isDir,l=e.home,o=new It({name:n,title:r}),s=o.toDsl();if(e.id=s.id,l&&(this.clearHomePage(),e.home=!0),i&&(e.children=[]),t){var c=this.findPage(t);c&&(c.children?c.children.push(e):c.children=[e])}else this.pages.value.push(e);return i||N.emit(ot,s),N.emit(Se,this.toDsl()),o}},{key:"updatePage",value:function(e,t){if(e.id){var n=this.findPage(e.id);n&&(Object.assign(n,e),n.home&&(this.clearHomePage(),n.home=!0),t&&(t.name=n.name,t.title=n.title,N.emit(Ut,t)),N.emit(Se,this.toDsl()))}}},{key:"copyPage",value:function(e,t,n){var r,i=Re(),l=J(J({},e),{},{id:i}),o=J(J({},t),{},{id:i}),s=n?((r=this.findPage(n))===null||r===void 0?void 0:r.children)||[]:this.pages.value,c=s.findIndex(function(v){return v.id===e.id});s.splice(c,0,l),N.emit(ot,o),N.emit(Se,this.toDsl())}},{key:"removePage",value:function(e){var t=function n(r,i){var l=i.findIndex(function(v){return v.id===r});if(l>=0){i.splice(l,1);return}var o=Pe(i),s;try{for(o.s();!(s=o.n()).done;){var c=s.value;if(c.children&&c.children.length)return n(r,c.children)}}catch(v){o.e(v)}finally{o.f()}};t(e,this.pages.value),N.emit(xt,e),N.emit(Se,this.toDsl())}},{key:"addBlock",value:function(e){var t=new It(e),n=t.toDsl(),r=n.id,i=n.name,l=n.title,o={id:r,name:i,title:l};return this.blocks.value.push(o),N.emit(ot,n),N.emit(Se,this.toDsl()),t}},{key:"updateBlock",value:function(e,t){var n=e.id;Object.assign(t,e);var r=this.blocks.value,i=r.findIndex(function(l){return l.id===n});i>-1&&(r.splice(i,1,e),N.emit(Ut,t),N.emit(Se,this.toDsl()))}},{key:"removeBlock",value:function(e){var t,n=this.blocks.value,r=n.findIndex(function(i){return i.id===e});r>-1&&(((t=this.current.value)===null||t===void 0?void 0:t.id)===e&&this.activeFile(null),n.splice(r,1),N.emit(xt,e),N.emit(Se,this.toDsl()))}},{key:"findBlock",value:function(e){return this.blocks.value.find(function(t){return t.id===e})}},{key:"existBlockName",value:function(e){return this.blocks.value.some(function(t){return t.name===e.name&&t.id!==e.id})}},{key:"getFile",value:function(e){var t=this.findBlock(e);return t||this.findPage(e)}},{key:"isPage",value:function(e){return typeof(e==null?void 0:e.isDir)=="boolean"}},{key:"setApi",value:function(e){var t=this.apis.value,n=t.findIndex(function(r){return r.name===e.name});n>-1?t.splice(n,1,e):t.push(e),N.emit(Se,this.toDsl())}},{key:"removeApi",value:function(e){var t=this.apis.value,n=t.findIndex(function(r){return r.name===e});n>-1&&(t.splice(n,1),N.emit(Se,this.toDsl()))}}]),u}(),ni=function(){function u(a){ge(this,u),R(this,"index",-1),R(this,"list",[]),R(this,"max",void 0),R(this,"blockId",void 0);var e=a.history,t=a.max,n=t===void 0?50:t;this.blockId=e.blockId,this.max=n,this.refresh(e.items||[])}return he(u,[{key:"refresh",value:function(e){this.index=-1,this.list=Pn(e)}},{key:"go",value:function(){var e=this.index,t=this.list;if(!(e<0)){--this.index;var n=t[this.index];n&&(N.emit(ro,n),N.emit(ze,n))}}},{key:"back",value:function(){var e=this.index,t=this.list;if(!(e>=t.length-1)){e<0&&(this.index=0),++this.index;var n=t[this.index];n&&(N.emit(ao,n),N.emit(ze,n))}}},{key:"push",value:function(e){var t=this.max,n=this.list,r=this.blockId,i={id:Re(),title:new Date().toLocaleString(),block:Me(e)};n.unshift(i),n.length>t&&(this.list=n.splice(t)),this.index=-1,N.emit(io,{blockId:r,item:i}),N.emit(pt,this.toDsl())}},{key:"load",value:function(e){var t=this.list.findIndex(function(n){return n.id===e});t>=0&&(this.index=t,N.emit(ze,this.list[t]))}},{key:"remove",value:function(e){var t=this.list.findIndex(function(l){return l.id===e}),n=this.list,r=this.blockId;if(t>-1){var i=n.splice(t,1);t===this.index?this.index=-1:this.index>=n.length&&(this.index=n.length-1),N.emit(uo,{blockId:r,item:i[0]}),N.emit(pt,this.toDsl())}}},{key:"toDsl",value:function(){var e=this.blockId,t=this.list;return{blockId:e,items:gt(t)}}}]),u}(),ri=function(a,e){return new vt({name:a,value:void 0,iterator:e})},ai=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"modelValue";return new vt({name:"vModel",value:void 0,arg:a})};function ii(u){if(!u)return[];var a=u.props,e=a===void 0?[]:a,t=u.events,n=t===void 0?[]:t;if(e.length&&n.length){var r=n.filter(function(i){return(typeof i=="string"?i:i.name).startsWith("onUpdate:")}).map(function(i){return i=typeof i=="string"?i:i.name});return r.length?e.filter(function(i){return r.some(function(l){return l.includes(i.name)})}):[]}return[]}function ui(u,a){var e=function(f){return x(function(){return u.value&&(u.value.directives||[]).find(function(m){return m.name===f})||ri(f)})},t=x(function(){return ii(a.value)}),n=function(){return x(function(){return t.value.map(function(f){return(u.value.directives||[]).find(function(m){return m.name==="vModel"&&m.arg==f.name})||ai(f.name)})})},r=e("vIf"),i=e("vShow"),l=e("vBind"),o=e("vFor"),s=n(),c={vIf:r,vShow:i,vBind:l,vFor:o};return{directives:c,vIf:r,vShow:i,vBind:l,vFor:o,vModels:s,onValueChange:function(f,m){var g=c[f];m?(g.value.value=m,u.value.setDirective(g.value)):(g.value.value=void 0,u.value.removeDirective(g.value))},onForChange:function(f,m){if(f==="value"){m?(o.value.value=m,u.value.setDirective(o.value)):u.value.removeDirective(o.value);return}(f==="item"||f==="index")&&(o.value.iterator=J(J({},o.value.iterator),{},R({},f,m||void 0)),u.value.setDirective(o.value))},onModelChange:function(f,m){var g=parseInt(f),h=s.value[g];h&&(m?(h.value=m,u.value.setDirective(h)):(h.value=void 0,u.value.removeDirective(h)))}}}function li(u){var a=D(),e=D(),t=D(),n=D(0),r=D(0),i=function(){var s=window,c=s.innerWidth,v=s.innerHeight,f=a.value;f.left,f.top;var m=f.width,g=m===void 0?0:m,h=f.height,_=h===void 0?0:h,b=Math.max((c-g)/2,0),y=Math.max((v-_)/2,0);return{x:b,y}},l=function(s){var c=window,v=c.innerWidth,f=c.innerHeight,m=e.value.getBoundingClientRect(),g=m.width,h=g===void 0?0:g,_=m.height,b=_===void 0?0:_;n.value=Math.max(0,s.x),s.x>v-h&&(n.value=Math.min(s.x,v-h)),r.value=Math.max(0,s.y),s.y>f-b&&(r.value=Math.min(s.y,f-b))};return ce(u,function(o){var s=o==null?void 0:o.panel;if(s){e.value=s,t.value=o==null?void 0:o.header,a.value=s.getBoundingClientRect();var c=i();n.value=c.x,r.value=c.y,pr(e,{initialValue:i(),handle:t,onMove:function(f){l(f)}})}}),{x:n,y:r}}var Ue=Q({name:"WidgetRenderer",props:{name:String,type:[String,Object],props:Object,disabled:Boolean,extendProps:Object,order:Number,visible:{type:Boolean,default:!0}},setup:function(a,e){e.slots;var t=Gt(on),n=D(a.visible),r=x(function(){return a.type&&t!==null&&t!==void 0&&t.skeleton?t==null?void 0:t.skeleton.getComponent(a.type):null});return ce(function(){return a.visible},function(i){i&&(n.value=i)},{immediate:!0}),ht(function(){var i=t==null?void 0:t.skeleton;if(a.name&&i){var l=Cr();i.widgetInstances[a.name]=l==null?void 0:l.refs[a.name]}}),Ke(function(){var i=t==null?void 0:t.skeleton;a.name&&i&&delete i.widgetInstances[a.name]}),function(){return r.value&&!a.disabled&&n.value?On(r.value,J({ref:a.name,name:a.name,extendProps:a.extendProps,order:a.order,style:{display:a.visible?"":"none"}},a.props)):null}}}),bn=Q({__name:"InputSetter",setup:function(a){return function(e,t){return p(),E(d(te),re({clearable:""},e.$attrs),null,16)}}}),kn=Q({__name:"SelectSetter",props:{options:{default:function(){return[]}}},setup:function(a){var e=a;return function(t,n){return p(),E(d(yt),ct(Kt(t.$attrs)),{default:k(function(){return[(p(!0),B(q,null,Y(e.options,function(r){return p(),E(d(bt),re({key:r.label},r),null,16)}),128))]}),_:1},16)}}}),oi="{{",si="}}",ci=Q({__name:"ExpressionSetter",props:{modelValue:{default:function(){return{type:"JSExpression",value:""}}}},emits:["change"],setup:function(a,e){var t=e.emit,n=a,r=ne(),i=r.project,l=function(v){var f,m=(f=i.current.value)===null||f===void 0?void 0:f.runtimeContext;return $e(v,m)},o=D(n.modelValue.value);ce(function(){return n.modelValue.value},function(c){o.value=c});var s=function(v){var f={type:"JSExpression",value:v};l(f)&&t("change",f)};return function(c,v){return p(),E(d(te),{class:"vtj-expression-setter",modelValue:o.value,"onUpdate:modelValue":v[0]||(v[0]=function(f){return o.value=f}),onChange:s},{prefix:k(function(){return[ee(Z(oi))]}),suffix:k(function(){return[ee(Z(si))]}),_:1},8,["modelValue"])}}}),we=kr(function(){return ur(()=>import("./Editor-c713e86f-86a1009f.js"),["./Editor-c713e86f-86a1009f.js","./monaco-editor-ed690010.js","./monaco-editor-456639a7.css","./@vue-ebdedd50.js"],import.meta.url)}),di=H("i",{class:"vtj-icon-more"},null,-1),vi={key:0,class:"vtj-tabs__check"},an=Q({__name:"Tabs",props:{items:{default:function(){return[]}},modelValue:{},more:{},stretch:{type:Boolean},checkable:{type:Boolean}},emits:["update:modelValue","more","tab-remove"],setup:function(a,e){var t,n,r=e.emit,i=a,l=D((t=i.modelValue||((n=i.items[0])===null||n===void 0?void 0:n.name))!==null&&t!==void 0?t:"");ce(l,function(){r("update:modelValue",l.value)}),ce(function(){return i.modelValue},function(c){l.value=c});var o=function(v){r("more",v)},s=function(v){r("tab-remove",v)};return function(c,v){return p(),E(Ee,re({class:"vtj-tabs"},c.$attrs),{title:k(function(){return[C(d(Ft),{type:"card",modelValue:l.value,"onUpdate:modelValue":v[0]||(v[0]=function(f){return l.value=f}),onTabRemove:s,stretch:i.stretch},{default:k(function(){return[(p(!0),B(q,null,Y(i.items,function(f){return p(),E(d(Tt),{key:f.name,label:f.label,name:f.name,closable:f.closable,lazy:""},null,8,["label","name","closable"])}),128))]}),_:1},8,["modelValue","stretch"])]}),tools:k(function(){return[i.more?(p(),E(d(Yt),{key:0,"hide-on-click":!1,size:"small",placement:"bottom-end",onCommand:o},{dropdown:k(function(){return[C(d(Zt),null,{default:k(function(){return[(p(!0),B(q,null,Y(i.more,function(f){return p(),E(d(Xt),{key:f.name,command:f},{default:k(function(){return[i.checkable?(p(),B("span",vi,[H("i",{class:ie(`${f.checked?"vtj-icon-check":"none"}`)},null,2)])):L("",!0),ee(" "+Z(f.label),1)]}),_:2},1032,["command"])}),128))]}),_:1})]}),default:k(function(){return[di]}),_:1})):L("",!0)]}),default:k(function(){return[de(c.$slots,"default")]}),_:3},16)}}}),_n=Q({__name:"Icon",props:{icon:{},label:{},active:{type:Boolean,default:!1},open:{type:Boolean,default:!1}},emits:["click"],setup:function(a,e){var t=e.emit,n=a,r=x(function(){return{"is-active":n.active,"is-open":n.open}}),i=function(){t("click")};return function(l,o){return p(),E(d(Tn),{effect:"dark",placement:"right",content:l.label,"show-after":600},{default:k(function(){return[H("div",{class:ie(["vtj-icon",r.value]),onClick:i},[H("i",{class:ie(l.icon)},null,2)],2)]}),_:1},8,["content"])}}}),me=Q({__name:"SubPanel",setup:function(a){return function(e,t){return p(),E(Ee,re({class:"vtj-sub-panel"},e.$attrs),In({default:k(function(){return[de(e.$slots,"default")]}),_:2},[e.$slots.footer?{name:"footer",fn:k(function(){return[de(e.$slots,"footer")]}),key:"0"}:void 0]),1040)}}}),fi=["onClick"],pi={class:"vtj-data-item__title"},mi={class:"vtj-data-item__action"},hi=["onClick"],gi=["onClick"],yi={key:0,class:"vtj-data-item__body"},ke=Q({__name:"DataItem",props:{title:{default:""},content:{default:""},editable:{type:Boolean,default:!1},removable:{type:Boolean,default:!1},active:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},background:{type:Boolean,default:!0}},emits:["click","remove","edit"],setup:function(a,e){var t=e.emit,n=a,r=D(n.collapsed),i=function(){t("edit")},l=function(){t("remove")},o=function(){n.clickable?t("click"):s()},s=function(){n.collapsible&&(r.value=!r.value)};return function(c,v){return p(),B("div",{class:ie(["vtj-data-item",{"is-current":n.active}])},[H("div",{class:ie(["vtj-data-item__header",{"is-pointer":n.clickable||n.collapsible,"is-bg":n.background}]),onClick:o},[n.collapsible?(p(),B("i",{key:0,class:ie(["vtj-icon-greater arrow",{open:!r.value}]),onClick:ue(s,["stop"])},null,10,fi)):L("",!0),H("div",pi,[de(c.$slots,"title",{},function(){return[ee(Z(n.title),1)]})]),H("div",mi,[de(c.$slots,"action"),n.editable?(p(),B("i",{key:0,class:"vtj-icon-edit",title:"编辑",onClick:ue(i,["stop"])},null,8,hi)):L("",!0),n.removable?(p(),B("i",{key:1,class:"vtj-icon-remove",title:"删除",onClick:ue(l,["stop"])},null,8,gi)):L("",!0)])],2),n.content||c.$slots.default?Ne((p(),B("div",yi,[de(c.$slots,"default",{},function(){return[ee(Z(n.content),1)]})],512)),[[We,!r.value]]):L("",!0)],2)}}}),bi={class:"vtj-context-viewer"},ki=["onClick"],_i=Q({__name:"ContextViewer",emits:["pick"],setup:function(a,e){var t=e.emit,n=$n({}),r=n.copy,i=ne(),l=i.project,o=x(function(){var h;return(h=l.current.value)===null||h===void 0?void 0:h.runtimeContext}),s=["$provider","$apis","$components","context"],c=function(_){var b=_.value,y=St(b);return y==="Object"||y==="Module"?Object.keys(b||{}).length===0:y==="Array"?b.length===0:!0},v=function(_){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"this";return typeof _=="object"?Array.isArray(_)?_.map(function(y,w){var A=`[${w}]`;return{label:A,value:y,type:St(y),path:`${b}${A}`}}):Object.entries(_).map(function(y){var w=De(y,2),A=w[0],j=w[1];return{label:A,value:j,type:St(j),path:`${b}.${A}`}}).filter(function(y){return!y.label.startsWith("__")&&!s.includes(y.label)}):[]},f=function(_,b){if(_.level===0)b(v(o.value));else{var y=gt(_.data.value);b(v(y,_.data.path))}},m=function(_){r(_.path),Ve.success({message:"已经复制到粘贴板"})},g=function(_){t("pick",_.path)};return function(h,_){return p(),B("div",bi,[o.value?(p(),E(d(en),{key:0,lazy:"",load:f,"expand-on-click-node":!1,props:{isLeaf:c}},{default:k(function(b){var y=b.data;return[C(d(ke),{title:y.label,clickable:"",onClick:function(A){return g(y)}},{action:k(function(){return[H("i",{class:"vtj-icon-copy",title:"复制",onClick:ue(function(w){return m(y)},["stop"])},null,8,ki)]}),_:2},1032,["title","onClick"])]}),_:1},8,["props"])):L("",!0)])}}}),wi={key:0,class:"vtj-binder__common"},Ci=["onClick"],Si={class:"vtj-binder__footer"},_t=Q({__name:"Binder",props:{clearable:{type:Boolean,default:!0}},emits:["submit","cancel","remove","pick"],setup:function(a,e){var t=e.expose,n=e.emit,r=a,i=[{name:"common",label:"常用"},{name:"viewer",label:"高级"}],l=D("common"),o=ne(),s=o.project,c=D(""),v=Xa(s.current,c),f=v.searchResult,m=$n({}),g=m.copy,h=D(),_=function(){n("submit")},b=function(){n("cancel"),h.value.close()},y=function(){n("remove")},w=function(I){n("pick",I)},A=function(I){g(I),Ve.success({message:"已经复制到粘贴板"})};return t({close:function(){h.value.close()}}),function(j,I){return p(),E(fe,{ref_key:"dialogRef",ref:h,"body-padding":!1,width:"1000px",height:"600px"},{default:k(function(){return[C(d(Ot),{class:"vtj-binder"},{default:k(function(){return[C(d(Bt),null,{default:k(function(){return[C(an,{items:i,modelValue:l.value,"onUpdate:modelValue":I[1]||(I[1]=function(T){return l.value=T})},{default:k(function(){return[l.value==="common"?(p(),B("div",wi,[C(d(te),{modelValue:c.value,"onUpdate:modelValue":I[0]||(I[0]=function(T){return c.value=T}),size:"small",clearable:"","prefix-icon":d(An),placeholder:"筛选可用项"},null,8,["modelValue","prefix-icon"]),(p(!0),B(q,null,Y(d(f),function(T){return p(),B("div",null,[C(d(nn),{"border-style":"dotted"},{default:k(function(){return[ee(Z(T.title),1)]}),_:2},1024),(p(!0),B(q,null,Y(T.items,function($){return p(),E(ke,{clickable:"",title:$,onClick:function(U){return w($)}},{action:k(function(){return[H("i",{class:"vtj-icon-copy",title:"复制",onClick:ue(function(F){return A($)},["stop"])},null,8,Ci)]}),_:2},1032,["title","onClick"])}),256))])}),256)),d(f).length?L("",!0):(p(),E(d(ve),{key:0}))])):L("",!0),l.value==="viewer"?(p(),E(_i,{key:1,onPick:w})):L("",!0)]}),_:1},8,["modelValue"])]}),_:1}),C(d(Bn),null,{default:k(function(){return[C(Ee,{title:null},{footer:k(function(){return[H("div",Si,[H("span",null,[r.clearable?(p(),E(d(ye),{key:0,size:"default",type:"warning",onClick:y},{default:k(function(){return[ee(" 移除绑定 ")]}),_:1})):L("",!0)]),H("span",null,[C(d(ye),{size:"default",onClick:b},{default:k(function(){return[ee("取消")]}),_:1}),C(d(ye),{size:"default",type:"primary",onClick:_},{default:k(function(){return[ee(" 确定 ")]}),_:1})])])]}),default:k(function(){return[de(j.$slots,"default")]}),_:3})]}),_:3})]}),_:3})]}),_:3},512)}}}),Vi=Q({__name:"VarBinder",props:{value:{default:""},defaults:{default:""},type:{default:"JSExpression"}},emits:["submit"],setup:function(a,e){var t=e.emit,n=a,r=ne(),i=r.project,l=D(n.value||n.defaults),o=x(function(){return`绑定内容 [ ${n.type} ]`}),s=D(),c=D(),v=function(h){var _,b=(_=i.current.value)===null||_===void 0?void 0:_.runtimeContext;return $e({value:h,type:n.type},b)},f=function(){var h=s.value.getEditor().getValue().trim();h?v(h)&&(t("submit",{type:n.type,value:h}),c.value.close()):Ae.warning({message:"请输入绑定内容"})},m=function(h){var _;!((_=s.value)===null||_===void 0)&&_.getEditor()&&(l.value=h)};return function(g,h){return p(),E(_t,{ref_key:"binderRef",ref:c,title:"变量绑定",onSubmit:f,onPick:m},{default:k(function(){return[C(d(le),{class:"vtj-var-binder","label-position":"top"},{default:k(function(){return[C(d(X),{label:o.value},{default:k(function(){return[C(d(we),{ref_key:"editorRef",ref:s,"model-value":l.value,width:"100%",height:"100%",dark:""},null,8,["model-value"])]}),_:1},8,["label"])]}),_:1})]}),_:1},512)}}}),ji=Q({__name:"EventBinder",props:{name:{},event:{},node:{}},emits:["submit","remove"],setup:function(a,e){var t,n,r=e.emit,i=a,l=ne(),o=l.assets,s=l.project,c=D(),v=D(),f=D(Object.keys(((t=i.event)===null||t===void 0?void 0:t.modifiers)||{})),m=x(function(){var w,A=(w=i.node)===null||w===void 0?void 0:w.name;if(!A)return[];var j=o.componentMap[A];if(j&&j.events){var I=j.events.find(function(T){return T===i.name||T.name===i.name});if(I&&I.params)return I.params||[]}return[]}),g=D(((n=i.event)===null||n===void 0||(n=n.handler)===null||n===void 0?void 0:n.value)||`(${m.value.join(", ")}) => {\r
\r
}`),h=function(A){var j,I=(j=s.current.value)===null||j===void 0?void 0:j.runtimeContext;return $e({value:A,type:"JSFunction"},I)},_=function(){var A=c.value.getEditor().getValue().trim();if(A){if(h(A)){var j={handler:{type:"JSFunction",value:A},modifiers:f.value.reduce(function(I,T){return I[T]=!0,I},{})};r("submit",j),v.value.close()}}else Ae.warning({message:"请输入绑定内容"})},b=function(A){var j;!((j=c.value)===null||j===void 0)&&j.getEditor()&&(g.value=A)},y=function(){r("remove",i.name)};return function(w,A){return p(),E(_t,{ref_key:"binderRef",ref:v,title:"事件绑定",subtitle:i.name,onSubmit:_,onPick:b,onRemove:y},{default:k(function(){return[C(d(le),{class:"vtj-event-binder","label-position":"top"},{default:k(function(){return[C(d(X),{label:"事件修饰符"},{default:k(function(){return[C(d(Fr),{modelValue:f.value,"onUpdate:modelValue":A[0]||(A[0]=function(j){return f.value=j})},{default:k(function(){return[(p(!0),B(q,null,Y(d(ua),function(j){return p(),E(d(Nr),{key:j,label:j},null,8,["label"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),C(d(X),{label:"事件处理函数"},{default:k(function(){return[C(d(we),{ref_key:"editorRef",ref:c,width:"100%",height:"360px",dark:"","model-value":g.value},null,8,["model-value"])]}),_:1})]}),_:1})]}),_:1},8,["subtitle"])}}}),Ei=["draggable","onDragstart","onClick","title"],$i=["src"],Ai={key:1,class:"vtj-components__name"},Di={key:2,class:"vtj-components__footer"},Ii=["onClick"],Pi=["onClick"],lt=Q({__name:"ComponentList",props:{list:{default:function(){return[]}},span:{default:6},editable:{type:Boolean},removable:{type:Boolean},active:{},type:{}},emits:["edit","remove","click"],setup:function(a,e){var t=e.emit,n=a;function r(v,f){return i.apply(this,arguments)}function i(){return i=K(O().mark(function v(f,m){return O().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:n.type==="Schema"&&(f.from={type:"Schema",id:f.id}),N.emit(Ht,f);case 1:case"end":return h.stop()}},v)})),i.apply(this,arguments)}function l(){N.emit(Wt)}function o(v){t("edit",v)}function s(v){t("remove",v)}function c(v){t("click",v)}return function(v,f){return n.list.length?(p(),E(d(Ur),{key:0,class:"vtj-components__box",gutter:10},{default:k(function(){return[(p(!0),B(q,null,Y(n.list,function(m){return p(),E(d(Lr),{span:n.span},{default:k(function(){return[H("div",{class:ie(["vtj-components__item",{"is-active":n.active&&n.active(m)}]),draggable:!(n.active&&n.active(m)),onDragstart:function(h){return r(m)},onDragend:l,onClick:function(h){return c(m)},title:m.name},[m.icon?(p(),B("img",{key:0,src:m.icon,alt:""},null,8,$i)):(p(),B("span",Ai,Z(m.name),1)),H("span",null,Z(m.title),1),n.editable||n.removable?(p(),B("div",Di,[n.editable?(p(),B("i",{key:0,onClick:ue(function(g){return o(m)},["stop"]),class:"vtj-icon-edit"},null,8,Ii)):L("",!0),n.removable?(p(),B("i",{key:1,onClick:ue(function(g){return s(m)},["stop"]),class:"vtj-icon-remove"},null,8,Pi)):L("",!0)])):L("",!0)],42,Ei)]}),_:2},1032,["span"])}),256))]}),_:1})):(p(),E(d(ve),{key:1,description:"暂无数据","image-size":60}))}}}),Ri={key:0,class:"vtj-list-panel__search"},Oi=H("i",{class:"vtj-icon-search"},null,-1),zn=Q({__name:"ListPanel",props:{search:{type:[Boolean,Object],default:!1},tabs:{default:void 0},columnWidth:{default:100}},emits:["search-change"],setup:function(a,e){var t,n=e.emit,r=a,i=D(null),l=D(6),o=D("");ce(o,function(){n("search-change",o.value)});var s=D((t=r.tabs)===null||t===void 0||(t=t[0])===null||t===void 0?void 0:t.name);return En(i,function(c){var v=c[0],f=v.contentRect.width,m=Math.min(Math.floor(f/120),24);l.value=Math.floor(24/m)}),function(c,v){return p(),E(Ee,{class:"vtj-list-panel",ref_key:"panel",ref:i},{default:k(function(){return[r.search?(p(),B("div",Ri,[C(d(te),re({size:"small"},c.search,{modelValue:o.value,"onUpdate:modelValue":v[0]||(v[0]=function(f){return o.value=f}),clearable:""}),{prefix:k(function(){return[Oi]}),_:1},16,["modelValue"])])):L("",!0),r.search&&o.value?(p(),E(d(Ft),{key:1},{default:k(function(){return[C(d(Tt),{label:"搜索结果"},{default:k(function(){return[de(c.$slots,"search",{search:o.value,span:l.value})]}),_:3})]}),_:3})):L("",!0),Ne(C(d(Ft),{modelValue:s.value,"onUpdate:modelValue":v[1]||(v[1]=function(f){return s.value=f}),class:"vtj-list-panel__tabs"},{default:k(function(){return[(p(!0),B(q,null,Y(r.tabs,function(f){return p(),E(d(Tt),{key:f.name,label:f.label,name:f.name,lazy:""},{default:k(function(){return[de(c.$slots,"tab",{tab:f,span:l.value},function(){return[f.component?(p(),E(Qt(f.component),re({key:0,tab:f.name,currentTab:s.value,search:o.value,span:l.value},f.props),null,16,["tab","currentTab","search","span"])):L("",!0)]})]}),_:2},1032,["label","name"])}),128))]}),_:3},8,["modelValue"]),[[We,r.tabs&&!o.value]]),de(c.$slots,"default",{currentTab:s.value,search:o.value,span:l.value})]}),_:3},512)}}}),Bi=Q({__name:"JSONSetter",props:{modelValue:{type:[Boolean,String,Number,null,Array,Object],default:void 0}},emits:["change"],setup:function(a,e){var t=e.emit,n=a,r=D(),i=D(typeof n.modelValue=="object"?JSON.stringify(n.modelValue,null,2):void 0),l=x(function(){return!!i.value}),o=D(!1),s=function(g){var h=!0;try{if(typeof JSON.parse(g)!="object")throw new Error(`"${g}" is not a JSON`)}catch(_){h=!1,Ae.error({title:"代码错误",message:(_==null?void 0:_.message)||_})}return h},c=function(){var g,h=(g=r.value)===null||g===void 0?void 0:g.getEditor();if(h){var _=h.getValue();s(_)&&(i.value=_,t("change",JSON.parse(_)),o.value=!1)}},v=function(){i.value="",t("change",void 0),o.value=!1},f=function(){o.value=!0};return function(m,g){return p(),B("div",{class:ie(["vtj-json-setter",{"is-active":l.value}])},[C(d(te),re({readonly:"",onFocus:f,"model-value":"JSON","suffix-icon":d(Dn)},m.$attrs),null,16,["suffix-icon"]),o.value?(p(),E(d(fe),{key:0,modelValue:o.value,"onUpdate:modelValue":g[0]||(g[0]=function(h){return o.value=h}),title:"JSON",width:"1000px",height:"600px",cancel:"",submit:"",clear:"",onSubmit:c,onClear:v},{default:k(function(){return[C(d(we),{ref_key:"codeEditor",ref:r,height:"100%",lang:"json",dark:"","model-value":i.value},null,8,["model-value"])]}),_:1},8,["modelValue"])):L("",!0)],2)}}}),Ti=Q({__name:"FunctionSetter",props:{modelValue:{default:function(){return{type:"JSFunction",value:""}}}},emits:["change"],setup:function(a,e){var t=e.emit,n=a,r=D(),i=D(n.modelValue.value),l=D(!1),o=x(function(){return!!i.value}),s=function(){var m,g=(m=r.value)===null||m===void 0?void 0:m.getEditor();if(g){var h=g.getValue(),_={type:"JSFunction",value:h};$e(_,{})&&(i.value=h,t("change",_),l.value=!1)}},c=function(){i.value="",t("change",void 0),l.value=!1},v=function(){l.value=!0};return function(f,m){return p(),B("div",{class:ie(["vtj-function-setter",{"is-active":o.value}])},[C(d(te),re({readonly:"",onFocus:v,"model-value":"JSFunction","suffix-icon":d(Dn)},f.$attrs),null,16,["suffix-icon"]),l.value?(p(),E(d(fe),{key:0,modelValue:l.value,"onUpdate:modelValue":m[0]||(m[0]=function(g){return l.value=g}),title:"JSFunction",width:"1000px",height:"600px",cancel:"",submit:"",clear:"",onSubmit:s,onClear:c},{default:k(function(){return[C(d(we),{ref_key:"codeEditor",ref:r,height:"100%","model-value":i.value,dark:""},null,8,["model-value"])]}),_:1},8,["modelValue"])):L("",!0)],2)}}}),Fi=Q({__name:"BooleanSetter",setup:function(a){return function(e,t){return p(),E(d(Le),re(e.$attrs,{"model-value":!!e.$attrs.modelValue}),null,16,["model-value"])}}}),Ni=Q({__name:"ColorSetter",setup:function(a){return function(e,t){return p(),E(d(Jr),ct(Kt(e.$attrs)),null,16)}}}),Li=Q({__name:"NumberSetter",props:{modelValue:{}},emits:["change"],setup:function(a,e){var t=e.emit,n=a,r=x(function(){return Ce(n.modelValue)?void 0:Number(n.modelValue||0)}),i=function(o){t("change",o)};return function(l,o){return p(),E(d(Hr),re({class:"vtj-number-setter","controls-position":"right","model-value":r.value},l.$attrs,{onChange:i}),null,16,["model-value"])}}}),Ui={class:"vtj-icon-setter"},xi={class:"vtj-icon-setter__content"},Mi={class:"vtj-icon-setter__list"},Qn=Q({__name:"IconSetter",props:{modelValue:{default:""}},emits:["change","update:modelValue"],setup:function(a,e){var t=e.emit,n=a,r=D(!1),i=D(n.modelValue),l=D(""),o=x(function(){return Rt[n.modelValue]||n.modelValue}),s=x(function(){var g=Object.entries(Rt);return l.value?g.filter(function(h){return h[0].toLowerCase().includes(l.value)}):g}),c=function(h){i.value=h},v=function(){t("change",i.value),t("update:modelValue",i.value),r.value=!1},f=function(){i.value="",t("change",""),t("update:modelValue",""),r.value=!1},m=function(){r.value=!0};return function(g,h){return p(),B("div",Ui,[C(d(te),{size:"small",readonly:"",placeholder:"请选择图标","model-value":n.modelValue,"suffix-icon":d(gr),onFocus:m},{prepend:k(function(){return[C(d(Pt),{icon:o.value},null,8,["icon"])]}),_:1},8,["model-value","suffix-icon"]),r.value?(p(),E(d(fe),{key:0,title:"图标选择器",width:"1000px",height:"600px",cancel:"",submit:"",clear:"",modelValue:r.value,"onUpdate:modelValue":h[1]||(h[1]=function(_){return r.value=_}),onSubmit:v,onClear:f},{default:k(function(){return[H("div",xi,[C(d(te),{size:"small","prefix-icon":d(An),clearable:"",modelValue:l.value,"onUpdate:modelValue":h[0]||(h[0]=function(_){return l.value=_}),placeholder:"请输入查询关键字"},null,8,["prefix-icon","modelValue"]),H("div",Mi,[(p(!0),B(q,null,Y(s.value,function(_){return p(),E(d(Pt),{icon:_[1],onClick:function(y){return c(_[0])},class:ie({"is-active":i.value===_[0]})},null,8,["icon","onClick","class"])}),256)),s.value.length===0?(p(),E(d(ve),{key:0})):L("",!0)])])]}),_:1},8,["modelValue"])):L("",!0)])}}}),wn={StringSetter:bn,InputSetter:bn,SelectSetter:kn,OptionSetter:kn,ExpressionSetter:ci,JSONSetter:Bi,FunctionSetter:Ti,BooleanSetter:Fi,ColorSetter:Ni,NumberSetter:Li,IconSetter:Qn},Kn={string:["InputSetter","SelectSetter"],number:["NumberSetter"],boolean:["BooleanSetter"],object:["JSONSetter"],function:["FunctionSetter"],array:["JSONSetter"],JSFunction:["FunctionSetter"],JSExpression:["ExpressionSetter"]},Ji={key:1},Hi={class:"vtj-setter__content"},Wi={key:0,class:"vtj-setter__input"},zi={class:"vtj-setter__action"},Qi=H("i",{class:"vtj-icon-switch",title:"切换设置器"},null,-1),Ki={key:0,class:"vtj-icon-check"},Gi={key:1,class:"vtj-icon-placeholder"},qi="{{",Yi="}}",Xi=Q({__name:"SetterView",props:{name:{},label:{default:""},title:{},setters:{},variable:{type:Boolean,default:!0},value:{},options:{default:function(){return[]}},defaultSetter:{},removable:{type:Boolean}},emits:["change","remove"],setup:function(a,e){var t=e.emit,n=a,r=D(!1),i=D(""),l=D(n.setters.find(function(y){return y.name===n.defaultSetter})||n.setters[0]),o=D(n.value),s=x(function(){return!!Ce(o.value)}),c=R({},l.value.name,o.value),v=function(w){var A;c[l.value.name]=o.value,l.value=w,o.value=(A=c[w.name])!==null&&A!==void 0?A:void 0,f(o.value)};ce(function(){return n.value},function(){o.value=n.value}),ce(function(){return n.defaultSetter},function(){l.value=n.setters.find(function(y){return y.name===n.defaultSetter})||n.setters[0]});var f=function(w){t("change",w)},m=function(){t("remove",n.name)},g=function(){r.value=!0,i.value=Ce(o.value)?o.value.value:""},h=function(){r.value=!1,i.value=""},_=function(w){c[l.value.name]=o.value,o.value=w,t("change",w),h()},b=function(){h(),o.value=void 0,t("change","")};return function(y,w){return p(),E(d(X),{class:"vtj-setter",size:"small","label-positon":"left"},{label:k(function(){return[n.title?(p(),E(d(Tn),{key:0,placement:"top-start",content:n.title},{default:k(function(){return[ee(Z(n.label||n.name),1)]}),_:1},8,["content"])):(p(),B("span",Ji,Z(n.label||n.name),1))]}),default:k(function(){return[H("div",Hi,[l.value?(p(),B("div",Wi,[s.value?L("",!0):(p(),E(Qt(l.value.component),re({key:0},l.value.props,{options:n.options,modelValue:o.value,"onUpdate:modelValue":w[0]||(w[0]=function(A){return o.value=A}),onChange:f,disabled:s.value}),null,16,["options","modelValue","disabled"])),s.value?(p(),E(d(te),{key:1,class:"vtj-expression-setter",disabled:"","model-value":"JSExpression"},{prefix:k(function(){return[ee(Z(qi))]}),suffix:k(function(){return[ee(Z(Yi))]}),_:1})):L("",!0)])):L("",!0),H("div",zi,[n.variable?(p(),B("i",{key:0,onClick:g,class:ie(["vtj-icon-vars",{"is-active":s.value}]),title:"绑定变量"},null,2)):L("",!0),n.setters.length>1?(p(),E(d(Yt),{key:1,disabled:s.value,size:"small","popper-class":"vtj-setter-switch",onCommand:v},{dropdown:k(function(){return[C(d(Zt),null,{default:k(function(){return[(p(!0),B(q,null,Y(n.setters,function(A){return p(),E(d(Xt),{command:A,key:A.name},{default:k(function(){return[A.name==l.value.name?(p(),B("i",Ki)):(p(),B("i",Gi)),ee(" "+Z(A.label),1)]}),_:2},1032,["command"])}),128))]}),_:1})]}),default:k(function(){return[Qi]}),_:1},8,["disabled"])):L("",!0),n.removable?(p(),B("i",{key:2,onClick:m,class:"vtj-icon-remove",title:"删除"})):L("",!0)])]),r.value?(p(),E(Vi,{key:0,type:"JSExpression",value:i.value,modelValue:r.value,"onUpdate:modelValue":w[1]||(w[1]=function(A){return r.value=A}),onSubmit:_,onRemove:b},null,8,["value","modelValue"])):L("",!0)]}),_:1})}}}),Ie=Q({name:"SetterRenderer",props:{name:String,label:String,title:String,value:{type:[String,Object,Array,Number,Boolean],default:void 0},setters:{type:[String,Object,Array],required:!0,default:function(){return[]}},options:{type:Array,default:function(){return[]}},variable:{type:Boolean,default:!0},removable:{type:Boolean,default:!1}},computed:{computedSetters:function(){var a=this;return(Array.isArray(this.setters)?this.setters:[this.setters]).map(function(e){var t;if(typeof e=="string")return t=a.getComopnent(e),{component:st(t),name:e,label:e,props:{}};{var n=e;return t=n.component||a.getComopnent(n.name),{component:st(t),name:n.name,label:n.label||n.name,props:n.props}}})},computedOptions:function(){return(this.options||[]).map(function(a){return typeof a=="string"?{label:a,value:a}:a})},defaultSetter:function(){var a,e,t=this.value,n=this.computedSetters,r=typeof t;r==="object"&&(Array.isArray(t)?r="array":Ce(t)?r="JSExpression":kt(t)&&(r="JSFunction"));var i=Kn[r]||[];return i.length?(a=n.find(function(l){return i.includes(l.name)})||n[0])===null||a===void 0?void 0:a.name:(e=n[0])===null||e===void 0?void 0:e.name}},render:function(){var a=this.name,e=this.label,t=this.title,n=this.value,r=this.computedSetters,i=this.computedOptions,l=this.variable,o=this.changeValue,s=this.defaultSetter,c=this.removable,v=this.onRemove;return On(Xi,{name:a,label:e,title:t,setters:r,defaultSetter:s,variable:l,value:n,removable:c,options:i,onChange:o,onRemove:v})},emits:["change","remove"],methods:{getComopnent:function(a){return typeof a=="string"?wn[a]||wn.InputSetter:a},changeValue:function(a){this.$emit("change",this.name,a)},onRemove:function(a){this.$emit("remove",a)}}}),Zi={class:"vtj-action"},eu=Q({__name:"action",setup:function(a){var e=ne(),t=e.regions,n=x(function(){return t.value.action});return function(r,i){return p(),B("div",Zi,[(p(!0),B(q,null,Y(n.value,function(l){return p(),E(d(Ue),re({key:l.name},J({},l)),null,16)}),128))])}}}),tu=function(a,e){var t=a.__vccOpts||a,n=Pe(e),r;try{for(n.s();!(r=n.n()).done;){var i=De(r.value,2),l=i[0],o=i[1];t[l]=o}}catch(s){n.e(s)}finally{n.f()}return t},nu={};function ru(u,a){return p(),B("div",null,"Empty")}var au=tu(nu,[["render",ru]]),iu=["title","src"],uu={key:1},lu=Q({__name:"Logo",props:{icon:{},text:{default:"Vtj"},link:{}},setup:function(a,e){var t=e.expose,n=a,r=function(){n.link&&(location.href=n.link)};return t({props:n}),function(i,l){return p(),B("div",{class:"vtj-logo",onClick:r},[n.icon?(p(),B("img",{key:0,title:n.text,class:"vtj-logo__icon",src:n.icon},null,8,iu)):(p(),B("span",uu,Z(n.text),1))])}}}),ou=H("div",null,"多个资源可换行输入",-1),su=Q({__name:"Dependencies",setup:function(a){var e=ne(),t=e.project,n=[{name:"add",icon:"vtj-icon-plus"}],r={package:{required:!0,message:"包名不能为空"},version:{required:!0,message:"版本不能为空"},library:{required:!0,message:"导出变量名称不能为空"},urls:{required:!0,message:"资源URL不能为空"}},i=D(),l=D(),o=D(!1),s=D(!1),c=x(function(){return t.dependencies.value}),v=function(b){t.setDeps(b)},f=function(){o.value=!0,s.value=!1,i.value={package:"",version:"",library:"",urls:"",assetsUrl:"",assetsLibrary:""}},m=function(b){o.value=!0,s.value=!0,i.value={package:b.package,version:b.version,library:b.library,urls:b.urls.join(`
`),assetsUrl:b.assetsUrl||"",assetsLibrary:b.assetsLibrary||""}},g=function(b){be.confirm("确定删除该依赖项？","提示",{type:"warning"}).then(function(){t.removeDeps(b)})},h=function(){l.value.validate(function(b){var y,w;if(b){var A=i.value,j=A.version,I=A.library,T=A.urls,$=A.assetsUrl,F=A.assetsLibrary;if((y=i.value)!==null&&y!==void 0&&y.package){var U={package:(w=i.value)===null||w===void 0?void 0:w.package,version:j,library:I,urls:T.trim().split(`
`),assetsUrl:$,assetsLibrary:F};t.dependencies.value.find(function(V){return V.package===U.package})&&!s.value?Ve.warning({message:"已存在相同名称的依赖包"}):(t.setDeps(gt(U)),o.value=!1)}}})};return function(_,b){return p(),E(Ee,{class:"vtj-deps",title:"依赖管理",tools:n,onToolClick:f},{default:k(function(){return[(p(!0),B(q,null,Y(c.value,function(y){return p(),E(ke,{key:y.package,removable:!y.official,editable:!y.official,class:ie({"vtj-deps__disabled":!y.enabled}),onEdit:function(A){return m(y)},onRemove:function(A){return g(y)}},{action:k(function(){return[!y.required&&y.official?(p(),E(d(Le),{key:0,size:"small",modelValue:y.enabled,"onUpdate:modelValue":function(A){return y.enabled=A},onChange:function(A){return v(y)}},null,8,["modelValue","onUpdate:modelValue","onChange"])):L("",!0)]}),title:k(function(){return[ee(Z(y.package)+"@"+Z(y.version),1)]}),_:2},1032,["removable","editable","class","onEdit","onRemove"])}),128)),o.value?(p(),E(fe,{key:0,modelValue:o.value,"onUpdate:modelValue":b[6]||(b[6]=function(y){return o.value=y}),title:`${s.value?"编辑":"新增"}依赖`,width:"1000px",height:"500px",submit:"",cancel:"",onSubmit:h},{default:k(function(){return[i.value?(p(),E(d(le),{key:0,ref_key:"form",ref:l,size:"small","label-width":"80px",model:i.value,rules:r},{default:k(function(){return[C(d(X),{label:"npm包名",prop:"package"},{default:k(function(){return[C(d(te),{modelValue:i.value.package,"onUpdate:modelValue":b[0]||(b[0]=function(y){return i.value.package=y}),modelModifiers:{trim:!0},readonly:s.value,disabled:s.value},null,8,["modelValue","readonly","disabled"])]}),_:1}),C(d(X),{label:"版本号",prop:"version"},{default:k(function(){return[C(d(te),{modelValue:i.value.version,"onUpdate:modelValue":b[1]||(b[1]=function(y){return i.value.version=y}),modelModifiers:{trim:!0}},null,8,["modelValue"])]}),_:1}),C(d(X),{label:"导出名称",prop:"library"},{default:k(function(){return[C(d(te),{modelValue:i.value.library,"onUpdate:modelValue":b[2]||(b[2]=function(y){return i.value.library=y}),modelModifiers:{trim:!0}},null,8,["modelValue"])]}),_:1}),C(d(X),{label:"资源URL",prop:"urls"},{default:k(function(){return[C(d(te),{type:"textarea",rows:5,modelValue:i.value.urls,"onUpdate:modelValue":b[3]||(b[3]=function(y){return i.value.urls=y})},null,8,["modelValue"]),ou]}),_:1}),C(d(X),{label:"资产URL",prop:"assetsUrl"},{default:k(function(){return[C(d(te),{modelValue:i.value.assetsUrl,"onUpdate:modelValue":b[4]||(b[4]=function(y){return i.value.assetsUrl=y}),modelModifiers:{trim:!0}},null,8,["modelValue"])]}),_:1}),C(d(X),{label:"资产名称",prop:"assetsLibrary"},{default:k(function(){return[C(d(te),{modelValue:i.value.assetsLibrary,"onUpdate:modelValue":b[5]||(b[5]=function(y){return i.value.assetsLibrary=y}),modelModifiers:{trim:!0}},null,8,["modelValue"])]}),_:1})]}),_:1},8,["model"])):L("",!0)]}),_:1},8,["modelValue","title"])):L("",!0)]}),_:1})}}}),cu=Q({__name:"Viewport",props:{mode:{default:"pc"},width:{},height:{}},setup:function(a){var e=a,t={width:390,height:844},n={width:1180,height:820},r=x(function(){return[`is-${e.mode}`]}),i=x(function(){if(e.mode==="pc")return 1;var o=e.mode==="mobile"?t:n,s=o.width,c=o.height,v=s>0?(e.width||0)/s:1,f=c>0?(e.height||0)/c:1;return Math.min(v,f)}),l=x(function(){if(e.mode==="pc")return{};var o=e.mode==="mobile"?t:n,s=o.width,c=o.height;return{width:`${s}px`,height:`${c}px`,left:"50%",top:"50%",transform:`translate(-50%, -50%) scale(${i.value})`}});return function(o,s){return p(),B("div",{class:ie(["vtj-viewport",r.value]),style:it(l.value)},[de(o.$slots,"default")],6)}}}),du={class:"vtj-actions__layers"},vu=H("i",{class:"vtj-icon-layers"},null,-1),fu={key:0,class:"vtj-actions__tools"},pu=Q({__name:"Actions",props:{position:{default:"left-top"},node:{},title:{default:""},path:{default:function(){return[]}}},emits:["action"],setup:function(a,e){var t=e.emit,n=a,r=x(function(){return se(n.node)}),i=x(function(){return n.path});function l(g){return se(g)?"Block":"Node"}function o(){if(n.node.lock){Ve.warning({message:"该节点已被锁定，不能删除"});return}be.confirm("确定删除吗？","提示",{type:"warning"}).then(function(){n.node.dispose(),tt(function(){t("action",{type:"remove"})})})}function s(){n.node.moveNext(),tt(function(){t("action",{type:"move",next:!0,node:n.node})})}function c(){n.node.movePrev(),tt(function(){t("action",{type:"move",prev:!0,node:n.node})})}function v(){var g=n.node.copy();tt(function(){t("action",{type:"copy",node:g})})}function f(g){t("action",{type:"hover",node:g})}function m(g){t("action",{type:"selected",node:g})}return function(g,h){return p(),B("div",{class:ie(["vtj-actions",[`is-${n.position}`]])},[H("div",du,[C(d(Yt),{size:"small",onCommand:m},{dropdown:k(function(){return[i.value&&i.value.length?(p(),E(d(Zt),{key:0},{default:k(function(){return[(p(!0),B(q,null,Y(i.value,function(_){return p(),E(d(Xt),{key:_.id,command:_,onMouseenter:function(y){return f(_)}},{default:k(function(){return[ee(Z(_.name)+" ",1),H("i",{class:ie(`is-${l(_)}`)},Z(l(_)),3)]}),_:2},1032,["command","onMouseenter"])}),128))]}),_:1})):L("",!0)]}),default:k(function(){return[H("div",null,[vu,ee(Z(n.title),1)])]}),_:1})]),r.value?L("",!0):(p(),B("div",fu,[H("i",{class:"vtj-icon-arrow-up",title:"向前移动",onClick:c}),H("i",{class:"vtj-icon-arrow-down",title:"向后移动",onClick:s}),H("i",{onClick:v,class:"vtj-icon-copy",title:"复制"}),H("i",{onClick:o,class:"vtj-icon-remove",title:"删除"})]))],2)}}}),mu={key:1,class:"vtj-designer__placeholder"},hu=Q({__name:"Designer",setup:function(a,e){var t=e.expose,n=ne(),r=n.engine,i=D(),l=D(),o=D({width:0,height:0});En(l,function(j){var I=j[0];o.value=I.contentRect});var s=new No(r,i,za),c=je(s),v=c.hover,f=c.dropping,m=c.selected,g=c.onAction,h=c.viewportMode,_=r.project.current,b=x(function(){var j;return((j=_.value)===null||j===void 0?void 0:j.children.length)===0}),y=x(function(){var j;return se((j=v.value)===null||j===void 0?void 0:j.node)}),w=x(function(){var j;return se((j=m.value)===null||j===void 0?void 0:j.node)}),A=x(function(){var j,I=((j=m.value)===null||j===void 0?void 0:j.rect)||{},T=I.width,$=T===void 0?0:T,F=I.height,U=F===void 0?0:F;return $>0||U>0});return t({designer:s,selected:m}),function(j,I){return p(),B("div",{ref_key:"container",ref:l,class:"vtj-designer"},[Ne(C(cu,{mode:d(h),width:o.value.width,height:o.value.height},{default:k(function(){return[H("iframe",{ref_key:"iframe",ref:i,frameborder:"0"},null,512),d(f)?(p(),B("div",{key:0,class:ie(["vtj-designer__dropping","is-inner"]),style:it(d(f).style)},null,4)):L("",!0),d(v)?(p(),B("div",{key:1,class:"vtj-designer__hover",style:it(d(v).style)},[Ne(H("span",{class:ie(["vtj-designer__hover-title",`is-${d(v).position}`])},[ee(Z(d(v).node.name)+": ",1),H("i",null,Z(d(v).node.id),1)],2),[[We,!y.value]])],4)):L("",!0),d(m)?Ne((p(),B("div",{key:2,class:"vtj-designer__selected",style:it(d(m).style)},[w.value?L("",!0):(p(),E(pu,{key:0,title:d(m).node.name,node:d(m).node,path:d(m).path,position:d(m).position,onAction:d(g)},null,8,["title","node","path","position","onAction"]))],4)),[[We,A.value]]):L("",!0)]}),_:1},8,["mode","width","height"]),[[We,d(_)]]),d(_)?L("",!0):(p(),E(d(ve),{key:0,description:"请在文档管理器新建或打开文件"})),b.value?(p(),B("div",mu," 您可以拖拽组件放置到这里 ")):L("",!0)],512)}}}),gu=Q({__name:"Components",setup:function(a){var e={placeholder:"搜索组件"},t=ne(),n=t.engine,r=n.assets||{},i=r.componentGroups,l=r.components,o=x(function(){var _={};return i&&i.forEach(function(b){_[b.name]=b}),_}),s=x(function(){return i?i.map(function(_){var b;return{label:`${_.label} (${_.count})`,name:_.name,disabled:!((b=_.children)!==null&&b!==void 0&&b.length)}}):[]}),c=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return b.map(function(y,w){return w})},v=Oe({});qt(function(){var _=s.value.reduce(function(b,y){return b[y.name]=c(o.value[y.name].children),b},{});Object.assign(v,_)});var f=Pa(l),m=f.searchKey,g=f.searchResult,h=function(b){m.value=b};return function(_,b){return p(),E(zn,{class:"vtj-components",title:"组件库",search:e,tabs:s.value,onSearchChange:h},{search:k(function(y){var w=y.span;return[C(lt,{list:d(g),span:w},null,8,["list","span"])]}),tab:k(function(y){var w,A,j=y.tab,I=y.span;return[o.value[j.name].components?(p(),E(lt,{key:0,list:o.value[j.name].components,span:I},null,8,["list","span"])):L("",!0),(w=o.value[j.name].children)!==null&&w!==void 0&&w.length?(p(),E(d(Ar),{key:1,modelValue:v[j.name],"onUpdate:modelValue":function($){return v[j.name]=$}},{default:k(function(){return[(p(!0),B(q,null,Y(o.value[j.name].children,function(T,$){return p(),E(d(Dr),{key:T.name,title:`${T.label} (${T.count})`,name:$},{default:k(function(){return[C(lt,{list:T.components,span:I},null,8,["list","span"])]}),_:2},1032,["title","name"])}),128))]}),_:2},1032,["modelValue","onUpdate:modelValue"])):L("",!0),!o.value[j.name].components&&((A=o.value[j.name].children)===null||A===void 0?void 0:A.length)===0?(p(),E(d(ve),{key:2,description:"暂无数据"})):L("",!0)]}),default:k(function(){return[!d(i)||d(i).length===0?(p(),E(d(ve),{key:0,description:"暂无数据"})):L("",!0)]}),_:1},8,["tabs"])}}}),yu=["onClick"],bu=["onClick"],ku={class:"vtj-pages__name"},_u={key:0,class:"vtj-pages__home"},wu=Q({__name:"Pages",setup:function(a){var e=ne(),t=e.project,n=e.engine,r=[{name:"add",icon:"vtj-icon-plus"}],i={name:[{required:!0,message:"名称为必填项"}],title:[{required:!0,message:"标题为必填项"}]},l=x(function(){return t.pages.value}),o=function($){var F;return $===((F=t.current.value)===null||F===void 0?void 0:F.id)},s={id:"",name:"",title:"",isDir:!1,icon:"",mask:!0,home:!1,hidden:!1},c=D(),v=D(!1),f=D(),m=D(),g=function(){var T=K(O().mark(function $(F){var U,V;return O().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(!F.isDir){P.next=2;break}return P.abrupt("return");case 2:return U=F.id,P.next=5,n.service.getFile(U);case 5:V=P.sent,t.activeFile(V);case 7:case"end":return P.stop()}},$)}));return function(F){return T.apply(this,arguments)}}(),h=function(){m.value=void 0,c.value=J({},s),v.value=!0},_=function($){m.value=$.id,c.value=J({},s),v.value=!0},b=function($){c.value=J({},$),v.value=!0},y=function(){var T=K(O().mark(function $(F,U){var V,S,P,W;return O().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return S=F.id,P=(V=U.parent)===null||V===void 0?void 0:V.data.id,z.next=4,n.service.getFile(S);case 4:W=z.sent,t.copyPage(F,W,P);case 6:case"end":return z.stop()}},$)}));return function(F,U){return T.apply(this,arguments)}}(),w=function(){var T=K(O().mark(function $(F){return O().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(F.id){V.next=2;break}return V.abrupt("return");case 2:if(!(F.children&&F.children.length>0)){V.next=5;break}return Ve.warning({message:"该目录有子页面文件，不能删除。"}),V.abrupt("return");case 5:return V.next=7,be.confirm("确定删除？","提示",{type:"warning"}).catch(function(S){return!1});case 7:if(V.t0=V.sent,!V.t0){V.next=10;break}t.removePage(F.id);case 10:case"end":return V.stop()}},$)}));return function(F){return T.apply(this,arguments)}}(),A=function(){var T=K(O().mark(function $(){var F,U;return O().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,f.value.validate().catch(function(P){return!1});case 2:if(!S.sent){S.next=18;break}if(!c.value.id){S.next=15;break}if(!c.value.isDir){S.next=8;break}S.t0=void 0,S.next=11;break;case 8:return S.next=10,n.service.getFile(c.value.id);case 10:S.t0=S.sent;case 11:F=S.t0,t.updatePage(c.value,F),S.next=17;break;case 15:U=t.addPage(c.value,m.value),!t.current.value&&!c.value.isDir&&t.activeFile(U.toDsl());case 17:v.value=!1;case 18:case"end":return S.stop()}},$)}));return function(){return T.apply(this,arguments)}}(),j=function($,F,U){return U==="inner"?!!F.data.isDir:!0},I=function(){t.update({pages:l.value})};return function(T,$){return p(),E(d(Ee),{title:"页面管理",tools:r,onToolClick:h},{default:k(function(){return[l.value.length===0?(p(),E(d(ve),{key:0,description:"您还没创建文件"})):L("",!0),l.value.length?(p(),E(d(en),{key:1,"node-key":"id","default-expand-all":!0,data:l.value,draggable:"","allow-drop":j,onNodeDrop:I,class:"vtj-pages-items"},{default:k(function(F){var U=F.node,V=F.data;return[C(d(ke),{title:V.title,active:o(V.id),onClick:function(P){return g(V)},onEdit:function(P){return b(V)},onRemove:function(P){return w(V)},clickable:!V.isDir,editable:"",removable:""},{action:k(function(){return[V.isDir?(p(),B("i",{key:0,onClick:ue(function(S){return _(V)},["stop"]),class:"vtj-icon-plus",title:"新增"},null,8,yu)):L("",!0),V.isDir?L("",!0):(p(),B("i",{key:1,onClick:ue(function(S){return y(V,U)},["stop"]),class:"vtj-icon-copy",title:"复制"},null,8,bu))]}),title:k(function(){return[C(d(Pt),{icon:d(Rt)[V.icon]||V.icon},null,8,["icon"]),ee(" "+Z(V.title)+" ",1),H("i",ku,Z(V.name),1),V.home?(p(),B("span",_u,"首页 ")):L("",!0)]}),_:2},1032,["title","active","onClick","onEdit","onRemove","clickable"])]}),_:1},8,["data"])):L("",!0),v.value?(p(),E(d(fe),{key:2,modelValue:v.value,"onUpdate:modelValue":$[7]||($[7]=function(F){return v.value=F}),width:"600px",title:c.value.id?"修改页面":"新增页面",submit:"",cancel:"",onSubmit:A},{default:k(function(){return[C(d(le),{ref_key:"formRef",ref:f,model:c.value,rules:i,size:"small","label-position":"right","label-width":"80px"},{default:k(function(){return[C(d(X),{label:"类型",prop:"isDir"},{default:k(function(){return[C(d(tn),{modelValue:c.value.isDir,"onUpdate:modelValue":$[0]||($[0]=function(F){return c.value.isDir=F}),disabled:!!c.value.id},{default:k(function(){return[C(d(qe),{label:!1},{default:k(function(){return[ee("页面")]}),_:1}),C(d(qe),{label:!0},{default:k(function(){return[ee("目录")]}),_:1})]}),_:1},8,["modelValue","disabled"])]}),_:1}),C(d(X),{label:"标题描述",prop:"title"},{default:k(function(){return[C(d(te),{modelValue:c.value.title,"onUpdate:modelValue":$[1]||($[1]=function(F){return c.value.title=F})},null,8,["modelValue"])]}),_:1}),C(d(X),{label:"名称编码",prop:"name"},{default:k(function(){return[C(d(te),{modelValue:c.value.name,"onUpdate:modelValue":$[2]||($[2]=function(F){return c.value.name=F})},null,8,["modelValue"])]}),_:1}),C(d(X),{label:"菜单图标",prop:"icon"},{default:k(function(){return[C(Qn,{modelValue:c.value.icon,"onUpdate:modelValue":$[3]||($[3]=function(F){return c.value.icon=F})},null,8,["modelValue"])]}),_:1}),c.value.isDir?L("",!0):(p(),E(d(X),{key:0,label:"包含母版",prop:"mask"},{default:k(function(){return[C(d(Le),{modelValue:c.value.mask,"onUpdate:modelValue":$[4]||($[4]=function(F){return c.value.mask=F})},null,8,["modelValue"])]}),_:1})),c.value.isDir?L("",!0):(p(),E(d(X),{key:1,label:"站点首页",prop:"mask"},{default:k(function(){return[C(d(Le),{modelValue:c.value.home,"onUpdate:modelValue":$[5]||($[5]=function(F){return c.value.home=F})},null,8,["modelValue"])]}),_:1})),c.value.isDir?L("",!0):(p(),E(d(X),{key:2,label:"隐藏菜单",prop:"mask"},{default:k(function(){return[C(d(Le),{modelValue:c.value.hidden,"onUpdate:modelValue":$[6]||($[6]=function(F){return c.value.hidden=F})},null,8,["modelValue"])]}),_:1}))]}),_:1},8,["model"])]}),_:1},8,["modelValue","title"])):L("",!0)]}),_:1})}}}),Cu=Q({__name:"Blocks",setup:function(a){var e=ne(),t=e.project,n=e.engine,r=[{name:"add",icon:"vtj-icon-plus"}],i={id:"",name:"",title:""},l={name:[{required:!0,message:"请输入组件名称",trigger:"blur"}],title:[{required:!0,message:"请输入标题备注",trigger:"blur"}]},o=D(),s=D(),c=x(function(){return t.blocks.value}),v=D(!1),f=function(w){var A;return w.id===((A=t.current.value)===null||A===void 0?void 0:A.id)},m=function(){s.value=J({},i),v.value=!0},g=function(){var y=K(O().mark(function w(){var A;return O().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,o.value.validate().catch(function(T){return!1});case 2:if(!I.sent){I.next=15;break}if(!t.existBlockName(s.value)){I.next=6;break}return Ve.warning({message:"已存在相同名称的区块，请更换名称"}),I.abrupt("return");case 6:if(!s.value.id){I.next=13;break}return I.next=9,n.service.getFile(s.value.id);case 9:A=I.sent,t.updateBlock(s.value,A),I.next=14;break;case 13:t.addBlock(s.value);case 14:v.value=!1;case 15:case"end":return I.stop()}},w)}));return function(){return y.apply(this,arguments)}}(),h=function(w){s.value=w,v.value=!0},_=function(){var y=K(O().mark(function w(A){return O().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,be.confirm("确定删除？","提示",{type:"warning"});case 2:if(I.t0=I.sent,!I.t0){I.next=5;break}t.removeBlock(A.id);case 5:case"end":return I.stop()}},w)}));return function(A){return y.apply(this,arguments)}}(),b=function(){var y=K(O().mark(function w(A){var j,I;return O().wrap(function($){for(;;)switch($.prev=$.next){case 0:return j=A.id,$.next=3,n.service.getFile(j);case 3:I=$.sent,t.activeFile(I);case 5:case"end":return $.stop()}},w)}));return function(A){return y.apply(this,arguments)}}();return function(y,w){return p(),E(d(zn),{title:"区块管理",tools:r,onToolClick:m},{default:k(function(A){var j=A.span;return[C(d(lt),{list:c.value,span:j,active:f,type:"Schema",editable:"",removable:"",onEdit:h,onRemove:_,onClick:b},null,8,["list","span"]),v.value?(p(),E(d(fe),{key:0,modelValue:v.value,"onUpdate:modelValue":w[2]||(w[2]=function(I){return v.value=I}),title:s.value.id?"修改":"新增",width:"500px",submit:"",cancel:"",onSubmit:g},{default:k(function(){return[C(d(le),{ref_key:"formRef",ref:o,size:"small",model:s.value,rules:l},{default:k(function(){return[C(d(X),{label:"组件名称",prop:"name"},{default:k(function(){return[C(d(te),{modelValue:s.value.name,"onUpdate:modelValue":w[0]||(w[0]=function(I){return s.value.name=I})},null,8,["modelValue"])]}),_:1}),C(d(X),{label:"标题备注",prop:"title"},{default:k(function(){return[C(d(te),{modelValue:s.value.title,"onUpdate:modelValue":w[1]||(w[1]=function(I){return s.value.title=I})},null,8,["modelValue"])]}),_:1})]}),_:1},8,["model"])]}),_:1},8,["modelValue","title"])):L("",!0)]}),_:1})}}}),Su=H("i",{class:"vtj-icon-pc"},null,-1),Vu=H("i",{class:"vtj-icon-phone"},null,-1),ju=H("i",{class:"vtj-icon-pad"},null,-1),Eu=H("i",{class:"vtj-icon-undo"},null,-1),$u=H("i",{class:"vtj-icon-redo"},null,-1),Au=Q({__name:"Toolbar",setup:function(a){var e=ne(),t=e.engine,n=D("pc"),r=x(function(){var c=t.simulator.history.value||{},v=c.index,f=v===void 0?0:v,m=c.list,g=m===void 0?[]:m;return f<g.length-1}),i=x(function(){var c=t.simulator.history.value||{},v=c.index,f=v===void 0?0:v;return c.list,f>0}),l=function(){var v;(v=t.simulator.history.value)===null||v===void 0||v.back()},o=function(){var v;(v=t.simulator.history.value)===null||v===void 0||v.go()},s=function(v){N.emit(qn,v)};return function(c,v){return p(),B("div",null,[C(d(tn),{size:"small",modelValue:n.value,"onUpdate:modelValue":v[0]||(v[0]=function(f){return n.value=f}),onChange:s},{default:k(function(){return[C(d(qe),{label:"pc"},{default:k(function(){return[Su]}),_:1}),C(d(qe),{label:"mobile"},{default:k(function(){return[Vu]}),_:1}),C(d(qe),{label:"pad"},{default:k(function(){return[ju]}),_:1})]}),_:1},8,["modelValue"]),L("",!0),C(d(Ir),null,{default:k(function(){return[C(d(ye),{type:"default",size:"small",onClick:l,disabled:!r.value},{default:k(function(){return[Eu]}),_:1},8,["disabled"]),C(d(ye),{type:"default",size:"small",onClick:o,disabled:!i.value},{default:k(function(){return[$u]}),_:1},8,["disabled"])]}),_:1})])}}}),Du={key:0,class:"vtj-outline__actions"},Iu=["onClick"],Pu=["onClick"],Ru=["onClick"],Ou=["onClick"],Bu=["onClick"],Tu=["onClick"],Fu={class:"vtj-outline__status"},Nu={key:0,class:"vtj-icon-invisible",title:"不可见"},Lu={key:1,class:"vtj-icon-lock",title:"已锁定"},Uu=Q({__name:"Outline",setup:function(a){var e=ne(),t=e.engine,n=e.project,r=e.assets,i=x(function(){var j;return(j=t.skeleton.widgetInstances.designer)===null||j===void 0?void 0:j.designer}),l=function(I){return I.root===null},o=D([]);function s(j){return se(j)?"Block":j.slot&&j.slot.name?`#${j.slot.name}`:"Node"}function c(j){var I=[];return j.forEach(function(T){var $={id:T.id,label:T.name,nodeType:s(T),node:T,children:[]};Array.isArray(T.children)&&($.children=c(T.children)),I.push($)}),I}function v(){o.value=n.current.value?c([n.current.value]):[]}ce(n.current,v,{immediate:!0}),N.on(G,v),Ke(function(){N.off(G,v)});var f=function(){var j=K(O().mark(function I(T,$,F){var U,V,S,P,W;return O().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(U=T.data,V=$.data.node,S=n.current.value,!(!S||!i.value||!V)){z.next=3;break}return z.abrupt("return");case 3:return P=U.node,z.next=6,i.value.getDropSlot(F==="inner"?V:V.parent);case 6:P.slot=z.sent,W={before:"left",after:"right"}[F]||"inner",S.move(P,V,W),N.emit(He,P);case 9:case"end":return z.stop()}},I)}));return function(T,$,F){return j.apply(this,arguments)}}(),m=function(I){var T=I.data;return se(T.node)||T.node.lock?!1:T.node.name!=="template"},g=function(I,T,$){var F=I.data,U=T.data;if(U.node.lock||se(U.node)&&["prev","next"].includes($))return!1;var V=n.current.value;if(!V)return!1;var S=r.componentMap[F.node.name];if($==="inner")return V.allowDrop(S,U.node,r);{var P=U.node.parent;return P&&V.allowDrop(S,P,r)}},h=function(I,T){I.invisible=T,N.emit(G,I),N.emit(He,I)},_=function(I,T){I.lock=T,N.emit(G,I),N.emit(He,I)},b=function(I){var T=I==null?void 0:I.node;!T||T.invisible||N.emit(un,T)},y=function(I){var T,$,F=(T=I.target)===null||T===void 0?void 0:T.__vueParentComponent;if(F){var U=($=F.ctx)===null||$===void 0||($=$.node)===null||$===void 0?void 0:$.data;U&&(U.node.invisible||N.emit(ln,U.node))}},w=function(I){I.copy(),N.emit(He,I)},A=function(I){be.confirm("确定删除吗？","提示",{type:"warning"}).then(function(){I.dispose(),N.emit(He,I)})};return function(j,I){return p(),E(Ee,{title:"大纲树",class:"vtj-outline"},{default:k(function(){return[C(d(en),{data:o.value,"node-key":"id","default-expand-all":"",draggable:"","empty-text":"请新建或打开文件","expand-on-click-node":!1,"allow-drop":g,"allow-drag":m,onCurrentChange:b,onNodeDrop:f,onMouseover:y},{default:k(function(T){var $=T.data;return[(p(),B("div",{key:$.node.id,class:"vtj-outline__item"},[H("span",null,[ee(Z($.label)+": ",1),H("i",{class:ie(`is-${$.nodeType}`)},Z($.nodeType),3)]),l($.node)?L("",!0):(p(),B("span",Du,[$.node.lock?L("",!0):(p(),B("i",{key:0,onClick:ue(function(F){return _($.node,!0)},["stop"]),class:"vtj-icon-lock",title:"锁定"},null,8,Iu)),$.node.lock?(p(),B("i",{key:1,onClick:ue(function(F){return _($.node,!1)},["stop"]),class:"vtj-icon-unlock",title:"解锁"},null,8,Pu)):L("",!0),!$.node.invisible&&!$.node.lock?(p(),B("i",{key:2,onClick:ue(function(F){return h($.node,!0)},["stop"]),class:"vtj-icon-invisible",title:"设置隐藏"},null,8,Ru)):L("",!0),$.node.invisible&&!$.node.lock?(p(),B("i",{key:3,onClick:ue(function(F){return h($.node,!1)},["stop"]),class:"vtj-icon-visible",title:"设置显示"},null,8,Ou)):L("",!0),$.node.root!==$.node&&!$.node.lock?(p(),B("i",{key:4,onClick:function(U){return w($.node)},class:"vtj-icon-copy",title:"复制"},null,8,Bu)):L("",!0),$.node.root!==$.node&&!$.node.lock?(p(),B("i",{key:5,onClick:ue(function(F){return A($.node)},["stop"]),class:"vtj-icon-remove",title:"删除"},null,8,Tu)):L("",!0)])),H("span",Fu,[$.node.invisible?(p(),B("i",Nu)):L("",!0),$.node.lock?(p(),B("i",Lu)):L("",!0)])]))]}),_:1},8,["data"])]}),_:1})}}}),xu={class:"vtj-setting-panel"},Mu=Q({__name:"Properties",setup:function(a){var e=ne(),t=e.assets,n=je(),r=n.selected,i=x(function(){var I;return(I=r.value)===null||I===void 0?void 0:I.node}),l=Za(i,t),o=l.commonProps,s=l.componentProps,c=l.onChange,v=l.isExist,f=l.addCustom,m=l.customProps,g=l.removeProp,h=[{name:"add",icon:"vtj-icon-plus"}],_={name:[{required:!0,message:"熟悉名称为必填项"}]},b=Oe({name:""}),y=D(!1),w=function(T){y.value=!0,b.name=""},A=function(){var T=Object.keys(i.value.props);b.name&&!v(b.name)&&!T.includes(b.name)?(f(b.name),y.value=!1):Ae.warning({message:"已存在该属性名称"})},j=function(){var I=K(O().mark(function T($){return O().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,be.confirm("确定删除?","提示",{type:"warning"}).catch(function(V){return!1});case 2:if(U.t0=U.sent,!U.t0){U.next=5;break}g($);case 5:case"end":return U.stop()}},T)}));return function($){return I.apply(this,arguments)}}();return function(I,T){return p(),B("div",xu,[C(d(me),{title:"通用属性"},{default:k(function(){return[C(d(le),{size:"small","label-width":"100px",onKeydown:T[0]||(T[0]=ut(ue(function(){},["prevent","stop"]),["enter"]))},{default:k(function(){return[(p(!0),B(q,null,Y(d(o),function($){return p(),E(d(Ie),re({key:`${$.name}_${i.value.id}`},$,{onChange:d(c)}),null,16,["onChange"])}),128))]}),_:1})]}),_:1}),d(s).length?(p(),E(d(me),{key:0,title:"组件属性"},{default:k(function(){return[C(d(le),{size:"small","label-width":"100px",onKeydown:T[1]||(T[1]=ut(ue(function(){},["prevent","stop"]),["enter"]))},{default:k(function(){return[(p(!0),B(q,null,Y(d(s),function($){return p(),E(d(Ie),re({key:`${$.name}_${i.value.id}`},$,{onChange:d(c)}),null,16,["onChange"])}),128))]}),_:1})]}),_:1})):L("",!0),C(d(me),{title:"自定义属性",tools:h,onToolClick:w},{default:k(function(){return[C(d(le),{size:"small","label-width":"100px",onKeydown:T[2]||(T[2]=ut(ue(function(){},["prevent","stop"]),["enter"]))},{default:k(function(){return[(p(!0),B(q,null,Y(d(m),function($){return p(),E(d(Ie),re({key:`${$.name}_${i.value.id}`},$,{removable:"",onChange:d(c),onRemove:j}),null,16,["onChange"])}),128))]}),_:1})]}),_:1}),C(d(fe),{modelValue:y.value,"onUpdate:modelValue":T[4]||(T[4]=function($){return y.value=$}),title:"新增属性",width:"400px",submit:"",cancel:"",onSubmit:A},{default:k(function(){return[C(d(le),{ref:"formRef",size:"small",rules:_,model:b},{default:k(function(){return[C(d(X),{label:"属性名称",prop:"name"},{default:k(function(){return[C(d(te),{modelValue:b.name,"onUpdate:modelValue":T[3]||(T[3]=function($){return b.name=$})},null,8,["modelValue"])]}),_:1})]}),_:1},8,["model"])]}),_:1},8,["modelValue"])])}}}),Ju={class:"vtj-setting-panel vtj-events"},Hu=Q({__name:"Events",setup:function(a){var e=ne(),t=e.assets,n=je(),r=n.selected,i=x(function(){var b;return(b=r.value)===null||b===void 0?void 0:b.node}),l=ei(i,t),o=l.mouseEventList,s=l.keyboardEventList,c=l.componentEventList,v=D(!1),f=D(),m=D(Symbol()),g=function(y){m.value=Symbol(),f.value=y,v.value=!0},h=function(y){f.value&&i.value.setEvent(f.value.name,y)},_=function(){var b=K(O().mark(function y(w){return O().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,be.confirm("确定删除事件绑定？","提示",{type:"warning"}).catch(function(I){return!1});case 2:if(j.t0=j.sent,!j.t0){j.next=5;break}i.value.removeEvent(w),f.value=null,v.value=!1;case 5:case"end":return j.stop()}},y)}));return function(w){return b.apply(this,arguments)}}();return function(b,y){return p(),B("div",Ju,[C(d(me),{title:"组件事件"},{default:k(function(){return[(p(!0),B(q,null,Y(d(c),function(w){return p(),E(d(ke),{title:w.name,active:!!w.event,removable:!!w.event,background:!1,editable:"",clickable:"",onClick:function(j){return g(w)},onEdit:function(j){return g(w)},onRemove:function(j){return _(w.name)}},null,8,["title","active","removable","onClick","onEdit","onRemove"])}),256)),d(c).length===0?(p(),E(d(ve),{key:0,"image-size":50,description:"该组件无自带事件"})):L("",!0)]}),_:1}),C(d(me),{title:"鼠标事件"},{default:k(function(){return[(p(!0),B(q,null,Y(d(o),function(w){return p(),E(d(ke),{title:w.name,active:!!w.event,removable:!!w.event,background:!1,editable:"",clickable:"",onClick:function(j){return g(w)},onEdit:function(j){return g(w)},onRemove:function(j){return _(w.name)}},null,8,["title","active","removable","onClick","onEdit","onRemove"])}),256))]}),_:1}),C(d(me),{title:"键盘事件"},{default:k(function(){return[(p(!0),B(q,null,Y(d(s),function(w){return p(),E(d(ke),{title:w.name,active:!!w.event,removable:!!w.event,background:!1,editable:"",clickable:"",onClick:function(j){return g(w)},onEdit:function(j){return g(w)},onRemove:function(j){return _(w.name)}},null,8,["title","active","removable","onClick","onEdit","onRemove"])}),256))]}),_:1}),f.value?(p(),E(d(ji),re({key:m.value,modelValue:v.value,"onUpdate:modelValue":y[0]||(y[0]=function(w){return v.value=w}),node:i.value},f.value,{onSubmit:h,onRemove:_}),null,16,["modelValue","node"])):L("",!0)])}}}),Wu=Q({__name:"JSDataDialog",props:Ka,setup:function(a){var e=a,t=Ga(e),n=t.title,r=t.model,i=t.formRef,l=t.dialogRef,o=t.editorRef,s=t.rules,c=t.onSubmit,v=t.disabled,f=function(g){r.value.value=g};return function(m,g){return p(),E(d(_t),re({ref_key:"dialogRef",ref:l,title:d(n),width:"1000px",height:"600px",clearable:!1},m.$attrs,{onSubmit:d(c),onPick:f}),{default:k(function(){return[C(d(le),{ref_key:"formRef",ref:i,size:"small","label-position":"top",model:d(r),rules:d(s)},{default:k(function(){return[C(d(X),{label:e.nameLabel,prop:"name"},{default:k(function(){return[m.type==="lifeCycles"?(p(),E(d(yt),{key:0,modelValue:d(r).name,"onUpdate:modelValue":g[0]||(g[0]=function(h){return d(r).name=h}),disabled:d(v)},{default:k(function(){return[(p(!0),B(q,null,Y(d(na),function(h){return p(),E(d(bt),{label:h,value:h},null,8,["label","value"])}),256))]}),_:1},8,["modelValue","disabled"])):(p(),E(d(te),{key:1,modelValue:d(r).name,"onUpdate:modelValue":g[1]||(g[1]=function(h){return d(r).name=h}),disabled:d(v)},null,8,["modelValue","disabled"]))]}),_:1},8,["label"]),C(d(X),{label:e.valueLabel},{default:k(function(){return[C(d(we),{ref_key:"editorRef",ref:o,border:!0,height:"380px",width:"100%",dark:"","model-value":d(r).value.value},null,8,["model-value"])]}),_:1},8,["label"])]}),_:1},8,["model","rules"])]}),_:1},16,["title","onSubmit"])}}}),zu=Q({__name:"WatchDataDialog",props:qa,setup:function(a){var e=a,t=Ya(e),n=t.title,r=t.model,i=t.onSubmit,l=t.dialogRef,o=t.sourceRef,s=t.handlerRef,c=t.formRef,v=function(m){r.handler.value=m};return function(f,m){return p(),E(d(_t),re({ref_key:"dialogRef",ref:l,title:d(n),width:"1000px",height:"600px",clearable:!1},f.$attrs,{onSubmit:d(i),onPick:v}),{default:k(function(){return[C(d(le),{ref_key:"formRef",ref:c,size:"small","label-position":"top"},{default:k(function(){return[C(d(X),{label:"侦听源 [ JSFunction ]",prop:"source"},{default:k(function(){return[C(d(we),{ref_key:"sourceRef",ref:o,border:!0,height:"100px",width:"100%",dark:"","model-value":d(r).source.value},null,8,["model-value"])]}),_:1}),C(d(X),{label:"deep",prop:"deep"},{default:k(function(){return[C(d(Le),{modelValue:d(r).deep,"onUpdate:modelValue":m[0]||(m[0]=function(g){return d(r).deep=g})},null,8,["modelValue"])]}),_:1}),C(d(X),{label:"immediate",prop:"immediate"},{default:k(function(){return[C(d(Le),{modelValue:d(r).immediate,"onUpdate:modelValue":m[1]||(m[1]=function(g){return d(r).immediate=g})},null,8,["modelValue"])]}),_:1}),C(d(X),{label:"处理函数 [ JSFunction ]",prop:"handler"},{default:k(function(){return[C(d(we),{ref_key:"handlerRef",ref:s,border:!0,height:"180px",width:"100%",dark:"","model-value":d(r).handler.value},null,8,["model-value"])]}),_:1})]}),_:1},512)]}),_:1},16,["title","onSubmit"])}}}),Ge=Q({__name:"BlockScriptGroup",props:{block:{},type:{},dataType:{},title:{},nameLabel:{},valueLabel:{},defaults:{}},setup:function(a){var e=a,t=x(function(){return e.block}),n=[{name:"add",icon:"vtj-icon-plus"}],r=Qa(t,e.type),i=r.data,l=r.list,o=r.onAdd,s=r.onEdit,c=r.onRemove,v=r.visible,f=r.keyRef;return function(m,g){return p(),E(d(me),{title:e.title,tools:n,onToolClick:d(o)},{default:k(function(){return[C(d(le),{size:"small","label-width":"100px",onKeydown:g[0]||(g[0]=ut(ue(function(){},["prevent","stop"]),["enter"]))},{default:k(function(){return[(p(!0),B(q,null,Y(d(l),function(h){return p(),E(d(ke),{title:h.title,background:!1,editable:"",clickable:"",removable:"",onClick:function(b){return d(s)(h.model)},onEdit:function(b){return d(s)(h.model)},onRemove:function(b){return d(c)(h.model)}},null,8,["title","onClick","onEdit","onRemove"])}),256)),d(l).length?L("",!0):(p(),E(d(ve),{key:0,"image-size":40}))]}),_:1}),d(v)&&e.type!=="watch"?(p(),E(Wu,{key:d(f),block:t.value,data:d(i),title:e.title,type:e.type,nameLabel:e.nameLabel,valueLabel:e.valueLabel,dataType:e.dataType,defaults:e.defaults,modelValue:d(v),"onUpdate:modelValue":g[1]||(g[1]=function(h){return dn(v)?v.value=h:null})},null,8,["block","data","title","type","nameLabel","valueLabel","dataType","defaults","modelValue"])):L("",!0),d(v)&&e.type==="watch"?(p(),E(zu,{key:d(f),block:t.value,data:d(i),modelValue:d(v),"onUpdate:modelValue":g[2]||(g[2]=function(h){return dn(v)?v.value=h:null})},null,8,["block","data","modelValue"])):L("",!0)]}),_:1},8,["title","onToolClick"])}}}),Qu={class:"vtj-setting-panel"},Ku=Q({__name:"BlockScript",setup:function(a){var e=je(),t=e.selected,n=x(function(){var r;return(r=t.value)===null||r===void 0?void 0:r.node});return function(r,i){return p(),B("div",Qu,[C(Ge,{title:"状态数据",type:"state",block:n.value,nameLabel:"状态数据名称",valueLabel:"状态初始值 [ JSExpression ]","data-type":"JSExpression",defaults:"null"},null,8,["block"]),C(Ge,{title:"计算属性",type:"computed",block:n.value,nameLabel:"计算属性名称",valueLabel:"计算函数 [ JSFunction ]","data-type":"JSFunction",defaults:"() => { }"},null,8,["block"]),C(Ge,{title:"组件方法",type:"methods",block:n.value,nameLabel:"方法名称",valueLabel:"方法函数 [ JSFunction ]","data-type":"JSFunction",defaults:"() => { }"},null,8,["block"]),C(Ge,{title:"生命周期",type:"lifeCycles",block:n.value,nameLabel:"名称",valueLabel:"函数 [ JSFunction ]","data-type":"JSFunction",defaults:"() => { }"},null,8,["block"]),C(Ge,{title:"Watch",type:"watch","data-type":"JSFunction",block:n.value},null,8,["block"])])}}}),Gu=Q({__name:"Css",setup:function(a){var e=je(),t=e.selected,n=x(function(){var o;return(o=t.value)===null||o===void 0?void 0:o.node}),r=[{name:"save",icon:"vtj-icon-np-save"}],i=D(),l=function(){var s,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,v=(s=i.value)===null||s===void 0?void 0:s.getEditor().getValue();v!==n.value.css&&(n.value.setCss(v),c&&Ve.success({message:"保存成功"}))};return function(o,s){return p(),E(d(Ee),{class:"vtj-setting-css",title:null,"body-padding":!1},{default:k(function(){return[n.value?(p(),E(d(me),{key:0,title:"CSS",tools:r,onToolClick:s[0]||(s[0]=function(c){return l(!0)})},{default:k(function(){return[C(d(we),{ref_key:"editorRef",ref:i,height:"100%",lang:"css",dark:"","model-value":n.value.css,onBlur:l},null,8,["model-value"])]}),_:1})):L("",!0)]}),_:1})}}}),qu={class:"vtj-schema"},Yu=Q({__name:"Schema",setup:function(a){var e=ne(),t=e.project,n=e.emitter,r=D(""),i=D(),l=[{name:"save",icon:"vtj-icon-np-save"}],o=function(){t.current.value?r.value=JSON.stringify(t.current.value.toDsl(),null,2):r.value=""},s=function(){var c=K(O().mark(function v(){var f,m;return O().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(t.current.value){h.next=2;break}return h.abrupt("return");case 2:if(f=i.value.getEditor().getValue(),!f){h.next=9;break}return h.next=6,be.confirm("手动修改DSL有风险，可能导致页面无法加载，请确认您的操作无误。","提示",{type:"warning"}).catch(function(_){return!1});case 6:if(h.sent){h.next=8;break}return h.abrupt("return");case 8:try{m=JSON.parse(f),t.activeFile(m),n.emit(G,t.current.value),Ve.success({message:"修改成功"})}catch(_){Ae.warning({message:_.message,title:"代码错误"})}case 9:case"end":return h.stop()}},v)}));return function(){return c.apply(this,arguments)}}();return n.on(G,o),ce(t.current,o),ht(function(){o()}),Ke(function(){n.off(G,o)}),function(c,v){return p(),B("div",qu,[C(d(me),{class:"vtj-schema__panel",subtitle:"手动修改DSL有风险，可能导致页面无法加载，请确认您的操作无误。","body-padding":!1,tools:l,onToolClick:s},{default:k(function(){return[C(d(we),{ref_key:"editorRef",ref:i,height:"100%",lang:"json",dark:"","model-value":r.value},null,8,["model-value"])]}),_:1})])}}}),Xu=H("i",{class:"vtj-icon-refresh"},null,-1),Zu=H("i",{class:"vtj-icon-setting"},null,-1),el=H("i",{class:"vtj-icon-outline"},null,-1),tl=Q({__name:"Actions",props:{coder:{type:Boolean,default:!1}},setup:function(a){var e=a,t=ne(),n=t.project,r=t.engine,i=t.emitter,l=D(!1),o=function(){if(n.current.value){var h,_=je(),b=_.designer;b.selected.value=null,(h=r.simulator.renderer)===null||h===void 0||h.render(n.current.value)}else Ve.warning({message:"请先打开文件"})},s=function(){var h,_=(h=n.current.value)===null||h===void 0?void 0:h.id;if(_){var b=n.getFile(_);i.emit(Xn,b)}else Ve.warning({message:"请先打开文件"})},c=function(){if(n.current.value){var h=je(),_=h.designer;_.setSelected(n.current.value);var b=Xe(r.skeleton.regionInstances.setting);b&&b.change(0)}else Ve.warning({message:"请先打开文件"})},v=function(){n.current.value?Xe(r.skeleton.regionInstances.apps).setCurrentWidget("outline"):Ve.warning({message:"请先打开文件"})},f=function(){i.emit(er,l)},m=function(){var h=n.getHomePage();if(!h){Ve.warning({message:"请先设置项目首页"});return}i.emit(Zn,h)};return function(g,h){return p(),B("div",null,[C(d(ye),{onClick:o,type:"default",size:"small",title:"刷新"},{default:k(function(){return[Xu]}),_:1}),C(d(ye),{type:"default",size:"small",title:"页面设置",onClick:c},{default:k(function(){return[Zu]}),_:1}),C(d(ye),{type:"default",size:"small",title:"页面大纲树",onClick:v},{default:k(function(){return[el]}),_:1}),C(d(nn),{direction:"vertical"}),C(d(ye),{type:"primary",size:"small",icon:d(mr),onClick:m},{default:k(function(){return[ee(" 浏览 ")]}),_:1},8,["icon"]),C(d(ye),{type:"success",size:"small",onClick:s},{default:k(function(){return[ee("预览")]}),_:1}),e.coder?(p(),E(d(ye),{key:0,type:"warning",size:"small",onClick:f,loading:l.value},{default:k(function(){return[ee(" 出码 ")]}),_:1},8,["loading"])):L("",!0)])}}}),nl={class:"vtj-setting-panel vtj-directives"},rl=Q({__name:"Directives",setup:function(a){var e=ne(),t=e.assets,n=je(),r=n.selected,i=x(function(){var y;return(y=r.value)===null||y===void 0?void 0:y.node}),l=x(function(){return t.componentMap[i.value.name]}),o=function(w){return w.arg?typeof w.arg=="string"?w.arg:Qe(w.arg,{}):"modelValue"},s=ui(i,l),c=s.vIf,v=s.vShow,f=s.vBind,m=s.vFor,g=s.vModels,h=s.onValueChange,_=s.onForChange,b=s.onModelChange;return function(y,w){return p(),B("div",nl,[C(d(me),{title:"内置指令"},{default:k(function(){return[C(d(le),{"label-width":"80px"},{default:k(function(){return[C(d(Ie),{name:"vIf",label:"v-if",setters:"ExpressionSetter",value:d(c).value,onChange:d(h)},null,8,["value","onChange"]),C(d(Ie),{name:"vShow",label:"v-show",value:d(v).value,setters:"ExpressionSetter",onChange:d(h)},null,8,["value","onChange"]),C(d(Ie),{name:"vBind",label:"v-bind",setters:"ExpressionSetter",value:d(f).value,onChange:d(h)},null,8,["value","onChange"])]}),_:1})]}),_:1}),C(d(me),{title:"循环"},{default:k(function(){return[C(d(le),{"label-width":"80px"},{default:k(function(){var A,j;return[C(d(Ie),{name:"value",label:"循环数据",setters:"ExpressionSetter",value:d(m).value,onChange:d(_)},null,8,["value","onChange"]),C(d(Ie),{name:"item",label:"迭代变量名",setters:{name:"InputSetter",props:{placeholder:"item"}},value:(A=d(m).iterator)===null||A===void 0?void 0:A.item,onChange:d(_)},null,8,["value","onChange"]),C(d(Ie),{name:"index",label:"索引变量名",setters:{name:"InputSetter",props:{placeholder:"index"}},value:(j=d(m).iterator)===null||j===void 0?void 0:j.index,onChange:d(_)},null,8,["value","onChange"])]}),_:1})]}),_:1}),d(g).length?(p(),E(d(me),{key:0,title:"双向绑定"},{default:k(function(){return[(p(!0),B(q,null,Y(d(g),function(A,j){return p(),E(d(ke),{title:`v-model: ${o(A)}`},{default:k(function(){return[C(d(le),{"label-width":"80px"},{default:k(function(){return[C(d(Ie),{name:j.toString(),label:"绑定变量",value:A.value,setters:"ExpressionSetter",onChange:d(b)},null,8,["name","value","onChange"])]}),_:2},1024)]}),_:2},1032,["title"])}),256))]}),_:1})):L("",!0)])}}}),al=Q({__name:"BlockDefineProps",props:{formData:{},block:{}},setup:function(a){var e=a,t=x(function(){return e.formData?"编辑属性":"新增属性"}),n={name:[{required:!0,message:"属性名称为必填项"}]},r=D(),i=D(),l=D(),o=Oe(e.formData||{name:"",type:"",required:!1,default:{type:"JSExpression",value:""}}),s=function(){var c=K(O().mark(function v(){var f;return O().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,r.value.validate().catch(function(h){return!1});case 2:if(!g.sent){g.next=5;break}f=l.value.getEditor().getValue(),o.default.value=f,$e(o.default,{})&&(e.block.setProp(Xe(o)),i.value.close());case 5:case"end":return g.stop()}},v)}));return function(){return c.apply(this,arguments)}}();return function(c,v){return p(),E(d(fe),{ref_key:"dialogRef",ref:i,title:t.value,width:"1000px",height:"600px",submit:"",cancel:"",onSubmit:s},{default:k(function(){return[C(d(le),{ref_key:"formRef",ref:r,model:o,rules:n,size:"small","label-position":"top",class:"vtj-block-props__form"},{default:k(function(){return[C(d(X),{label:"属性名称",prop:"name"},{default:k(function(){return[C(d(te),{modelValue:o.name,"onUpdate:modelValue":v[0]||(v[0]=function(f){return o.name=f}),disabled:!!e.formData},null,8,["modelValue","disabled"])]}),_:1}),C(d(X),{label:"数据类型",prop:"type"},{default:k(function(){return[C(d(yt),{modelValue:o.type,"onUpdate:modelValue":v[1]||(v[1]=function(f){return o.type=f}),multiple:""},{default:k(function(){return[(p(!0),B(q,null,Y(d(la),function(f){return p(),E(d(bt),{value:f,label:f},null,8,["value","label"])}),256))]}),_:1},8,["modelValue"])]}),_:1}),C(d(X),{label:"是否必须",prop:"required"},{default:k(function(){return[C(d(Le),{modelValue:o.required,"onUpdate:modelValue":v[2]||(v[2]=function(f){return o.required=f})},null,8,["modelValue"])]}),_:1}),C(d(X),{label:"默认值 [ JSExpression ]",prop:"default"},{default:k(function(){return[C(d(we),{ref_key:"editorRef",ref:l,height:"250px","model-value":o.default.value||"",border:"",dark:""},null,8,["model-value"])]}),_:1})]}),_:1},8,["model"])]}),_:1},8,["title"])}}}),il=Q({__name:"BlockDefineEmits",props:{block:{},formData:{}},setup:function(a){var e=a,t=Oe(e.formData||{name:""}),n={name:[{required:!0,message:"事件名称为必填项"}]},r=D(),i=D(),l=function(){var o=K(O().mark(function s(){return O().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,i.value.validate().catch(function(f){return!1});case 2:if(v.t0=v.sent,!v.t0){v.next=5;break}e.block.setEmit(t.name),r.value.close();case 5:case"end":return v.stop()}},s)}));return function(){return o.apply(this,arguments)}}();return function(o,s){return p(),E(d(fe),{ref_key:"dialogRef",ref:r,title:"新增事件",width:"400px",height:"150px",submit:"",cancel:"",onSubmit:l},{default:k(function(){return[C(d(le),{ref_key:"formRef",ref:i,model:t,rules:n,size:"small"},{default:k(function(){return[C(d(X),{label:"事件名称",prop:"name"},{default:k(function(){return[C(d(te),{modelValue:t.name,"onUpdate:modelValue":s[0]||(s[0]=function(c){return t.name=c})},null,8,["modelValue"])]}),_:1})]}),_:1},8,["model"])]}),_:1},512)}}}),ul=Q({__name:"BlockDefineSlots",props:{block:{},formData:{}},setup:function(a){var e=a,t=Oe(e.formData||{name:""}),n={name:[{required:!0,message:"插槽名称为必填项"}]},r=D(),i=D(),l=function(){var o=K(O().mark(function s(){return O().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,i.value.validate().catch(function(f){return!1});case 2:if(v.t0=v.sent,!v.t0){v.next=5;break}e.block.setSlot(t.name),r.value.close();case 5:case"end":return v.stop()}},s)}));return function(){return o.apply(this,arguments)}}();return function(o,s){return p(),E(d(fe),{ref_key:"dialogRef",ref:r,title:"新增插槽",width:"400px",height:"150px",submit:"",cancel:"",onSubmit:l},{default:k(function(){return[C(d(le),{ref_key:"formRef",ref:i,model:t,rules:n,size:"small"},{default:k(function(){return[C(d(X),{label:"插槽名称",prop:"name"},{default:k(function(){return[C(d(te),{modelValue:t.name,"onUpdate:modelValue":s[0]||(s[0]=function(c){return t.name=c})},null,8,["modelValue"])]}),_:1})]}),_:1},8,["model"])]}),_:1},512)}}}),ll=Q({__name:"BlockInject",props:{block:{},formData:{}},setup:function(a){var e=a,t=x(function(){return e.formData?"编辑注入":"新增注入"}),n=Oe(e.formData||{name:"",from:"",default:{type:"JSExpression",value:""}}),r={name:[{required:!0,message:"注入名称为必填项"}]},i=D(),l=D(),o=D(),s=function(){var c=K(O().mark(function v(){var f;return O().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,o.value.validate().catch(function(h){return!1});case 2:if(!g.sent){g.next=5;break}f=l.value.getEditor().getValue(),n.default.value=f,$e(n.default,{})&&(e.block.setInject(Xe(n)),i.value.close());case 5:case"end":return g.stop()}},v)}));return function(){return c.apply(this,arguments)}}();return function(c,v){return p(),E(d(fe),{ref_key:"dialogRef",ref:i,title:t.value,width:"1000px",height:"600px",submit:"",cancel:"",onSubmit:s},{default:k(function(){return[C(d(le),{ref_key:"formRef",ref:o,model:n,rules:r,size:"small","label-position":"top"},{default:k(function(){return[C(d(X),{label:"注入名称",prop:"name"},{default:k(function(){return[C(d(te),{modelValue:n.name,"onUpdate:modelValue":v[0]||(v[0]=function(f){return n.name=f}),disabled:!!e.formData},null,8,["modelValue","disabled"])]}),_:1}),C(d(X),{label:"来源名称",prop:"from"},{default:k(function(){return[typeof n.from=="string"?(p(),E(d(te),{key:0,modelValue:n.from,"onUpdate:modelValue":v[1]||(v[1]=function(f){return n.from=f})},null,8,["modelValue"])):L("",!0)]}),_:1}),C(d(X),{label:"默认值",prop:"from"},{default:k(function(){return[C(d(we),{ref_key:"editorRef",ref:l,"model-value":n.default.value||"",dark:"",border:"",height:"300px"},null,8,["model-value"])]}),_:1})]}),_:1},8,["model"])]}),_:1},8,["title"])}}}),ol={key:0,class:"vtj-setting-panel vtj-advanced"},sl=Q({__name:"Advanced",setup:function(a){var e=je(),t=e.selected,n=x(function(){var U,V=(U=t.value)===null||U===void 0?void 0:U.node;return se(V)?V:null}),r=[{name:"add",icon:"vtj-icon-plus"}],i=x(function(){var U;return n.value?(U=n.value.props)===null||U===void 0?void 0:U.map(function(V){return typeof V=="string"?{name:V,required:!1,type:void 0,default:{type:"JSExpression",value:""}}:J({default:{type:"JSExpression",value:""},required:!1,type:void 0},V)}):[]}),l=x(function(){var U;return((U=n.value)===null||U===void 0?void 0:U.emits)||[]}),o=x(function(){var U;return((U=n.value)===null||U===void 0?void 0:U.slots)||[]}),s=x(function(){var U;return n.value?(U=n.value.inject)===null||U===void 0?void 0:U.map(function(V){return J({from:"",default:{type:"JSExpression",value:""}},V)}):[]}),c=D(!1),v=D(),f=D(!1),m=D(!1),g=D(),h=D(),_=function(){v.value=void 0,c.value=!0},b=function(V){v.value=V,c.value=!0},y=function(){var U=K(O().mark(function V(S){var P;return O().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,be.confirm("确定删除","提示",{type:"warning"}).catch(function(z){return!1});case 2:if(M.t0=M.sent,!M.t0){M.next=5;break}(P=n.value)===null||P===void 0||P.removeProp(S);case 5:case"end":return M.stop()}},V)}));return function(S){return U.apply(this,arguments)}}(),w=function(){f.value=!0},A=function(){var U=K(O().mark(function V(S){var P;return O().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,be.confirm("确定删除","提示",{type:"warning"}).catch(function(z){return!1});case 2:if(M.t0=M.sent,!M.t0){M.next=5;break}(P=n.value)===null||P===void 0||P.removeEmit(S);case 5:case"end":return M.stop()}},V)}));return function(S){return U.apply(this,arguments)}}(),j=function(){m.value=!0},I=function(){var U=K(O().mark(function V(S){var P;return O().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,be.confirm("确定删除","提示",{type:"warning"}).catch(function(z){return!1});case 2:if(M.t0=M.sent,!M.t0){M.next=5;break}(P=n.value)===null||P===void 0||P.removeSlot(S);case 5:case"end":return M.stop()}},V)}));return function(S){return U.apply(this,arguments)}}(),T=function(){h.value=void 0,g.value=!0},$=function(){var U=K(O().mark(function V(S){var P;return O().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,be.confirm("确定删除","提示",{type:"warning"}).catch(function(z){return!1});case 2:if(M.t0=M.sent,!M.t0){M.next=5;break}(P=n.value)===null||P===void 0||P.removeInject(S);case 5:case"end":return M.stop()}},V)}));return function(S){return U.apply(this,arguments)}}(),F=function(){var U=K(O().mark(function V(S){return O().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:h.value=S,g.value=!0;case 1:case"end":return W.stop()}},V)}));return function(S){return U.apply(this,arguments)}}();return function(U,V){return n.value?(p(),B("div",ol,[C(d(me),{title:"属性",tools:r,onToolClick:_},{default:k(function(){return[(p(!0),B(q,null,Y(i.value,function(S){return p(),E(d(ke),{title:S.name,editable:"",removable:"",clickable:"",onRemove:function(W){return y(S)},onClick:function(W){return b(S)},onEdit:function(W){return b(S)}},null,8,["title","onRemove","onClick","onEdit"])}),256)),i.value.length===0?(p(),E(d(ve),{key:0,"image-size":50})):L("",!0),c.value?(p(),E(al,{key:1,block:n.value,"form-data":v.value,modelValue:c.value,"onUpdate:modelValue":V[0]||(V[0]=function(S){return c.value=S})},null,8,["block","form-data","modelValue"])):L("",!0)]}),_:1}),C(d(me),{title:"事件",tools:r,onToolClick:w},{default:k(function(){return[(p(!0),B(q,null,Y(l.value,function(S){return p(),E(d(ke),{title:S,removable:"",onRemove:function(W){return A(S)}},null,8,["title","onRemove"])}),256)),l.value.length===0?(p(),E(d(ve),{key:0,"image-size":50})):L("",!0),f.value?(p(),E(il,{key:1,modelValue:f.value,"onUpdate:modelValue":V[1]||(V[1]=function(S){return f.value=S}),block:n.value},null,8,["modelValue","block"])):L("",!0)]}),_:1}),C(d(me),{title:"插槽",tools:r,onToolClick:j},{default:k(function(){return[(p(!0),B(q,null,Y(o.value,function(S){return p(),E(d(ke),{title:S,removable:"",onRemove:function(W){return I(S)}},null,8,["title","onRemove"])}),256)),o.value.length===0?(p(),E(d(ve),{key:0,"image-size":50})):L("",!0),m.value?(p(),E(ul,{key:1,modelValue:m.value,"onUpdate:modelValue":V[2]||(V[2]=function(S){return m.value=S}),block:n.value},null,8,["modelValue","block"])):L("",!0)]}),_:1}),C(d(me),{title:"注入",tools:r,onToolClick:T},{default:k(function(){return[(p(!0),B(q,null,Y(s.value,function(S){return p(),E(d(ke),{title:S.name,editable:"",removable:"",clickable:"",onRemove:function(W){return $(S)},onClick:function(W){return F(S)},onEdit:function(W){return F(S)}},null,8,["title","onRemove","onClick","onEdit"])}),256)),s.value.length===0?(p(),E(d(ve),{key:0,"image-size":50})):L("",!0),g.value?(p(),E(ll,{key:1,modelValue:g.value,"onUpdate:modelValue":V[3]||(V[3]=function(S){return g.value=S}),"form-data":h.value,block:n.value},null,8,["modelValue","form-data","block"])):L("",!0)]}),_:1})])):L("",!0)}}}),cl={class:"vtj-switcher"},dl=H("i",{class:"vtj-icon-back vtj-switcher__back"},null,-1),vl={key:1},fl=Q({__name:"Switcher",props:{link:{}},setup:function(a){var e=a,t=ne(),n=t.project,r=x(function(){var l;return(l=n.current.value)===null||l===void 0?void 0:l.title}),i=function(){e.link&&(location.href=e.link)};return function(l,o){return p(),B("div",cl,[C(d(ye),{size:"small",round:"",onClick:i},{default:k(function(){return[dl,H("span",null,Z(d(n).name),1),r.value?(p(),E(d(nn),{key:0,direction:"vertical"})):L("",!0),r.value?(p(),B("span",vl,Z(r.value),1)):L("",!0)]}),_:1})])}}}),pl=["src"],ml=Q({__name:"Docs",props:{url:{default:"https://element-plus.org/zh-CN/"}},setup:function(a){var e=a,t=D(),n=null;ht(function(){var i;n||(n=Pr.service({target:(i=t.value)===null||i===void 0?void 0:i.$el}))}),Ke(function(){n.close(),n=null});var r=function(){n.close()};return function(i,l){return p(),E(Ee,{ref_key:"panel",ref:t,title:null,class:"vtj-docs","body-padding":!1},{default:k(function(){return[H("iframe",{ref:"frame",src:e.url,onLoad:r},null,40,pl)]}),_:1},512)}}}),hl=Q({__name:"ApiDialogForm",props:{model:{},project:{}},setup:function(a){var e=a,t={name:"",title:"",url:"",method:"GET",settings:{type:"JSExpression",value:""}},n=D(Me(e.model||J({},t))),r=D(),i=D(),l=D(),o={name:[{required:!0,message:"接口名称为必填项"}],title:[{required:!0,message:"标题描述为必填项"}],url:[{required:!0,message:"请求地址为必填项"}]},s=x(function(){return e.model?"编辑Api":"新增Api"}),c=function(){var v=K(O().mark(function f(){var m;return O().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,r.value.validate().catch(function(_){return!1});case 2:if(!h.sent){h.next=5;break}m=i.value.getEditor().getValue(),n.value.settings.value=m,$e(n.value.settings,{})&&(e.project.setApi(n.value),l.value.close());case 5:case"end":return h.stop()}},f)}));return function(){return v.apply(this,arguments)}}();return function(v,f){return p(),E(d(fe),{ref_key:"dialogRef",ref:l,width:"1000px",height:"600px",title:s.value,submit:"",cancel:"",onSubmit:c},{default:k(function(){return[C(d(le),{ref_key:"formRef",ref:r,size:"small",model:n.value,rules:o,"label-position":"top"},{default:k(function(){return[C(d(X),{label:"接口名称",prop:"name"},{default:k(function(){return[C(d(te),{modelValue:n.value.name,"onUpdate:modelValue":f[0]||(f[0]=function(m){return n.value.name=m}),disabled:!!e.model},null,8,["modelValue","disabled"])]}),_:1}),C(d(X),{label:"标题描述",prop:"title"},{default:k(function(){return[C(d(te),{modelValue:n.value.title,"onUpdate:modelValue":f[1]||(f[1]=function(m){return n.value.title=m})},null,8,["modelValue"])]}),_:1}),C(d(X),{label:"接口地址",prop:"url"},{default:k(function(){return[C(d(te),{modelValue:n.value.url,"onUpdate:modelValue":f[2]||(f[2]=function(m){return n.value.url=m})},null,8,["modelValue"])]}),_:1}),C(d(X),{label:"请求类型",prop:"method"},{default:k(function(){return[C(d(tn),{modelValue:n.value.method,"onUpdate:modelValue":f[3]||(f[3]=function(m){return n.value.method=m})},{default:k(function(){return[(p(!0),B(q,null,Y(d(oa),function(m){return p(),E(d(xr),{label:m},null,8,["label"])}),256))]}),_:1},8,["modelValue"])]}),_:1}),C(d(X),{label:"请求配置 [ JSExpression ]",prop:"settings"},{default:k(function(){var m;return[C(d(we),{ref_key:"editorRef",ref:i,"model-value":(m=n.value.settings)===null||m===void 0?void 0:m.value,border:"",dark:"",height:"180px"},null,8,["model-value"])]}),_:1})]}),_:1},8,["model"])]}),_:1},8,["title"])}}}),gl={class:"vtj-apis__name"},yl=Q({__name:"Apis",setup:function(a){var e=ne(),t=e.project,n=[{name:"add",icon:"vtj-icon-plus"}],r=x(function(){return t.apis.value}),i=D(),l=D(!1),o=function(){i.value=void 0,l.value=!0},s=function(f){i.value=f,l.value=!0},c=function(){var v=K(O().mark(function f(m){return O().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,be.confirm("确定删除?","提示",{type:"warning"}).catch(function(_){return!1});case 2:if(h.t0=h.sent,!h.t0){h.next=5;break}t.removeApi(m.name);case 5:case"end":return h.stop()}},f)}));return function(m){return v.apply(this,arguments)}}();return function(v,f){return p(),E(d(Ee),{class:"vtj-apis",title:"Api管理",tools:n,onToolClick:o},{default:k(function(){return[r.value.length?L("",!0):(p(),E(d(ve),{key:0,"image-size":50})),(p(!0),B(q,null,Y(r.value,function(m){return p(),E(d(ke),{editable:"",removable:"",clickable:"",onClick:function(h){return s(m)},onEdit:function(h){return s(m)},onRemove:function(h){return c(m)}},{title:k(function(){return[ee(Z(m.title)+" ",1),H("i",gl,Z(m.name),1)]}),_:2},1032,["onClick","onEdit","onRemove"])}),256)),l.value?(p(),E(hl,{key:1,modelValue:l.value,"onUpdate:modelValue":f[0]||(f[0]=function(m){return l.value=m}),model:i.value,project:d(t)},null,8,["modelValue","model","project"])):L("",!0)]}),_:1})}}}),bl={class:"vtj-data-source-from__label-name"},kl=Q({__name:"ApiDataSourceForm",props:{model:{},block:{}},setup:function(a){var e=this,t=a,n=ne(),r=n.project,i={type:"api",detail:"",name:"",title:"",transform:{type:"JSFunction",value:""},test:{type:"JSFunction",value:""}},l=D(Me(t.model||J({},i))),o=x(function(){return r.apis.value}),s={name:[{required:!0,message:"调用名称为必填项"}],title:[{required:!0,message:"备注描述为必填项"}],detail:[{required:!0,message:"选择引用api"}]},c=x(function(){return t.model?"编辑数据源":"新增数据源"}),v=D(),f=D(),m=D(),g=D(),h=D(!1),_=D(!1),b=D(""),y=function($){var F=o.value.find(function(U){return U.name===$});F&&(l.value.name=F.name,l.value.title=F.title,l.value.test.value=`() => this.${F.name}()`)},w=function($,F){var U=function(){var V=K(O().mark(function S(){var P,W,M,z,ae,oe,pe=arguments;return O().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:for(W=pe.length,M=new Array(W),z=0;z<W;z++)M[z]=pe[z];return _e.next=3,((P=F.runtimeContext)===null||P===void 0?void 0:P.$apis[$.detail]).apply(e,M);case 3:return ae=_e.sent,oe=et($.transform,{}),_e.abrupt("return",oe?oe(ae):ae);case 6:case"end":return _e.stop()}},S)}));return function(){return V.apply(this,arguments)}}();return R({},$.name,U)},A=function(){var T=K(O().mark(function $(){var F,U;return O().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,v.value.validate().catch(function(P){return!1});case 2:if(!S.sent){S.next=7;break}return F=f.value.getEditor().getValue(),l.value.transform.value=F,U=m.value.getEditor().getValue(),S.abrupt("return",(l.value.test.value=U,(!F||$e(l.value.transform,t.block.runtimeContext))&&$e(l.value.test,J(J({},t.block.runtimeContext),w(l.value,t.block)))));case 7:return S.abrupt("return",!1);case 8:case"end":return S.stop()}},$)}));return function(){return T.apply(this,arguments)}}(),j=function(){var T=K(O().mark(function $(){return O().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,A();case 2:if(U.t0=U.sent,!U.t0){U.next=5;break}t.block.setDataSource(l.value),g.value.close();case 5:case"end":return U.stop()}},$)}));return function(){return T.apply(this,arguments)}}(),I=function(){var T=K(O().mark(function $(){var F,U;return O().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,A();case 2:if(!S.sent){S.next=19;break}if(l.value.test.value){S.next=6;break}return Ae.warning({message:"无测试用例",title:"提示"}),S.abrupt("return");case 6:return F=w(l.value,t.block),_.value=!0,b.value="",S.prev=8,S.next=11,et(l.value.test,F)().catch(function(P){return P});case 11:U=S.sent,b.value=typeof U=="object"?JSON.stringify(U,null,2):"",h.value=!0,S.next=18;break;case 15:S.prev=15,S.t0=S.catch(8),Ae.warning({message:S.t0.message,title:"运行错误"});case 18:_.value=!1;case 19:case"end":return S.stop()}},$,null,[[8,15]])}));return function(){return T.apply(this,arguments)}}();return function(T,$){return p(),E(d(fe),{ref_key:"dialogRef",ref:g,class:"vtj-data-source-from",title:c.value,width:"1000px",height:"600px",submit:"",cancel:"",onSubmit:j},{action:k(function(){return[C(d(ye),{size:"default",type:"warning",onClick:I,loading:_.value},{default:k(function(){return[ee(" 运行测试用例 ")]}),_:1},8,["loading"])]}),default:k(function(){return[C(d(le),{ref_key:"formRef",ref:v,size:"small","label-position":"right","label-width":"80px",model:l.value,rules:s},{default:k(function(){return[C(d(X),{label:"Api",prop:"detail"},{default:k(function(){return[C(d(yt),{modelValue:l.value.detail,"onUpdate:modelValue":$[0]||($[0]=function(F){return l.value.detail=F}),onChange:y,disabled:!!t.model},{default:k(function(){return[(p(!0),B(q,null,Y(o.value,function(F){return p(),E(d(bt),{label:F.title,value:F.name},{default:k(function(){return[ee(Z(F.title)+" ",1),H("i",bl,Z(F.name),1)]}),_:2},1032,["label","value"])}),256))]}),_:1},8,["modelValue","disabled"])]}),_:1}),C(d(X),{label:"调用名称",prop:"name"},{default:k(function(){return[C(d(te),{modelValue:l.value.name,"onUpdate:modelValue":$[1]||($[1]=function(F){return l.value.name=F}),disabled:!!t.model},null,8,["modelValue","disabled"])]}),_:1}),C(d(X),{label:"备注描述",prop:"title"},{default:k(function(){return[C(d(te),{modelValue:l.value.title,"onUpdate:modelValue":$[2]||($[2]=function(F){return l.value.title=F})},null,8,["modelValue"])]}),_:1}),C(d(X),{label:"转换函数",prop:"transform"},{default:k(function(){return[C(d(we),{ref_key:"transformRef",ref:f,border:"",dark:"",height:"200px","model-value":l.value.transform.value},null,8,["model-value"])]}),_:1}),C(d(X),{label:"测试用例"},{default:k(function(){return[C(d(we),{ref_key:"testRef",ref:m,border:"",dark:"",height:"120px","model-value":l.value.test.value},null,8,["model-value"])]}),_:1})]}),_:1},8,["model"]),C(d(Mr),{modelValue:h.value,"onUpdate:modelValue":$[3]||($[3]=function(F){return h.value=F}),title:"测试用例运行结果",direction:"btt","append-to-body":"",size:"80%"},{default:k(function(){return[C(d(we),{"model-value":b.value,border:"",dark:"",height:"100%",lang:"json"},null,8,["model-value"])]}),_:1},8,["modelValue"])]}),_:1},8,["title"])}}}),_l={class:"vtj-data-sources__subtitle"},wl=Q({__name:"DataSources",setup:function(a){var e=je(),t=e.selected,n=x(function(){var f;return(f=t.value)===null||f===void 0?void 0:f.node}),r=x(function(){var f;return Object.values(((f=n.value)===null||f===void 0?void 0:f.dataSources)||{}).filter(function(m){return m.type==="api"})}),i=[{name:"add",icon:"vtj-icon-plus"}],l=D(),o=D(),s=function(){o.value=void 0,l.value=!0},c=function(m){o.value=m,l.value=!0},v=function(){var f=K(O().mark(function m(g){return O().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,be.confirm("确定删除？","提示",{type:"warning"}).catch(function(b){return!1});case 2:if(_.t0=_.sent,!_.t0){_.next=5;break}n.value.removeDataSource(g.name);case 5:case"end":return _.stop()}},m)}));return function(g){return f.apply(this,arguments)}}();return function(f,m){return p(),E(d(Ee),{class:"vtj-data-sources",title:null,"body-padding":!1},{default:k(function(){return[C(d(me),{title:"Api",tools:i,onToolClick:s},{default:k(function(){return[r.value.length===0?(p(),E(d(ve),{key:0,"image-size":50})):L("",!0),(p(!0),B(q,null,Y(r.value,function(g){return p(),E(d(ke),{editable:"",removable:"",clickable:"",onClick:function(_){return c(g)},onEdit:function(_){return c(g)},onRemove:function(_){return v(g)}},{title:k(function(){return[ee(Z(g.title)+" ",1),H("i",_l,Z(g.name),1)]}),_:2},1032,["onClick","onEdit","onRemove"])}),256))]}),_:1}),l.value?(p(),E(kl,{key:0,modelValue:l.value,"onUpdate:modelValue":m[0]||(m[0]=function(g){return l.value=g}),model:o.value,block:n.value},null,8,["modelValue","model","block"])):L("",!0)]}),_:1})}}}),Cl=Q({__name:"History",setup:function(a){var e=ne(),t=e.engine,n=x(function(){var o;return((o=t.simulator.history.value)===null||o===void 0?void 0:o.list)||[]}),r=x(function(){return`(共 ${n.value.length} 条)`}),i=function(){var o=K(O().mark(function s(c){var v;return O().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,be.confirm("确定删除?","提示",{type:"warning"}).catch(function(g){return!1});case 2:if(m.t0=m.sent,!m.t0){m.next=5;break}(v=t.simulator.history.value)===null||v===void 0||v.remove(c.id);case 5:case"end":return m.stop()}},s)}));return function(c){return o.apply(this,arguments)}}(),l=function(s){var c;(c=t.simulator.history.value)===null||c===void 0||c.load(s.id)};return function(o,s){return p(),E(d(Ee),{title:"历史记录",subtitle:r.value,class:"vtj-histroy"},{default:k(function(){return[n.value.length===0?(p(),E(d(ve),{key:0,"image-size":50})):L("",!0),(p(!0),B(q,null,Y(n.value,function(c,v){var f;return p(),E(d(ke),{title:c.title,active:((f=d(t).simulator.history.value)===null||f===void 0?void 0:f.index)===v,onRemove:function(g){return i(c)},onClick:function(g){return l(c)},removable:"",clickable:""},null,8,["title","active","onRemove","onClick"])}),256))]}),_:1},8,["subtitle"])}}}),Sl=Q({__name:"NodePath",setup:function(a){var e=je(),t=e.selected,n=x(function(){var l;return(((l=t.value)===null||l===void 0?void 0:l.path)||[]).slice(0).reverse()}),r=function(o){N.emit(un,o)},i=function(o){N.emit(ln,o)};return function(l,o){return d(t)?(p(),E(d(Or),{key:0,class:"vtj-nodepath","separator-icon":d(hr)},{default:k(function(){return[(p(!0),B(q,null,Y(n.value,function(s){return p(),E(d(Rr),{onClick:function(v){return r(s)},onMouseover:function(v){return i(s)}},{default:k(function(){return[ee(Z(s.name),1)]}),_:2},1032,["onClick","onMouseover"])}),256))]}),_:1},8,["separator-icon"])):L("",!0)}}}),Vl={class:"vtj-about"},jl={class:"vtj-about__logo"},El=["src"],$l=H("div",{class:"vtj-about__name"},[H("h3",null,"VTJEngine")],-1),Al={class:"vtj-about__footer"},Dl=Q({__name:"About",setup:function(a){return function(e,t){return p(),B("div",Vl,[H("div",jl,[C(d(Br),{value:d(Un)},{default:k(function(){return[H("img",{src:d(Jn)},null,8,El)]}),_:1},8,["value"])]),$l,H("div",Al,[C(d(Tr),{href:"https://gitee.com/newgateway/vtj",type:"primary",target:"_blank"},{default:k(function(){return[ee(" https://gitee.com/newgateway/vtj ")]}),_:1})])])}}}),Ye={Empty:au,Logo:lu,Dependencies:su,Designer:hu,Components:gu,Pages:wu,Blocks:Cu,Toolbar:Au,Outline:Uu,Properties:Mu,Events:Hu,BlockScript:Ku,Css:Gu,Schema:Yu,Actions:tl,Directives:rl,Advanced:sl,Switcher:fl,Docs:ml,Apis:yl,DataSources:wl,History:Cl,NodePath:Sl,About:Dl},Il={class:"vtj-apps"},Pl={class:"vtj-apps__header"},Rl={class:"vtj-apps__top"},Ol={class:"vtj-apps__bottom"},Bl={class:"vtj-apps__panels"},Tl=Q({__name:"apps",setup:function(a,e){var t=e.expose,n=ne(),r=n.regions,i=n.config,l=x(function(){return r.value.apps}),o=D(null),s=D(null),c=D(),v=D(),f=x(function(){return l.value.filter(function(b){var y;return!b.disabled&&((y=b.trigger)===null||y===void 0?void 0:y.type)==="panel"})}),m=x(function(){return l.value.filter(function(b){var y;return!b.disabled&&((y=b.trigger)===null||y===void 0?void 0:y.type)!=="panel"})});function g(b){var y=l.value.find(function(w){return w.name===b});y&&(o.value=y,s.value=y)}var h=function(y){o.value=y,s.value=s.value===y?null:y},_=function(y){var w,A;if(((w=y.trigger)===null||w===void 0?void 0:w.type)==="link"){var j;window.open((j=y.props)===null||j===void 0?void 0:j.url);return}((A=y.trigger)===null||A===void 0?void 0:A.type)==="dialog"&&(c.value=st(Ye[y.type]||Ye.Empty),v.value=J(J(J({},y.trigger),y.props),{},{visible:!0}))};return ce(s,function(b){N.emit(Gn,!!b)}),i.activeApp&&g(i.activeApp),t({setCurrentWidget:g}),function(b,y){return p(),B("div",Il,[H("div",Pl,[H("div",Rl,[(p(!0),B(q,null,Y(f.value,function(w){var A,j;return p(),E(_n,{key:`trigger-${w.name}`,icon:(A=w.trigger)===null||A===void 0?void 0:A.icon,label:(j=w.trigger)===null||j===void 0?void 0:j.label,active:o.value===w,open:s.value===w,onClick:function(T){return h(w)}},null,8,["icon","label","active","open","onClick"])}),128))]),H("div",Ol,[(p(!0),B(q,null,Y(m.value,function(w){var A,j;return p(),E(_n,{key:`trigger-${w.name}`,icon:(A=w.trigger)===null||A===void 0?void 0:A.icon,label:(j=w.trigger)===null||j===void 0?void 0:j.label,onClick:function(T){return _(w)}},null,8,["icon","label","onClick"])}),128))])]),Ne(H("div",Bl,[(p(!0),B(q,null,Y(f.value,function(w){return p(),E(wr,{key:w.name},[o.value===w?(p(),E(d(Ue),ct(re({key:0},J({},w))),null,16)):L("",!0)],1024)}),128))],512),[[We,!!s.value]]),c.value?(p(),E(fe,re({key:0},v.value,{modelValue:v.value.visible,"onUpdate:modelValue":y[0]||(y[0]=function(w){return v.value.visible=w})}),{default:k(function(){return[(p(),E(Qt(c.value),ct(Kt(v.value)),null,16))]}),_:1},16,["modelValue"])):L("",!0)])}}}),Fl={class:"vtj-brand"},Nl=Q({__name:"brand",setup:function(a){var e=ne(),t=e.regions,n=x(function(){return t.value.brand});return function(r,i){return p(),B("div",Fl,[(p(!0),B(q,null,Y(n.value,function(l){return p(),E(d(Ue),re({key:l.name},J({},l)),null,16)}),128))])}}}),Ll={key:0,class:"vtj-setting"},Ul={key:0,class:"vtj-setting__header"},xl={class:"vtj-setting__path"},Ml=H("i",{class:"vtj-icon-layers"},null,-1),Jl=H("i",{class:"vtj-icon-help"},null,-1),Hl=Q({__name:"setting",setup:function(a,e){var t,n=e.expose,r=ne(),i=r.engine,l=r.regions,o=je(),s=o.selected,c=l.value||{},v=c.setting,f=x(function(){var y;return se((y=s.value)===null||y===void 0?void 0:y.node)?"Block":"Node"}),m=x(function(){return v.filter(function(y){return!y.disabled&&y.group===f.value}).map(function(y){var w;return{name:y.name,label:((w=y.trigger)===null||w===void 0?void 0:w.label)||y.name,closable:!1}})}),g=D((t=m.value[0])===null||t===void 0?void 0:t.name);ce(s,function(y,w){(y==null?void 0:y.node.id)!==(w==null?void 0:w.node.id)&&h(0)});var h=function(){var w,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;g.value=(w=m.value[A])===null||w===void 0?void 0:w.name};n({currentTab:g,tabs:m,change:h});var _=x(function(){var y,w,A=(y=s.value)===null||y===void 0?void 0:y.node;return A?(w=i.assets.componentMap[A.name])===null||w===void 0?void 0:w.doc:null}),b=function(){if(_.value){var w=Xe(i.skeleton.regionInstances.workspace);w&&w.openTab("docs",{url:_.value})}};return function(y,w){return d(s)&&d(s).node?(p(),B("div",Ll,[f.value==="Node"?(p(),B("div",Ul,[H("div",xl,[Ml,H("span",null,[ee(Z(d(s).node.name.fileName||d(s).node.name)+": ",1),H("i",null,Z(d(s).node.id),1)])]),_.value?(p(),B("div",{key:0,class:"vtj-setting__doc",onClick:b},[Jl,ee(" 帮助 ")])):L("",!0)])):L("",!0),d(s).node.lock?L("",!0):(p(),E(an,{key:1,class:"vtj-setting__tabs",items:m.value,modelValue:g.value,"onUpdate:modelValue":w[0]||(w[0]=function(A){return g.value=A}),stretch:"","body-padding":!1},{default:k(function(){return[(p(!0),B(q,null,Y(d(v),function(A){return p(),E(d(Ue),re({key:A.name},J({},A),{visible:A.name===g.value}),null,16,["visible"])}),128))]}),_:1},8,["items","modelValue"])),d(s).node.lock?(p(),E(d(ve),{key:2,"image-size":1,description:"组件已被锁定，不能更改设置。"})):L("",!0)])):(p(),E(d(ve),{key:1,description:"请在左侧画布选中节点"}))}}}),Wl={class:"vtj-status"},zl={class:"vtj-status__left"},Ql={class:"vtj-status__right"},Kl=Q({__name:"status",setup:function(a){var e=ne(),t=e.regions,n=x(function(){return t.value.status}),r=x(function(){return n.value.filter(function(l){return!l.disabled&&!l.trigger})}),i=x(function(){return n.value.filter(function(l){return!l.disabled&&!!l.trigger})});return function(l,o){return p(),B("div",Wl,[H("div",zl,[(p(!0),B(q,null,Y(r.value,function(s){return p(),E(d(Ue),re({key:s.name},J({},s)),null,16)}),128))]),H("div",Ql,[(p(!0),B(q,null,Y(i.value,function(s){return p(),E(d(Ue),re({key:s.name},J({},s)),null,16)}),128))])])}}}),Gl={class:"vtj-toolbar"},ql=Q({__name:"toolbar",setup:function(a){var e=ne(),t=e.regions,n=x(function(){return t.value.toolbar});return function(r,i){return p(),B("div",Gl,[(p(!0),B(q,null,Y(n.value,function(l){return p(),E(d(Ue),re({key:l.name},J({},l)),null,16)}),128))])}}}),Yl=Q({__name:"workspace",setup:function(a,e){var t,n=e.expose,r=ne(),i=r.regions,l=r.emitter,o=x(function(){return i.value.workspace}),s=o.value.filter(function(b){return b.name==="designer"}).map(function(b){var y;return{name:b.name,label:((y=b.trigger)===null||y===void 0?void 0:y.label)||b.name}}),c=D(o.value.filter(function(b){return!b.disabled&&b.name!=="designer"}).map(function(b){var y;return{name:b.name,label:((y=b.trigger)===null||y===void 0?void 0:y.label)||b.name,checked:!1,closable:!0}})),v=x(function(){var b=c.value.filter(function(y){return!!y.checked});return b.unshift(s[0]),b}),f=D((t=v.value[0])===null||t===void 0?void 0:t.name);ce(f,function(b){l.emit(Yn,b==="designer")});var m=function(y){var w=c.value.find(function(A){return A.name===y});w&&(w.checked=!1),y===f.value&&(f.value=v.value[0].name)},g=D({}),h=function(y,w){var A=c.value.find(function(j){return j.name===y});A&&(g.value[y]=w,A.checked=!0),f.value=y},_=function(y){y.checked=!y.checked,y.checked?f.value=y.name:f.value===y.name&&(f.value="designer")};return n({openTab:h}),function(b,y){return p(),E(d(an),{class:"vtj-workspace",items:v.value,modelValue:f.value,"onUpdate:modelValue":y[0]||(y[0]=function(w){return f.value=w}),more:c.value,onTabRemove:m,onMore:_,checkable:""},{default:k(function(){return[(p(!0),B(q,null,Y(o.value,function(w){return p(),E(d(Ue),re({key:w.name},J(J({},w),g.value[w.name]),{visible:w.name===f.value}),null,16,["visible"])}),128))]}),_:1},8,["items","modelValue","more"])}}}),Xl=Q({__name:"App",props:{engine:{}},setup:function(a,e){var t=e.expose,n=a,r=D(),i=D(),l=D(),o=D(),s=D(),c=D(),v=D();D(),D();var f=D(!1),m=D(!0);n.engine.skeleton.regionInstances={brand:r,toolbar:i,action:l,status:o,setting:s,workspace:c,apps:v};var g={dirs:["e"],maxWidth:600},h={dirs:["w"],maxWidth:600};function _(b){f.value=b}return N.on(Gn,function(b){_(!b)}),_r(on,n.engine),t({setLeftCollapsed:_,showSetting:m}),function(b,y){return p(),E(d($r),{locale:d(Ia)},{default:k(function(){return[C(d(Ot),{class:"vtj-layout"},{default:k(function(){return[C(d(jr),{class:"vtj-layout__header",height:"36px"},{default:k(function(){return[C(d(Nl),{ref_key:"brand",ref:r},null,512),C(d(ql),{ref_key:"toolbar",ref:i},null,512),C(d(eu),{ref_key:"action",ref:l},null,512)]}),_:1}),C(d(Ot),{class:"vtj-layout__wrapper"},{default:k(function(){return[Ne((p(),E(d(Bt),{width:"400px",class:ie(["vtj-layout__left",{"is-collapsed":f.value}])},{default:k(function(){return[C(d(Tl),{ref_key:"apps",ref:v},null,512)]}),_:1},8,["class"])),[[d(sn),g]]),C(d(Bn),{class:"vtj-layout__main"},{default:k(function(){return[C(d(Yl),{ref_key:"workspace",ref:c},null,512)]}),_:1}),m.value?Ne((p(),E(d(Bt),{key:0,width:"350px",class:"vtj-layout__right"},{default:k(function(){return[C(d(Hl),{ref_key:"setting",ref:s},null,512)]}),_:1})),[[d(sn),h]]):L("",!0)]}),_:1}),C(d(Er),{class:"vtj-layout__footer",height:"20px"},{default:k(function(){return[C(d(Kl),{ref_key:"status",ref:o},null,512)]}),_:1})]}),_:1})]}),_:1},8,["locale"])}}}),Zl=["brand","toolbar","action","status","apps","workspace","setting"],eo=function(){function u(a){var e=this;ge(this,u),R(this,"widgets",void 0),R(this,"widgetInstances",{}),R(this,"regions",void 0),R(this,"regionInstances",{}),this.widgets=Oe(a),this.regions=x(function(){return Zl.reduce(function(t,n){return t[n]=e.getWidgets(n),t},{})})}return he(u,[{key:"load",value:function(e){var t=this;e.forEach(function(n){t.add(n)})}},{key:"get",value:function(e){return this.widgets.find(function(t){return t.name===e})}},{key:"set",value:function(e,t){var n=this.get(e);n&&Cn(n,t)}},{key:"add",value:function(e){this.get(e.name)?this.set(e.name,e):this.widgets.push(e)}},{key:"remove",value:function(e){var t=this.widgets.findIndex(function(r){return r.name===e});if(t>=0){var n=this.widgets[t];n.disabled=!0,this.widgets.splice(t,1)}}},{key:"getComponent",value:function(e){return e?Sn(e)?Ye[e]||Ye.Empty:e:Ye.Empty}},{key:"getWidgets",value:function(e){return this.widgets.filter(function(t){return t.region===e}).sort(function(t,n){return(t.order||0)-(n.order||0)})}},{key:"dispose",value:function(){this.widgetInstances={},this.regionInstances={}}}]),u}(),N=fr(),Gn="EVENT_SKELETON_LEFT_COLLAPSED_CHANGE",Se="EVENT_PROJECT_UPDATE",to="EVENT_PROJECT_ACTIVE_FILE",ot="EVENT_FILE_CREATE",Ut="EVENT_FILE_UPDATE",xt="EVENT_FILE_REMOVE",Mt="EVENT_ASSETS_LOADED",no="EVENT_SIMULATOR_OPEN",Jt="EVENT_SIMULATOR_READY",Ht="EVENT_COMPONENETS_DRAG_START",Wt="EVENT_COMPONENETS_DRAG_END",G="EVENT_NODE_CHANGE",qn="EVENT_VIEWPORT_MODE_CHANGE",un="EVENT_OUTLINE_SELECTED",ln="EVENT_OUTLINE_HOVER",He="EVENT_OUTLINE_CHANGE",Yn="EVENT_DESIGNER_ACTIVE_CHANGE",Xn="EVENT_ACTION_PREVIEW",Zn="EVENT_ACTION_HOME",er="EVENT_ACTION_CODER",ro="EVENT_HISTORY_GO",ao="EVENT_HISTORY_BACK",ze="EVENT_HISTORY_CHANGE",io="EVENT_HISTORY_PUSH",uo="EVENT_HISTORY_REMOVE",pt="EVENT_HISTORY_SAVE",lo=[{id:"elements",category:"特殊元素"},{id:"components",category:"内置组件"}],tr=[{name:"component",title:"动态组件",categoryId:"elements",doc:"https://cn.vuejs.org/api/built-in-special-elements.html#component",props:[{name:"is",label:"组件名",setters:"InputSetter"}],snippet:{children:"组件文本内容示例",props:{is:"div"}}},{name:"slot",title:"插槽",categoryId:"elements",doc:"https://cn.vuejs.org/api/built-in-special-elements.html#slot",props:[{name:"name",label:"名称",defaultValue:"default",setters:"InputSetter"}],snippet:{children:"插槽默认内容"}}],at=[].concat(tr,[{name:"Transition",title:"过渡效果",categoryId:"components",package:"vue",doc:"https://cn.vuejs.org/api/built-in-components.html#transition",props:[{name:"name",label:"名称",defaultValue:"",title:"用于自动生成过渡 CSS class 名",setters:"InputSetter"},{name:"css",label:"应用CSS",defaultValue:!0,title:"是否应用 CSS 过渡 class",setters:"BooleanSetter"},{name:"type",label:"事件类型",defaultValue:void 0,title:"指定要等待的过渡事件类型来确定过渡结束的时间，默认情况下会自动检测持续时间较长的类型",setters:"SelectSetter",options:["transition","animation"]},{name:"duration",label:"持续时间",defaultValue:void 0,title:"显式指定过渡的持续时间",setters:["NumberSetter","JSONSetter"]},{name:"mode",label:"时序",defaultValue:"default",title:"控制离开/进入过渡的时序。",setters:"SelectSetter",options:["in-out","out-in","default"]},{name:"appear",label:"使用过渡",defaultValue:!1,title:"是否对初始渲染使用过渡",setters:"BooleanSetter"},{name:"enterFromClass",label:"enterFromClass",defaultValue:void 0,setters:"InputSetter"},{name:"enterActiveClass",label:"enterActiveClass",defaultValue:void 0,setters:"InputSetter"},{name:"enterToClass",label:"enterToClass",defaultValue:void 0,setters:"InputSetter"},{name:"appearFromClass",label:"appearFromClass",defaultValue:void 0,setters:"InputSetter"},{name:"appearActiveClass",label:"appearActiveClass",defaultValue:void 0,setters:"InputSetter"},{name:"appearToClass",label:"appearToClass",defaultValue:void 0,setters:"InputSetter"},{name:"leaveFromClass",label:"leaveFromClass",defaultValue:void 0,setters:"InputSetter"},{name:"leaveActiveClass",label:"leaveActiveClass",defaultValue:void 0,setters:"InputSetter"},{name:"leaveToClass",label:"leaveToClass",defaultValue:void 0,setters:"InputSetter"}],events:["before-enter","before-leave","enter","leave","appear","after-enter","after-leave","after-appear","enter-cancelled","leave-cancelled","ppear-cancelled"],snippet:{children:"Transition"}},{name:"TransitionGroup",title:"过渡效果组",package:"vue",categoryId:"components",doc:"https://cn.vuejs.org/api/built-in-components.html#transitiongroup",props:[{name:"name",label:"名称",defaultValue:"",title:"用于自动生成过渡 CSS class 名",setters:"InputSetter"},{name:"tag",label:"标签名",defaultValue:void 0,title:"如果未定义，则渲染为片段 (fragment)",setters:"InputSetter"},{name:"moveClass",label:"moveClass",defaultValue:void 0,title:"用于自定义过渡期间被应用的 CSS class。",setters:"InputSetter"},{name:"css",label:"应用CSS",defaultValue:!0,title:"是否应用 CSS 过渡 class",setters:"BooleanSetter"},{name:"type",label:"事件类型",defaultValue:void 0,title:"指定要等待的过渡事件类型来确定过渡结束的时间，默认情况下会自动检测持续时间较长的类型",setters:"SelectSetter",options:["transition","animation"]},{name:"duration",label:"持续时间",defaultValue:void 0,title:"显式指定过渡的持续时间",setters:["NumberSetter","JSONSetter"]},{name:"appear",label:"使用过渡",defaultValue:!1,title:"是否对初始渲染使用过渡",setters:"BooleanSetter"},{name:"enterFromClass",label:"enterFromClass",defaultValue:void 0,setters:"InputSetter"},{name:"enterActiveClass",label:"enterActiveClass",defaultValue:void 0,setters:"InputSetter"},{name:"enterToClass",label:"enterToClass",defaultValue:void 0,setters:"InputSetter"},{name:"appearFromClass",label:"appearFromClass",defaultValue:void 0,setters:"InputSetter"},{name:"appearActiveClass",label:"appearActiveClass",defaultValue:void 0,setters:"InputSetter"},{name:"appearToClass",label:"appearToClass",defaultValue:void 0,setters:"InputSetter"},{name:"leaveFromClass",label:"leaveFromClass",defaultValue:void 0,setters:"InputSetter"},{name:"leaveActiveClass",label:"leaveActiveClass",defaultValue:void 0,setters:"InputSetter"},{name:"leaveToClass",label:"leaveToClass",defaultValue:void 0,setters:"InputSetter"}],events:["before-enter","before-leave","enter","leave","appear","after-enter","after-leave","after-appear","enter-cancelled","leave-cancelled","ppear-cancelled"],snippet:{children:"TransitionGroup"}},{name:"KeepAlive",title:"缓存切换组件",package:"vue",categoryId:"components",doc:"https://cn.vuejs.org/api/built-in-components.html#keepalive",props:[{name:"include",label:"匹配包含",title:"如果指定，则只有与 `include` 名称, 匹配的组件才会被缓存。",setters:["InputSetter","JSONSetter"]},{name:"exclude",label:"匹配排除",title:"任何名称与 `exclude` 匹配的组件都不会被缓存。",setters:["InputSetter","JSONSetter"]},{name:"max",label:"最大缓存数",title:"最多可以缓存多少组件实例。",setters:["InputSetter"]}]},{name:"Teleport",title:"传送组件",package:"vue",categoryId:"components",doc:"https://cn.vuejs.org/api/built-in-components.html#teleport",props:[{name:"to",label:"目标容器",title:"指定目标容器,可以是选择器或实际元素",setters:["InputSetter"]},{name:"disabled",label:"目标容器",title:"当值为 `true` 时，内容将保留在其原始位置, 而不是移动到目标容器中, 可以动态更改",setters:["BooleanSetter"]}]},{name:"Suspense",title:"异步依赖",package:"vue",categoryId:"components",doc:"https://cn.vuejs.org/api/built-in-components.html#suspense",props:[{name:"timeout",label:"timeout",setters:["InputSetter"]}]}]),oo=function(){function u(a,e){var t=this;ge(this,u),R(this,"unwatch",void 0),R(this,"packages",[]),R(this,"elements",[].concat(tr)),R(this,"elementsMap",{}),R(this,"components",Ze(at)),R(this,"componentMap",{}),R(this,"componentGroups",[]),R(this,"isReady",!1),this.service=a,this.project=e,e&&(this.unwatch=ce(e.dependencies,function(n){return t.load(n)},{deep:!0})),this.elementsMap=this.parseMap(this.elements,!1)}return he(u,[{key:"clear",value:function(){this.components=Ze(at),this.componentMap={},this.componentGroups=[]}},{key:"getCateoryComponents",value:function(e,t){var n=t.filter(function(r){return r.categoryId===e.id&&r.hidden!==!0});return{name:e.id,label:e.category,count:n.length,components:n}}},{key:"parseGroups",value:function(e){var t=this,n=[],r=Pe(e),i;try{var l=function(){var s=i.value,c=s.categories,v=s.components,f=s.label,m=s.name,g=s.library,h=s.names;if(!c||!v)return 1;var _=c.map(function(w){return t.getCateoryComponents(w,v)}),b=_.reduce(function(w,A){return A.count+w},0),y={name:s.name,label:f||m,library:g,names:h,count:b,children:_};n.push(y)};for(r.s();!(i=r.n()).done;)l()}catch(o){r.e(o)}finally{r.f()}return n}},{key:"parseMap",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n={};if(t){var r=Pe(e),i;try{for(r.s();!(i=r.n()).done;){var l=i.value;l.package&&(n[l.name]=l)}}catch(v){r.e(v)}finally{r.f()}}else{var o=Pe(e),s;try{for(o.s();!(s=o.n()).done;){var c=s.value;n[c.name]=c}}catch(v){o.e(v)}finally{o.f()}}return n}},{key:"load",value:function(){var a=K(O().mark(function t(n){var r,i,l,o,s,c,v,f,m;return O().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:this.packages=n,this.isReady=!1,r=n.filter(function(_){return!!_.assetsUrl&&_.enabled}),this.clear(),i=[{name:"vue",label:"内置",names:at.map(function(_){return _.name}),library:"Vue",components:at,categories:lo}],l=Pe(r),h.prev=5,l.s();case 7:if((o=l.n()).done){h.next=15;break}return s=o.value,h.next=11,Vn(s.assetsUrl,{},{name:s.assetsLibrary,script:!0}).catch(function(_){return null});case 11:c=h.sent,c&&(c.name=c.name||s.assetsLibrary,c.library=s.library,c.names=(c.components||[]).map(function(_){return _.name}),i.push(c),this.components=this.components.concat(c.components||[]));case 13:h.next=7;break;case 15:h.next=20;break;case 17:h.prev=17,h.t0=h.catch(5),l.e(h.t0);case 20:return h.prev=20,l.f(),h.finish(20);case 23:return this.componentGroups=this.parseGroups(i),this.componentMap=this.parseMap(this.components),this.isReady=!0,N.emit(Mt),v=this.components,f=this.componentGroups,m=this.componentMap,h.abrupt("return",{components:v,componentGroups:f,componentMap:m});case 26:case"end":return h.stop()}},t,this,[[5,17,20,23]])}));function e(t){return a.apply(this,arguments)}return e}()},{key:"getBlockDescription",value:function(){var a=K(O().mark(function t(n){var r,i,l,o,s,c,v,f;return O().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!(!n||typeof n=="string")){g.next=2;break}return g.abrupt("return",null);case 2:if(r=n.type==="Schema"?n.id:null,r){g.next=5;break}return g.abrupt("return",null);case 5:return g.next=7,this.service.getFile(r);case 7:if(i=g.sent,i){g.next=10;break}return g.abrupt("return",null);case 10:return l=i.id,o=i.name,s=i.slots,c=i.props,v=i.emits,f=function(_){var b=Array.isArray(_)?_:[_],y=[],w=Pe(b),A;try{for(w.s();!(A=w.n()).done;){var j=A.value;y=y.concat(Kn[j.toLowerCase()]||[])}}catch(I){w.e(I)}finally{w.f()}return y},g.abrupt("return",{id:l,name:o,childIncludes:s!=null&&s.length?void 0:!1,props:(c||[]).map(function(h){return typeof h=="string"?{name:h}:{name:h.name,type:h.type,setters:f(h.type)}}),events:v,slots:s});case 12:case"end":return g.stop()}},t,this)}));function e(t){return a.apply(this,arguments)}return e}()},{key:"dispose",value:function(){this.clear(),this.unwatch&&this.unwatch()}}]),u}();function so(u,a,e){var t=u.value,n=u.iterator,r=n||{},i=r.item,l=i===void 0?"item":i,o=r.index,s=o===void 0?"index":o,c=e.__parseExpression(t)||[];return Number.isInteger(c)&&(c=new Array(c).fill(!0).map(function(v,f){return f+1})),Array.isArray(c)?c.map(function(v,f){var m;return a(e.__clone((m={},R(m,l,v),R(m,s,f),m)))}):(console.warn("[vForRender]:",`${t==null?void 0:t.value} is not a Arrary`),[])}function co(u,a){return!!a.__parseExpression(u.value)}function vo(u,a){return a.__parseExpression(u.value)?{}:{display:"none"}}function fo(u,a,e){var t,n={type:"JSFunction",value:(t=a.value)!==null&&t!==void 0&&t.value?`(v) => {
        ${a.value.value} = v;
      }`:"(v) => {}"},r=e.__parseFunction(n),i=Mn(a.modifiers),l=Ce(a.arg)?e.__parseExpression(a.arg):a.arg||"modelValue";return R({modelValue:e.__parseExpression(a.value)},`onUpdate:${l}`,i.length&&r?u.withModifiers(r,i):r)}function po(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";return typeof u=="string"?{name:u,params:[]}:J({params:[]},u)}function mo(u,a){var e=u.props,t=(e==null?void 0:e.name)||"default";return{name:Ce(t)?a.__parseExpression(t):t,params:[]}}function ho(u){var a={default:{params:[],nodes:[]}},e=Pe(u),t;try{for(e.s();!(t=e.n()).done;){var n=t.value,r=po(n.slot),i=r.name;a[i]?(a[i].nodes.push(n),a[i].params=a[i].params.concat(r.params)):a[i]={nodes:[n],params:r.params}}}catch(l){e.e(l)}finally{e.f()}return a}function go(u,a,e){if(!a)return null;if(Sn(a))return{default:function(){return a}};if(Ce(a))return{default:function(){return xn(e.__parseExpression(a))}};if(Array.isArray(a)){var t=ho(a);return Object.entries(t).reduce(function(n,r){var i=De(r,2),l=i[0],o=i[1],s=o.nodes,c=o.params;return n[l]=function(v){var f=c.length?da(v!=null?v:{},c):v!=null?v:{};return s.map(function(m){return mt(u,m,e.__clone(f))})},n},{})}}function yo(u,a,e){var t=Object.keys(a||{}).reduce(function(n,r){var i=a[r];return Ce(i)?i=e.__parseExpression(i):kt(i)&&(i=e.__parseFunction(i)),n[r]=i,n},{});return t.ref=e.__ref(u,t.ref),t}function bo(u,a,e){var t=["passive","capture","once"],n={capture:"Capture",once:"Once",passive:"OnceCapture"};return Object.keys(a||{}).reduce(function(r,i){var l=a[i],o=Mn(l.modifiers),s=o.find(function(f){return t.includes(f)}),c="on"+or(i)+(s&&n[s]||""),v=e.__parseFunction(l.handler);return v&&(r[c]=u.withModifiers(v,o)),r},{})}function ko(u,a,e,t){var n,r=a.children,i=mo(a,t),l=(n=t.$slots)===null||n===void 0?void 0:n[i.name];return l?l(e):r?typeof r=="string"?u.createTextVNode(r):Ce(r)?u.createTextVNode(xn(t.__parseExpression(r))):Array.isArray(r)?r.map(function(o){return mt(u,o,t)}):null:null}function _o(u,a){return a?Ce(a)?u.__parseExpression(a):a:"div"}function mt(u,a,e){if(!a||!a.name||a.invisible)return null;var t=a.id,n=t===void 0?null:t,r=a.directives,i=r===void 0?[]:r,l=va(i),o=l.vIf,s=l.vFor,c=l.vShow,v=l.vModels,f=l.vBind;if(o&&!co(o,e))return null;var m=function(h){var _,b,y,w,A=h.$components,j=function(F){if(a.name==="component")return _o(h,a.props.is);if(a.name==="slot")return a.name;var U=h.__loader(u,a.name,a.from);return typeof U=="string"&&(F=A[U])!==null&&F!==void 0?F:U}(),I=yo(n,(_=a.props)!==null&&_!==void 0?_:{},h),T=bo(u,(b=a.events)!==null&&b!==void 0?b:{},h);if(a.name==="slot")return ko(u,a,I,h);f&&Object.assign(I,h.__parseExpression(f.value)),c&&(I.style=Object.assign((y=I.style)!==null&&y!==void 0?y:{},vo(c,h))),v.forEach(function(F){Object.assign(I,fo(u,F,h))});var $=go(u,(w=a.children)!==null&&w!==void 0?w:[],h);return u.createVNode(j,J(J({},I),T),$)};return s?so(s,m,e):m(e)}var wo=function(a,e){return e};function nr(u){var a=u.getFile,e=u.options;return function(t,n,r){return!r||typeof r=="string"?n:r.type==="Schema"?t.defineAsyncComponent(K(O().mark(function i(){var l;return O().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a(r.id);case 2:return l=s.sent,s.abrupt("return",l?rr(J(J({},e),{},{Vue:t,dsl:l,loader:nr(u)})):null);case 4:case"end":return s.stop()}},i)}))):n}}var zt=function(u){return u.RUNTIME="runtime",u.DESIGN="design",u.RAW="raw",u.VNODE="vnode",u}(zt||{}),Co=function(){function u(a){ge(this,u),R(this,"__id",null),R(this,"__name",""),R(this,"__mode",void 0),R(this,"__dsl",null),R(this,"__instance",null),R(this,"__context_refs",{}),R(this,"__loader",wo),R(this,"__proto__",null),R(this,"props",{}),R(this,"state",{}),R(this,"context",{}),R(this,"refs",{}),R(this,"$refs",{}),R(this,"$el",null),R(this,"$emit",null),R(this,"$nextTick",null),R(this,"$parent",null),R(this,"$root",null),R(this,"$attrs",null),R(this,"$slots",null),R(this,"$watch",null),R(this,"$options",null),R(this,"$forceUpdate",null),R(this,"$components",{}),R(this,"$libs",{}),R(this,"$apis",{}),R(this,"__transform",{});var e=a.mode,t=e===void 0?"runtime":e,n=a.dsl,r=a.loader,i=a.attrs;this.__mode=t,n&&(this.__id=n.id||null,this.__name=n.name,this.__dsl=n,t==="runtime"&&(this.__transform=n.transform||{})),r&&(this.__loader=r),i&&Object.assign(this,i)}return he(u,[{key:"setup",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vr,r=n.getCurrentInstance();if(r){this.__instance=r.proxy;var i=r.appContext.config.globalProperties;Object.assign(this,i),Object.assign(this,t||{}),this.__proxy(),n.onMounted(function(){e.__proxy()}),n.onUnmounted(function(){e.__cleanup()})}}},{key:"__clone",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=J({},J(J({},this.context),e));return t.__proto__=this,t}},{key:"__parseFunction",value:function(e){if(e)if(this.__mode==="runtime"){var t,n=e.id,r=e.type,i=n&&(t=this.__transform[n])!==null&&t!==void 0?t:e.value;return et({type:r,value:i},this)}else return et(e,this)}},{key:"__parseExpression",value:function(e){if(e)if(this.__mode==="runtime"){var t,n=e.id,r=e.type,i=n&&(t=this.__transform[n])!==null&&t!==void 0?t:e.value;return Qe({type:r,value:i},this)}else return Qe(e,this)}},{key:"__proxy",value:function(){var e=this;this.__instance&&hn.forEach(function(t){var n;e[t]=(n=e.__instance)===null||n===void 0?void 0:n[t]})}},{key:"__cleanup",value:function(){var e=this;hn.forEach(function(t){e[t]=null})}},{key:"__ref",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;if(this.__mode!=="vnode")return function(r){var i=(r==null?void 0:r.$el)||r;if(!i){typeof n=="string"&&(delete e.$refs[n],t&&delete e.refs[t]);return}if(i.nodeType===3&&i.nextSibling&&(i=i.nextSibling),i.__vtj__=t,e.__mode==="design"&&(i.__context__=e,t&&t!==e.__id&&(e.__context_refs[t]=e)),t&&(e.refs[t]=r),typeof n=="function")n(r);else if(n){var l=e.$refs[n];if(l){var o=new Set([].concat(l,r));e.$refs[n]=Array.from(o)}else e.$refs[n]=r}return r}}}]),u}(),So=["Transition","TransitionGroup","KeepAlive","Teleport","Suspense"],Vo={String,Number,Boolean,Array,Object};function jo(u,a,e){return u.reactive(Object.keys(a||{}).reduce(function(t,n){var r=a[n];return Ce(r)?r=e.__parseExpression(r):kt(r)&&(r=e.__parseFunction(r)),t[n]=r,t},{}))}function Eo(u,a){return Object.entries(u!=null?u:{}).reduce(function(e,t){var n=De(t,2),r=n[0],i=n[1];return e[r]=a.__parseFunction(i),e},{})}function $o(u){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],e=arguments.length>2?arguments[2]:void 0;a.forEach(function(t){u.watch(e.__parseExpression(t.source),e.__parseFunction(t.handler),{deep:t.deep,immediate:t.immediate})})}function Ao(u,a,e){return Object.entries(a!=null?a:{}).reduce(function(t,n){var r=De(n,2),i=r[0],l=r[1];return t[i]=u.computed(e.__parseFunction(l)),t},{})}function Do(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,e=function(n){return n?(Array.isArray(n)?n:[n]).map(function(r){return Vo[r]}):void 0};return u.map(function(t){return typeof t=="string"?{name:t}:{name:t.name,type:t.type,required:t.required,default:Ce(t.default)?a.__parseExpression(t.default):t.default}}).reduce(function(t,n){return t[n.name]={type:e(n.type),required:n.required,default:n.default},t},{})}function Io(u,a){return Object.entries(u!=null?u:{}).reduce(function(e,t){var n=De(t,2),r=n[0],i=n[1];return e[r]=a.__parseFunction(i),e},{})}function Po(u){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],e=arguments.length>2?arguments[2]:void 0;return a.reduce(function(t,n){var r,i=n||{},l=i.name,o=i.from;n.default;var s=Ce(o)?e.__parseExpression(o)||l:o!=null?o:l,c=Ce(n.default)?e.__parseExpression(n.default):(r=n.default)!==null&&r!==void 0?r:null;return t[l]=u.inject(s,c),t},{})}function Ro(u,a,e){return Object.keys(a).reduce(function(t,n){var r=a[n],i=e.$apis[r.detail],l=kt(r.transform)?r.transform.value?e.__parseFunction(r.transform):void 0:r.transform;return t[n]=K(O().mark(function o(){var s,c,v,f,m=arguments;return O().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:for(s=m.length,c=new Array(s),v=0;v<s;v++)c[v]=m[v];return h.next=3,i.apply(e,c);case 3:return f=h.sent,h.abrupt("return",l?l(f):f);case 5:case"end":return h.stop()}},o)})),t},{})}function Oo(u,a,e){var t=u.CSSStyleSheet;if(t.prototype.replaceSync){var n=new t;n.id=a,n.replaceSync(e);var r=u.document,i=r.adoptedStyleSheets,l=Array.from(i).filter(function(c){return c.id!==a});r.adoptedStyleSheets=[].concat(Ze(l),[n])}else{var o=u.document,s=o.getElementById(a);s?s.innerHTML=e:(s=o.createElement("style"),s.id=a,s.innerHTML=e,o.head.appendChild(s))}}function rr(u){var a,e,t,n=u.Vue,r=u.block,i=u.components,l=i===void 0?{}:i,o=u.libs,s=o===void 0?{}:o,c=u.apis,v=c===void 0?{}:c,f=u.loader,m=r?zt.DESIGN:zt.RUNTIME,g=n.computed(function(){return u.dsl}),h=So.reduce(function(b,y){return b[y]=n[y],b},{}),_=new Co({mode:m,dsl:g.value,loader:f,attrs:{$components:J(J({},h),l),$libs:s,$apis:v}});return g.value.id&&Oo(u.window||window,g.value.id,g.value.css||""),n.defineComponent(J({name:g.value.name,props:J({},Do((a=g.value.props)!==null&&a!==void 0?a:[],_)),setup:function(y){var w,A,j,I;_.props=y,_.state=jo(n,(w=g.value.state)!==null&&w!==void 0?w:{},_);var T=Ao(n,(A=g.value.computed)!==null&&A!==void 0?A:{},_),$=Io((j=g.value.methods)!==null&&j!==void 0?j:{},_),F=Po(n,g.value.inject,_),U=Ro(n,g.value.dataSources||{},_),V=J(J(J(J({},F),T),$),U);return _.setup(V,n),$o(n,(I=g.value.watch)!==null&&I!==void 0?I:[],_),r&&r.id===_.__id&&(r.runtimeContext=_),n.onUnmounted(function(){r&&r.id===_.__id&&(r.runtimeContext=void 0)}),{vtj:_}},emits:Ze((e=g.value.emits)!==null&&e!==void 0?e:[]),expose:["vtj"],render:function(){if(!g.value.children)return null;var y=g.value.children||[];return y.length===1?mt(n,y[0],_):y.map(function(w){return mt(n,w,_)})}},Eo((t=g.value.lifeCycles)!==null&&t!==void 0?t:{},_)))}var Bo=function(){function u(a,e,t){ge(this,u),R(this,"app",null),R(this,"dsl",null),R(this,"onNodeChangeProxy",void 0),this.env=a,this.service=e,this.history=t,this.onNodeChangeProxy=this.onNodeChange.bind(this)}return he(u,[{key:"install",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=Object.values(t);this.app&&(Object.assign(this.app.config.globalProperties,n),this.app.config.errorHandler=function(i,l,o){var s=`[ ${l==null?void 0:l.$options.name}] ${(i==null?void 0:i.message)||i||"未知错误"}`;console.error({err:i,instance:l,info:o}),Ae.error({title:"运行错误",message:s})},r.forEach(function(i){var l;(typeof i=="function"||i.install)&&((l=e.app)===null||l===void 0||l.use(i))}))}},{key:"render",value:function(e){this.app&&this.dispose();var t=this.env,n=t.Vue,r=t.container,i=t.components,l=t.libs,o=t.apis,s=t.window,c=t.globals,v=nr({getFile:this.service.getFile,options:{Vue:n,block:e,components:i,libs:l,apis:o,window:s}});this.dsl=n.reactive(e.toDsl());var f=rr({Vue:n,dsl:this.dsl,block:e,components:i,libs:l,apis:o,window:s,loader:v});this.app=n.createApp(f),this.install(l,c),this.app.mount(r),N.on(G,this.onNodeChangeProxy)}},{key:"onNodeChange",value:function(e){if(se(e))this.render(e);else if(this.dsl){var t=e.toDsl();this.updateChild(t,this.dsl)}this.dsl&&this.history.value&&this.history.value.push(this.dsl)}},{key:"updateChild",value:function(e,t){var n=t.children||[];if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];if(i.id===e.id){n.splice(r,1,e);return}else this.updateChild(e,i)}}},{key:"dispose",value:function(){this.app&&(this.app.unmount(),this.app=null),this.dsl=null,N.off(G,this.onNodeChangeProxy)}}]),u}(),To=function(){function u(a){var e=this;ge(this,u),R(this,"unwatches",[]),R(this,"iframe",null),R(this,"contentWindow",null),R(this,"project",void 0),R(this,"renderer",null),R(this,"assets",void 0),R(this,"service",void 0),R(this,"globals",void 0),R(this,"history",D(null)),R(this,"isReady",!1);var t=a.project,n=a.assets,r=a.service,i=a.globals;this.project=t,this.assets=n,this.service=r,this.globals=i,N.on(Mt,function(){return e.open()}),N.on(pt,function(l){return e.service.saveHistory(l)}),N.on(ze,function(l){var o,s=t.current.value;s&&(s.init(l.block),(o=e.renderer)===null||o===void 0||o.render(s))}),this.unwatches.push(ce(t.current,function(){var l=K(O().mark(function o(s){var c,v;return O().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!s){m.next=6;break}return m.next=3,e.loadHistory(s);case 3:(c=e.renderer)===null||c===void 0||c.render(s),m.next=7;break;case 6:e.history.value=null,(v=e.renderer)===null||v===void 0||v.dispose();case 7:case"end":return m.stop()}},o)}));return function(o){return l.apply(this,arguments)}}()))}return he(u,[{key:"loadHistory",value:function(){var a=K(O().mark(function t(n){var r;return O().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.service.getHistory(n.id);case 2:r=l.sent,this.history.value=new ni({history:{blockId:n.id,items:r}});case 4:case"end":return l.stop()}},t,this)}));function e(t){return a.apply(this,arguments)}return e}()},{key:"init",value:function(e){var t=this;ce(e,function(n){n&&(t.iframe=n,t.assets.isReady&&t.open())})}},{key:"open",value:function(){if(this.iframe){this.isReady=!1,this.contentWindow=this.iframe.contentWindow,this.contentWindow.__simulator__=this;var e=this.contentWindow.document;N.emit(no,e);var t=this.parseDependencies(),n=t.scripts,r=t.css;e.open(),e.write(`
     <!DOCTYPE html>
     <html lang="zh-CN">
       <head>
       <meta charset="utf-8">
       <meta name="viewport"
             content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0,viewport-fit=cover"/>
         <style>
            html, body {
              background: #fff;
              padding: 0;
              margin: 0;
              min-height: 100vh;
              width: 100%;
              height: 100%;
              font-size:12px;
            }
         </style>
         ${ha(r)}
         ${ma(n)}
       </head>
       <body> 
       </body>
       <script>
       __simulator__.ready();
     <\/script> 
     </html>
    `),e.close()}}},{key:"parseDependencies",value:function(){var e=this.project.dependencies.value.filter(function(r){return r.enabled}),t=[],n=[];return e.forEach(function(r){var i=r.urls;i==null||i.forEach(function(l){pa(l)&&t.push(l),fa(l)&&n.push(l)})}),{scripts:t,css:n}}},{key:"parseApis",value:function(){return this.project.apis.value.reduce(function(e,t){return e[t.name]=ga(t),e},{})}},{key:"createEnv",value:function(){var e=this.contentWindow,t=this.assets,n=this.globals,r=this.project.dependencies.value,i=t.componentGroups,l={window:e,Vue:null,libs:{},components:{},apis:this.parseApis(),container:e==null?void 0:e.document.body,globals:n};return r.filter(function(o){return!!o.enabled}).forEach(function(o){var s,c=o.library,v=e[c];v&&(l.libs[c]=v,c===mn&&(l[mn]=v),(((s=i.find(function(f){return f.library===c}))===null||s===void 0?void 0:s.names)||[]).forEach(function(f){l.components[f]=v[f]}))}),l}},{key:"ready",value:function(){var e,t;this.isReady=!0,(e=this.renderer)!==null&&e!==void 0&&e.dispose(),this.renderer=null;var n=this.project.current.value,r=this.createEnv();this.renderer=new Bo(r,this.service,this.history),n&&this.renderer.render(n),N.emit(Jt,(t=this.contentWindow)===null||t===void 0?void 0:t.document)}},{key:"dispose",value:function(){var e;(e=this.renderer)!==null&&e!==void 0&&e.dispose(),this.contentWindow=null,this.iframe=null,this.renderer=null,this.history.value=null,this.unwatches.forEach(function(t){return t()}),N.off(Mt),N.off(pt),N.off(ze)}}]),u}(),on=Symbol("VtjEngine"),Fo=function(){function u(a){var e=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ge(this,u),R(this,"config",void 0),R(this,"skeleton",void 0),R(this,"app",void 0),R(this,"service",void 0),R(this,"emitter",N),R(this,"project",void 0),R(this,"assets",void 0),R(this,"simulator",void 0);var n=t.config,r=n===void 0?{}:n,i=t.service,l=i===void 0?new Wn:i,o=t.project,s=t.globals,c=s===void 0?{}:s;this.service=l,this.config=Aa(Ea,r),this.skeleton=new eo(this.config.widgets||[]),this.project=Pn(new ti(o,this.config.dependencies)),this.assets=new oo(this.service,this.project),this.simulator=new To({project:this.project,assets:this.assets,service:this.service,globals:c}),this.app=Rn(Xl,{engine:st(this)}),this.bindListeners(),this.loadProject(this.project.toDsl()),ht(function(){var v;e.app.mount((v=d(a))!==null&&v!==void 0?v:document.body)}),Ke(function(){e.dispose()})}return he(u,[{key:"loadProject",value:function(){var a=K(O().mark(function t(n){var r,i,l;return O().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return r=this.service,i=this.project,s.next=4,r.getProject(n||{name:"未命名项目"});case 4:l=s.sent,i.load(l);case 6:case"end":return s.stop()}},t,this)}));function e(t){return a.apply(this,arguments)}return e}()},{key:"bindListeners",value:function(){var e=this,t=this.emitter,n=this.service;t.on(Se,function(r){return n.updateProject(r)}),t.on(ot,function(r){return n.createFile(r)}),t.on(Ut,function(r){return n.updateFile(r)}),t.on(xt,function(r){return n.removeFile(r)}),t.on(G,function(){var r=e.project.current.value;r&&n.updateFile(r.toDsl())})}},{key:"dispose",value:function(){this.emitter.all.clear(),this.skeleton.dispose(),this.assets.dispose(),this.simulator.dispose(),this.app.unmount()}}]),u}(),No=function(){function u(a,e,t){var n=this;ge(this,u),R(this,"draggingComponent",null),R(this,"document",null),R(this,"proxied",{}),R(this,"hover",Ct(null)),R(this,"dropping",Ct(null)),R(this,"selected",Ct(null)),this.engine=a,this.iframe=e,this.slotPicker=t,a.simulator.init(e),N.on(Jt,function(r){n.bindEvents(r)}),N.on(Ht,function(r){n.draggingComponent=r}),N.on(Wt,function(){n.draggingComponent=null}),N.on(ze,function(){n.selected.value=null,n.hover.value=null}),ce(a.project.current,function(){n.selected.value=null,n.hover.value=null})}return he(u,[{key:"dispose",value:function(){this.engine.simulator.dispose(),N.off(Jt),N.off(Ht),N.off(Wt),this.document&&(this.unbindEvents(this.document),this.document=null)}},{key:"getNodeByElement",value:function(e){var t,n=(t=e.__vtj__)!==null&&t!==void 0?t:"";return ft.nodes[n]||null}},{key:"getElementByNode",value:function(e){return!this.document||!e?null:se(e)?this.document.body:Array.from(this.document.querySelectorAll("*")).find(function(t){return t.__vtj__===e.id})}},{key:"getDropType",value:function(e,t,n){var r=e.left,i=e.top,l=e.width,o=e.height;return t>=r&&t<=r+l*.2?"left":t>=r+l*.8&&t<=r+l?"right":n>=i&&n<=i+o*.2?"top":n>=i+o*.8&&n<=i+o?"bottom":"inner"}},{key:"getElementAndNode",value:function(e){var t=this.engine,n=this.document,r=e.composedPath(),i=this.findVtjElement(r)||(n==null?void 0:n.body),l=i?this.getNodeByElement(i)||t.project.current.value:null;return{el:i,node:l,path:r}}},{key:"onDragOver",value:function(e){var t=this.getElementAndNode(e),n=t.el,r=t.node;if(r&&n&&this.allowDrop(r)){e.preventDefault();var i=n.getBoundingClientRect();this.dropping.value={el:n,node:r,rect:i,type:this.getDropType(i,e.clientX,e.clientY),path:[]}}else this.dropping.value=null}},{key:"onMouseOver",value:function(e){var t=this.getElementAndNode(e),n=t.el,r=t.node;if(n&&r){var i=n.getBoundingClientRect();this.hover.value={el:n,node:r,rect:i,type:"inner",path:[]}}}},{key:"onLeave",value:function(e){this.hover.value=null,this.dropping.value=null}},{key:"createNodeDsl",value:function(e){var t=e.name,n=e.snippet,r=n===void 0?{}:n,i=e.from;return J(J({},r),{},{name:t,from:i||e.package})}},{key:"getDropSlot",value:function(){var a=K(O().mark(function t(n){var r,i,l,o,s,c,v;return O().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(n){m.next=2;break}return m.abrupt("return");case 2:return i=this.engine,l=this.slotPicker,o=i.assets.componentMap,m.next=7,i.assets.getBlockDescription(n.from);case 7:if(m.t0=m.sent,m.t0){m.next=10;break}m.t0=o[n.name];case 10:if(s=m.t0,s!=null&&s.slots){m.next=13;break}return m.abrupt("return");case 13:if(c=((s==null?void 0:s.slots)||["default"]).map(function(g){return typeof g=="string"?{name:g,params:[]}:{name:g.name,params:g.params||[]}}),c.length!==0){m.next=16;break}return m.abrupt("return");case 16:if(c.length!==1){m.next=18;break}return m.abrupt("return",c[0]);case 18:return m.next=20,l(c).catch(function(g){});case 20:if(v=m.sent,v&&v.name==="default"&&(!v.params||((r=v.params)===null||r===void 0?void 0:r.length)===0)){m.next=23;break}return m.abrupt("return",v);case 23:case"end":return m.stop()}},t,this)}));function e(t){return a.apply(this,arguments)}return e}()},{key:"onDrop",value:function(){var a=K(O().mark(function t(n){var r,i,l,o,s,c,v,f,m,g;return O().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(n.preventDefault(),r=this.engine,i=this.draggingComponent,l=this.dropping,o=r.project.current.value,!(!o||!i||!l.value)){_.next=4;break}return _.abrupt("return");case 4:if(s=this.getElementAndNode(n),c=s.el,v=s.node,!(!c||!v||!this.allowDrop(v))){_.next=7;break}return _.abrupt("return");case 7:return f=this.createNodeDsl(i),m=new ft(f),g=l.value.type,_.next=10,this.getDropSlot(g==="inner"?v:v.parent);case 10:m.slot=_.sent,se(v)?o.appendChild(m):o.appendChild(m,v,g);case 12:case"end":return _.stop()}},t,this)}));function e(t){return a.apply(this,arguments)}return e}()},{key:"onSelected",value:function(e){var t=this.getElementAndNode(e),n=t.el,r=t.node,i=t.path;if(n&&r){var l=n.getBoundingClientRect();this.selected.value={el:n,node:r,rect:l,path:this.getNodePath(i),type:this.getDropType(l,e.clientX,e.clientY)}}}},{key:"onViewChange",value:function(){this.updateRect()}},{key:"updateRect",value:function(){var e=d(this.selected),t=d(this.hover);if(e){var n=e.el.getBoundingClientRect();this.selected.value=J(J({},e),{},{rect:n})}if(t){var r=t.el.getBoundingClientRect();this.hover.value=J(J({},t),{},{rect:r})}}},{key:"getNodePath",value:function(e){var t=this,n=e.filter(function(i){return t.isVtjElement(i)&&t.isCurrentContext(i)}).map(function(i){return t.getNodeByElement(i)}),r=this.engine.project.current.value;return r&&n.push(r),n}},{key:"isVtjElement",value:function(e){return!!e.__vtj__}},{key:"isCurrentContext",value:function(e){var t,n,r=(t=this.engine.project.current.value)===null||t===void 0?void 0:t.id,i=(n=e.__context__)===null||n===void 0?void 0:n.__id;return r===i}},{key:"findVtjElement",value:function(e){var t=this;return e.find(function(n){return t.isVtjElement(n)&&t.isCurrentContext(n)})}},{key:"bind",value:function(e,t){var n=this.proxied[t];return n||(n=e.bind(this),this.proxied[t]=n),n}},{key:"bindEvents",value:function(e){this.document&&this.unbindEvents(this.document);var t=this.engine.simulator.contentWindow;e.addEventListener("mouseover",this.bind(this.onMouseOver,"onMouseOver")),e.addEventListener("mouseleave",this.bind(this.onLeave,"onLeave")),e.addEventListener("dragover",this.bind(this.onDragOver,"onDragOver")),e.addEventListener("dragleave",this.bind(this.onLeave,"onLeave")),e.addEventListener("drop",this.bind(this.onDrop,"onDrop")),e.addEventListener("click",this.bind(this.onSelected,"onSelected")),e.addEventListener("scroll",this.bind(this.onViewChange,"onViewChange")),t!=null&&t.addEventListener("resize",this.bind(this.onViewChange,"onViewChange")),this.document=e}},{key:"unbindEvents",value:function(e){var t=this.engine.simulator.contentWindow;e.removeEventListener("mouseover",this.bind(this.onMouseOver,"onMouseOver")),e.removeEventListener("mouseleave",this.bind(this.onLeave,"onLeave")),e.removeEventListener("dragover",this.bind(this.onDragOver,"onDragOver")),e.removeEventListener("dragleave",this.bind(this.onLeave,"onLeave")),e.removeEventListener("drop",this.bind(this.onDrop,"onDrop")),e.removeEventListener("click",this.bind(this.onSelected,"onSelected")),e.removeEventListener("scroll",this.bind(this.onViewChange,"onViewChange")),t!=null&&t.removeEventListener("resize",this.bind(this.onViewChange,"onViewChange")),this.document=null}},{key:"allowDrop",value:function(e){var t=this.draggingComponent,n=this.engine;if(!t)return!0;var r=n.project.current.value;return r&&r.allowDrop(t,e,n.assets)}},{key:"setHover",value:function(e){var t=this.getElementByNode(e);if(t){var n=t.getBoundingClientRect();this.hover.value={el:t,node:e,rect:n,type:"inner",path:[]}}}},{key:"setSelected",value:function(e){if(this.document){var t=this.getElementByNode(e)||this.document.createElement("span"),n=t.getBoundingClientRect();this.selected.value={el:t,node:e,rect:n,path:this.findPathByNode(e),type:"inner"}}}},{key:"findPathByNode",value:function(e){var t=[e];if(se(e))return t;for(var n=e;n.parent&&n.parent!==n;)n=n.parent,n!==e&&t.unshift(n);return t.reverse()}}]),u}();const Lo=u=>(Sr("data-v-d0c5bfdc"),u=u(),Vr(),u),Uo={class:"vtj-ide"},xo={class:"file-list"},Mo={key:1},Jo=Lo(()=>H("div",{class:"error-tip"}," 错误日志已保存. 这可能是系统的bug。您可以把日志提交给作者协助解决。 ",-1)),Ho=Q({__name:"index",setup(u){return wt(this,null,function*(){const a=D(!1),e=D(!1),t=D([]),n=D(null),r=D(!1),i=D();Gt("VTJ_PROVIDER_OPTIONS",null);const l=location.pathname,o={project:{base:l,home:"/startup"}},{project:s,raw:c=!1,service:v="storage",debug:f}=o||{},{id:m="ide",name:g="IDE",base:h="/",mode:_="hash",page:b="/page",preview:y="/preview",home:w="/"}=s||{},A=new Fo(i,{service:v==="file"?new Da:new Wn,config:{widgets:[{name:"switcher",props:{link:`${l}#${w}`}},{name:"actions",props:{coder:!0}}]},project:{id:m,name:g},globals:{$route:ar(),$router:ir()}});return A.emitter.on(Xn,j=>{const I=_==="hash"?"#":"";let T="";sr(j)?T=c?`${h}${I}${y}/${j.id}`:`${h}${I}${b}/${j.id}`:T=`${h}${I}${y}/${j.id}`,window.open(T)}),A.emitter.on(Zn,j=>{const T=`${h}${_==="hash"?"#":""}${w}`;window.open(T)}),A.emitter.on(er,j=>wt(this,null,function*(){if(v==="storage"){j.value=!1,a.value=!0;return}e.value=!0,r.value=!0,t.value=[],n.value=null;const I=A.project.toDsl(),T=A.assets.componentMap,$=A.assets.packages;t.value=yield cr({type:"projectCoder",data:{debug:f,project:I,assets:{componentMap:T,packages:$}}}).catch(F=>(n.value=F.data,console.log(F),[])),r.value=!1})),(j,I)=>(p(),B("div",Uo,[H("div",{ref_key:"container",ref:i,class:"container"},null,512),C(d(fe),{modelValue:a.value,"onUpdate:modelValue":I[0]||(I[0]=T=>a.value=T),title:"温馨提示",width:"500px",height:"180px"},{default:k(()=>[C(d(nt),{title:"当前设计器是Storage模式，不支持出码功能",type:"warning",closable:!1,description:"可以使用以下命令下载完整版本体验"}),C(d(nt),{class:"npm-command",closable:!1,type:"info",title:"npm create vtj@latest -- -t web"})]),_:1},8,["modelValue"]),C(d(fe),{modelValue:e.value,"onUpdate:modelValue":I[1]||(I[1]=T=>e.value=T),title:"出码结果",width:"800px",height:"400px"},{default:k(()=>[C(d(Wr),{rows:3,animated:"",loading:r.value},{default:k(()=>[n.value?L("",!0):(p(),E(d(nt),{key:0,closable:!1,type:"success",title:`输出文件数: ${t.value.length}`},null,8,["title"])),H("div",xo,[(p(!0),B(q,null,Y(t.value,T=>(p(),B("div",null,Z(T),1))),256))]),n.value?(p(),B("div",Mo,[C(d(nt),{closable:!1,type:"error",title:"出码失败",description:n.value.msg},null,8,["description"]),Jo])):L("",!0)]),_:1},8,["loading"])]),_:1},8,["modelValue"])]))})}});const is=dr(Ho,[["__scopeId","data-v-d0c5bfdc"]]);export{is as default};
