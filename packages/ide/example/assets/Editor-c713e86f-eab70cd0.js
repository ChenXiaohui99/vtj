import{W as B,a as C,b as M,c as z,d as Y,e as H}from"./monaco-editor-621d8041.js";import{I as J,r as Q,i as X,n as F,Z as x,f as rr,o as tr,c as er,R as nr,a0 as or}from"./@vue-ebdedd50.js";function K(a,c){var u=Object.keys(a);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);c&&(f=f.filter(function(w){return Object.getOwnPropertyDescriptor(a,w).enumerable})),u.push.apply(u,f)}return u}function ir(a){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?K(Object(u),!0).forEach(function(f){ar(a,f,u[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(u)):K(Object(u)).forEach(function(f){Object.defineProperty(a,f,Object.getOwnPropertyDescriptor(u,f))})}return a}function ar(a,c,u){return c=ur(c),c in a?Object.defineProperty(a,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[c]=u,a}function ur(a){var c=cr(a,"string");return typeof c=="symbol"?c:String(c)}function cr(a,c){if(typeof a!="object"||a===null)return a;var u=a[Symbol.toPrimitive];if(u!==void 0){var f=u.call(a,c||"default");if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}function G(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */G=function(){return a};var a={},c=Object.prototype,u=c.hasOwnProperty,f=Object.defineProperty||function(e,r,t){e[r]=t.value},w=typeof Symbol=="function"?Symbol:{},d=w.iterator||"@@iterator",O=w.asyncIterator||"@@asyncIterator",s=w.toStringTag||"@@toStringTag";function v(e,r,t){return Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[r]}try{v({},"")}catch(e){v=function(t,n,i){return t[n]=i}}function k(e,r,t,n){var i=r&&r.prototype instanceof b?r:b,o=Object.create(i.prototype),p=new D(n||[]);return f(o,"_invoke",{value:Z(e,t,p)}),o}function S(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(n){return{type:"throw",arg:n}}}a.wrap=k;var h={};function b(){}function l(){}function E(){}var y={};v(y,d,function(){return this});var N=Object.getPrototypeOf,T=N&&N(N(I([])));T&&T!==c&&u.call(T,d)&&(y=T);var j=E.prototype=b.prototype=Object.create(y);function V(e){["next","throw","return"].forEach(function(r){v(e,r,function(t){return this._invoke(r,t)})})}function W(e,r){function t(i,o,p,m){var g=S(e[i],e,o);if(g.type!=="throw"){var _=g.arg,L=_.value;return L&&typeof L=="object"&&u.call(L,"__await")?r.resolve(L.__await).then(function(P){t("next",P,p,m)},function(P){t("throw",P,p,m)}):r.resolve(L).then(function(P){_.value=P,p(_)},function(P){return t("throw",P,p,m)})}m(g.arg)}var n;f(this,"_invoke",{value:function(o,p){function m(){return new r(function(g,_){t(o,p,g,_)})}return n=n?n.then(m,m):m()}})}function Z(e,r,t){var n="suspendedStart";return function(i,o){if(n==="executing")throw new Error("Generator is already running");if(n==="completed"){if(i==="throw")throw o;return{value:void 0,done:!0}}for(t.method=i,t.arg=o;;){var p=t.delegate;if(p){var m=$(p,t);if(m){if(m===h)continue;return m}}if(t.method==="next")t.sent=t._sent=t.arg;else if(t.method==="throw"){if(n==="suspendedStart")throw n="completed",t.arg;t.dispatchException(t.arg)}else t.method==="return"&&t.abrupt("return",t.arg);n="executing";var g=S(e,r,t);if(g.type==="normal"){if(n=t.done?"completed":"suspendedYield",g.arg===h)continue;return{value:g.arg,done:t.done}}g.type==="throw"&&(n="completed",t.method="throw",t.arg=g.arg)}}}function $(e,r){var t=r.method,n=e.iterator[t];if(n===void 0)return r.delegate=null,t==="throw"&&e.iterator.return&&(r.method="return",r.arg=void 0,$(e,r),r.method==="throw")||t!=="return"&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+t+"' method")),h;var i=S(n,e.iterator,r.arg);if(i.type==="throw")return r.method="throw",r.arg=i.arg,r.delegate=null,h;var o=i.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,r.method!=="return"&&(r.method="next",r.arg=void 0),r.delegate=null,h):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function q(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function A(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(q,this),this.reset(!0)}function I(e){if(e||e===""){var r=e[d];if(r)return r.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length)){var t=-1,n=function i(){for(;++t<e.length;)if(u.call(e,t))return i.value=e[t],i.done=!1,i;return i.value=void 0,i.done=!0,i};return n.next=n}}throw new TypeError(typeof e+" is not iterable")}return l.prototype=E,f(j,"constructor",{value:E,configurable:!0}),f(E,"constructor",{value:l,configurable:!0}),l.displayName=v(E,s,"GeneratorFunction"),a.isGeneratorFunction=function(e){var r=typeof e=="function"&&e.constructor;return!!r&&(r===l||(r.displayName||r.name)==="GeneratorFunction")},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,v(e,s,"GeneratorFunction")),e.prototype=Object.create(j),e},a.awrap=function(e){return{__await:e}},V(W.prototype),v(W.prototype,O,function(){return this}),a.AsyncIterator=W,a.async=function(e,r,t,n,i){i===void 0&&(i=Promise);var o=new W(k(e,r,t,n),i);return a.isGeneratorFunction(r)?o:o.next().then(function(p){return p.done?p.value:o.next()})},V(j),v(j,s,"Generator"),v(j,d,function(){return this}),v(j,"toString",function(){return"[object Generator]"}),a.keys=function(e){var r=Object(e),t=[];for(var n in r)t.push(n);return t.reverse(),function i(){for(;t.length;){var o=t.pop();if(o in r)return i.value=o,i.done=!1,i}return i.done=!0,i}},a.values=I,D.prototype={constructor:D,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!r)for(var t in this)t.charAt(0)==="t"&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var r=this.tryEntries[0].completion;if(r.type==="throw")throw r.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var t=this;function n(_,L){return p.type="throw",p.arg=r,t.next=_,L&&(t.method="next",t.arg=void 0),!!L}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],p=o.completion;if(o.tryLoc==="root")return n("end");if(o.tryLoc<=this.prev){var m=u.call(o,"catchLoc"),g=u.call(o,"finallyLoc");if(m&&g){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(m){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!g)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(r,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&u.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&(r==="break"||r==="continue")&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var p=o?o.completion:{};return p.type=r,p.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(p)},complete:function(r,t){if(r.type==="throw")throw r.arg;return r.type==="break"||r.type==="continue"?this.next=r.arg:r.type==="return"?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):r.type==="normal"&&t&&(this.next=t),h},finish:function(r){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===r)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function(r){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===r){var i=n.completion;if(i.type==="throw"){var o=i.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(r,t,n){return this.delegate={iterator:I(r),resultName:t,nextLoc:n},this.method==="next"&&(this.arg=void 0),h}},a}function R(a,c,u,f,w,d,O){try{var s=a[d](O),v=s.value}catch(k){u(k);return}s.done?c(v):Promise.resolve(v).then(f,w)}function U(a){return function(){var c=this,u=arguments;return new Promise(function(f,w){var d=a.apply(c,u);function O(v){R(d,f,w,O,s,"next",v)}function s(v){R(d,f,w,O,s,"throw",v)}O(void 0)})}}var lr=J({__name:"Editor",props:{lang:{default:"typescript"},modelValue:{default:""},options:{default:function(){return{}}},height:{default:"300px"},readonly:{type:Boolean,default:!1},dark:{type:Boolean,default:!1},border:{type:Boolean},minimap:{type:Boolean,default:!1}},emits:["change","blur"],setup:function(c,u){var f=u.expose,w=u.emit,d=c;self.MonacoEnvironment={createTrustedTypesPolicy:void 0,getWorker:function(b,l){return l==="json"&&B?new B:["css","scss","less"].includes(l)&&C?new C:["html","handlebars","razor","vue"].includes(l)&&M?new M:["typescript","javascript"].includes(l)&&z?new z:Y?new Y:Promise.resolve({})}};var O=Q(),s=null,v=function(){var h=U(G().mark(function b(){var l;return G().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(y.t0=s,!y.t0){y.next=5;break}return y.next=4,(l=s.getAction("editor.action.formatDocument"))===null||l===void 0?void 0:l.run();case 4:s.setValue(s.getValue());case 5:case"end":return y.stop()}},b)}));return function(){return h.apply(this,arguments)}}(),k=function(){var h=U(G().mark(function b(){var l;return G().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,v();case 2:w("blur",(l=s)===null||l===void 0?void 0:l.getValue());case 3:case"end":return y.stop()}},b)}));return function(){return h.apply(this,arguments)}}(),S=function(){s=H.create(O.value,ir({value:d.modelValue,language:d.lang,readOnly:d.readonly,theme:d.dark?"vs-dark":"vs",automaticLayout:!0,minimap:{enabled:d.minimap}},d.options)),s.onDidChangeModelContent(function(b){var l;w("change",(l=s)===null||l===void 0?void 0:l.getValue(),b)}),s.onDidBlurEditorText(k)};return X(function(){F(S)}),x(function(){s&&s.dispose()}),rr(function(){return d.modelValue},function(h){s&&s.setValue(h)}),f({getEditor:function(){return s}}),function(h,b){return tr(),er("div",{class:nr(["vtj-code-editor",{"is-border":d.border}]),ref_key:"container",ref:O,style:or({height:d.height})},null,6)}}});export{lr as default};
